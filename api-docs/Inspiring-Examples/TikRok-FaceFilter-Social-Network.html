<!DOCTYPE html><html><head>
    <title>Video social network - Kaltura VPaaS API Documentation</title>
    <base href="/">
    <link rel="icon" href="assets/favicon.ico">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta content="width=device-width, initial-scale=1, minimum-scale=1.0, user-scalable=no" name="viewport">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-68472312-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-68472312-3');
</script>


    <script type="text/javascript">
      window.lucybot = {};
      function checkBooleanQueryParam(name) {
        return !!window.location.href.substring(window.location.href.indexOf('?')).match(new RegExp('[?&]' + name + '=[^0f]'));
      }
      window.lucybot.openapi = {};
      window.lucybot.prerender = checkBooleanQueryParam('prerender');
      window.lucybot.embed = checkBooleanQueryParam('embed');
      window.lucybot.showNavigation = checkBooleanQueryParam('showNavigation');
    </script>

  <link href="styles.bundle.css" rel="stylesheet"><style ng-transition="lucybot-doc-app">.discussion-frame[_ngcontent-c0] {
        border: 1px solid #333;
        width: 100%;
        height: 400px;
      }
      .docs-contents[_ngcontent-c0], search-results[_ngcontent-c0] {
        max-width: 800px;
      }</style><style ng-transition="lucybot-doc-app">.nav-tabs[_ngcontent-c1] {
        margin-bottom: 15px;
      }</style><meta name="title" content="Video social network - Kaltura VPaaS API Documentation"><meta name="description" content="Full documentation for the Kaltura VPaaS API"><meta name="keywords" content=""></head>

  <body>
    <div id="Navbar"><div id="KalturaSignInModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h3 class="modal-title">Log in to your Kaltura.com account</h3>
      </div>
      <form onsubmit="startKalturaLogin(); return false">
        <div class="modal-body">
          <div style="display:none" class="alert alert-danger">
            There was an error signing in. Please check your account details and try again.
          </div>
          <p>Log into your Kaltura account using your e-mail and password</p>
          <label>E-mail</label>
          <div class="form-group">
            <input class="form-control" type="text" name="KalturaEmail">
          </div>
          <div class="partner-id-input">
            <label>Partner ID</label>
            <div class="form-group">
              <input class="form-control" type="number" name="KalturaPartnerId">
            </div>
          </div>
          <label>Password</label>
          <div class="form-group">
            <input class="form-control" type="password" name="KalturaPassword">
          </div>
          <label>One Time Authentication code (leave empty if OTP is not enabled for your partner[s])</label>
          <div class="form-group">
            <input class="form-control" type="password" name="OTP">
          </div>
          <hr>
          <p>Or use a pre-generated Kaltura Session</p>
          <label>Kaltura Session ID (ks)</label>
          <div class="form-group">
            <input class="form-control" type="text" name="KalturaSession">
          </div>
        </div>
        <div class="modal-footer">
          <p class="text-left">Need an account? <a href="https://vpaas.kaltura.com/register.php?utm_source=developertools&amp;utm_campaign=login&amp;utm_medium=website">Try Kaltura for free!</a></p>
          <button id="KalturaSignInButton" type="submit" class="btn btn-primary">Log In</button>
        </div>
      </form>
    </div>
  </div>
</div>

<div id="KalturaPartnerIDModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h3 class="modal-title">Choose a Kaltura Account</h3>
      </div>
      <div class="modal-body">
        <p>Please choose a Kaltura Account ID (aka Partner ID) to use</p>
        <div class="dropdown">
          <a class="btn btn-default dropdown-toggle" data-toggle="dropdown">Account ID <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu"><li><i class="fa fa-spin fa-refresh"></i></li></ul>
        </div>
        <h1 class="text-center kaltura-loading"><i class="fa fa-spin fa-refresh"></i></h1>
      </div>
    </div>
  </div>
</div>

<div id="KalturaContinueSessionModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h3 class="modal-title">Your session is about to expire</h3>
      </div>
      <div class="modal-body">
        <p>Would you like to continue your session?</p>
        <p>
          </p><div class="btn-toolbar">
            <a class="btn btn-primary" onclick="kalturaUser &amp;&amp; kalturaUser.ks ? setKalturaUser(kalturaUser) : jquery('#KalturaSignInModal').modal('show')" data-dismiss="modal">Continue</a>
            <a class="btn btn-default" onclick="setKalturaUser(null)" data-dismiss="modal">Sign out</a>
          </div>
        <p></p>
      </div>
    </div>
  </div>
</div>

<div id="KalturaSecretsModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h3 class="modal-title">Account Secrets</h3>
      </div>
      <div class="modal-body">
        <p><label>User Secret:&nbsp;</label><span class="kalturaUserSecret"></span></p>
        <p><label>Admin Secret:&nbsp;</label><span class="kalturaAdminSecret"></span></p>
      </div>
    </div>
  </div>
</div>

<nav id="KalturaNav" class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#NavbarCollapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <i class="fa fa-bars"></i>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/homepage/assets/images/Kaltura-logo.png">
        <span class="brand-subtitle">Developer</span>
      </a>
    </div>
    <div id="NavbarCollapse" class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="navbar-link">
          <a href="api-docs">API Docs</a>
        </li>
        <li class="navbar-link">
	  <a href="https://developer.kaltura.com/player/">Player</a>
        </li>
        <li class="navbar-link">
          <a href="console">Console</a>
        </li>
        <li class="navbar-link workflows-link">
          <a href="workflows">Workflows</a>
        </li>
        <li class="navbar-link">
          <a href="api-docs/Client_Libraries">Client Libraries</a>
        </li>
        <li class="navbar-link">
          <a href="api-docs/Sample_applications">Inspiring Examples</a>
          <!-- navbar.html-->
        </li>
      </ul>
    </div>
  </div>
</nav>

<div id="KalturaSidebar">
  <div class="sidebar-content">
    <div class="section">
      <h4>Admin</h4>
      <hr>
      <div class="not-logged-in">
        <p><i>Log in to see your account details</i></p>
      </div>
      <div class="logged-in" style="display:none">
        <p><label>Partner ID:&nbsp;</label><span class="partnerId"></span></p>
        <p id="KalturaShowSecrets">
          <a onclick="window.jquery('#KalturaSecrets').show(); window.jquery('#KalturaShowSecrets').hide()">Show secrets</a>
        </p>
        <div id="KalturaSecrets" style="display:none">
          <p><label>User Secret:&nbsp;</label><span class="kalturaUserSecret"></span></p>
          <p><label>Admin Secret:&nbsp;</label><span class="kalturaAdminSecret"></span></p>
        </div>
      </div>
    </div>
    <div class="section">
      <h4>Resources</h4>
      <hr>
      <p><a target="_blank" href="api-docs">API Docs</a></p>
      <p><a target="_blank" href="console">API Console</a></p>
    </div>

    <div class="section">
      <h4>From our blog</h4>
      <hr>
      <div id="KalturaBlogContent"></div>
    </div>
  </div>
  <div class="sidebar-button">
    <a class="hide-sidebar" onclick="hideKalturaSidebar()"><i class="fa fa-times"></i></a>
    <a class="show-sidebar" style="display: none" onclick="showKalturaSidebar()">
      <img src="assets/img/notes.svg">
    </a>
  </div>
</div>

<script>
var keepNav = true;
var keepSidebar = true;
if (window.lucybot.embed) {
  keepNav = false;
  if (!window.lucybot.showNavigation) {
    keepSidebar = false;
  }
}

if (!keepNav) {
  var elem = document.getElementById('KalturaNav');
  if (elem) elem.remove();
} else {
  document.getElementsByTagName('body')[0].className += ' spaced-for-kaltura-nav';
}
if (!keepSidebar) {
  var elem = document.getElementById('KalturaSidebar');
  if (elem) elem.remove();
} else {
  document.getElementsByTagName('body')[0].className += ' spaced-for-kaltura-sidebar';
}
</script>

</div>

    <app class="loading" ng-version="5.2.9">
      <router-outlet></router-outlet><documentation _nghost-c0="" class="ng-star-inserted"><auth _ngcontent-c0="" _nghost-c1=""><!----><div _ngcontent-c1="" class="modal fade ng-star-inserted" id="AuthenticationModal" tabindex="-1"><div _ngcontent-c1="" class="modal-dialog"><form _ngcontent-c1="" class="modal-content ng-untouched ng-pristine ng-valid" novalidate=""><div _ngcontent-c1="" class="modal-header"><button _ngcontent-c1="" aria-label="Close" class="close" data-dismiss="modal" type="button"><i _ngcontent-c1="" class="fa fa-times"></i></button><div _ngcontent-c1="" class="modal-title"><h3 _ngcontent-c1="">API Authorization</h3></div></div><div _ngcontent-c1="" class="modal-body"><!----><ul _ngcontent-c1="" class="nav nav-tabs nav-justified" hidden=""><!----><li _ngcontent-c1="" class="active ng-star-inserted"><a _ngcontent-c1="" innerhtml="ks">ks</a></li></ul><!----><div _ngcontent-c1="" class="ng-star-inserted"><div _ngcontent-c1="" class="form-group"><label _ngcontent-c1="" innerhtml="ks">ks</label><input _ngcontent-c1="" class="form-control ng-untouched ng-pristine ng-valid" name="apiKey" type="text" value=""></div></div><!----><!----></div><div _ngcontent-c1="" class="modal-footer"><!----><button _ngcontent-c1="" class="btn btn-success" type="submit"><!----><span _ngcontent-c1="" class="ng-star-inserted">Authorize</span><!----></button></div></form></div></div></auth><div _ngcontent-c0="" class="container-fluid main-container" id="Documentation"><side-menu _ngcontent-c0="" basepage="documentation"><div class="row"><div class="col-xs-12 side-menu-col col-sm-4 col-md-3"><a class="btn btn-default visible-xs show-menu-mobile-button" style=""><!----><span class="ng-star-inserted"><span>Navigate</span><i class="fa fa-right fa-caret-down"></i></span><!----></a><a class="btn btn-default show-menu-button hidden-xs" hidden=""><i class="fa fa-bars"></i></a><div class="side-menu hidden-xs"><h6 class="menu-heading"><!----><span class="ng-star-inserted">Navigation</span><!----><!----><div class="close-menu-button pull-right"><a><i class="fa fa-times"></i></a></div></h6><div class="input-group input-group-sm"><input class="form-control ng-untouched ng-pristine ng-valid" type="text" value=""><span class="input-group-btn"><!----><a class="btn btn-default ng-star-inserted"><span>&nbsp;</span><i class="fa fa-search"></i><span>&nbsp;</span></a><!----></span></div><div class="menu-items"><!----><side-menu-item class="ng-tns-c5-0 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-0 inactive truncate ng-star-inserted" preservefragment="" preservequeryparams="" title="Overview" href="/api-docs/Overview"><span class="ng-tns-c5-0" innerhtml="Overview">Overview</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-1 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-1 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Getting Started" href="/api-docs/VPaaS-API-Getting-Started"><span class="ng-tns-c5-1" innerhtml="Getting Started">Getting Started</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-2 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-2 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Client Libraries" href="/api-docs/Client_Libraries"><span class="ng-tns-c5-2" innerhtml="Client Libraries">Client Libraries</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-3 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-3 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="XML Schemas" href="/api-docs/XML_Schemas"><span class="ng-tns-c5-3" innerhtml="XML Schemas">XML Schemas</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-4 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-4 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Generate API Sessions" href="/api-docs/Generate_API_Sessions"><span class="ng-tns-c5-4" innerhtml="Generate API Sessions">Generate API Sessions</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-5 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-5 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Ingest and Upload Media" href="/api-docs/Ingest_and_Upload_Media"><span class="ng-tns-c5-5" innerhtml="Ingest and Upload Media">Ingest and Upload Media</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-6 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-6 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Execute Bulk Ingest and Updates" href="/api-docs/Execute_Bulk_Ingest_and_Updates"><span class="ng-tns-c5-6" innerhtml="Execute Bulk Ingest and Updates">Execute Bulk Ingest and Updates</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-7 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-7 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Convert and Transcode Media" href="/api-docs/Convert_and_Transcode_Media"><span class="ng-tns-c5-7" innerhtml="Convert and Transcode Media">Convert and Transcode Media</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-8 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-8 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Live Stream and Broadcast" href="/api-docs/Live_Stream_and_Broadcast"><span class="ng-tns-c5-8" innerhtml="Live Stream and Broadcast">Live Stream and Broadcast</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-9 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-9 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Enrich and Organize Metadata" href="/api-docs/Enrich_and_Organize_Metadata"><span class="ng-tns-c5-9" innerhtml="Enrich and Organize Metadata">Enrich and Organize Metadata</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-10 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-10 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Search, Discover and Personalize" href="/api-docs/Search_Discover_and_Personalize"><span class="ng-tns-c5-10" innerhtml="Search, Discover and Personalize">Search, Discover and Personalize</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-11 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-11 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Engage and Publish" href="/api-docs/Engage_and_Publish"><span class="ng-tns-c5-11" innerhtml="Engage and Publish">Engage and Publish</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-12 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-12 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Media Analytics" href="/api-docs/Media_Analytics"><span class="ng-tns-c5-12" innerhtml="Media Analytics">Media Analytics</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-13 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-13 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Deliver and Distribute Media" href="/api-docs/Deliver_and_Distribute_Media"><span class="ng-tns-c5-13" innerhtml="Deliver and Distribute Media">Deliver and Distribute Media</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-14 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-14 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Secure, Control and Govern" href="/api-docs/Secure_Control_and_Govern"><span class="ng-tns-c5-14" innerhtml="Secure, Control and Govern">Secure, Control and Govern</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-15 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-15 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Integration, Scheduling and Hooks" href="/api-docs/Integration_Scheduling_and_Hooks"><span class="ng-tns-c5-15" innerhtml="Integration, Scheduling and Hooks">Integration, Scheduling and Hooks</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-16 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-16 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Encrypt and License Content" href="/api-docs/Encrypt_and_License_Content"><span class="ng-tns-c5-16" innerhtml="Encrypt and License Content">Encrypt and License Content</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-17 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-17 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Manage Documents and Other Assets" href="/api-docs/Manage_Documents_and_Other_Assets"><span class="ng-tns-c5-17" innerhtml="Manage Documents and Other Assets">Manage Documents and Other Assets</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-18 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-18 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Manage and Deliver Apps and Widgets" href="/api-docs/Manage_and_Deliver_Apps_and_Widgets"><span class="ng-tns-c5-18" innerhtml="Manage and Deliver Apps and Widgets">Manage and Deliver Apps and Widgets</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-19 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-19 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Manage Backend and Storage" href="/api-docs/Manage_Backend_and_Storage"><span class="ng-tns-c5-19" innerhtml="Manage Backend and Storage">Manage Backend and Storage</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-20 ng-star-inserted" hidden=""><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-20 inactive truncate ng-star-inserted" preservefragment="" preservequeryparams="" title="Miscellaneous" href="/api-docs/Miscellaneous"><span class="ng-tns-c5-20" innerhtml="Miscellaneous">Miscellaneous</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-21 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary"></i><!----><!----><a class="title ng-tns-c5-21 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Sample applications" href="/api-docs/Sample_applications"><span class="ng-tns-c5-21" innerhtml="Sample applications">Sample applications</span></a></div><!----><div class="side-menu-children ng-tns-c5-21 ng-trigger ng-trigger-shrinkOut ng-star-inserted"><!----><side-menu-item class="ng-tns-c5-25 ng-tns-c5-21 ng-star-inserted" style=""><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary"></i><!----><!----><a class="title ng-tns-c5-25 active ng-star-inserted" preservefragment="" preservequeryparams="" title="Video social network" href="/api-docs/Inspiring-Examples/TikRok-FaceFilter-Social-Network.html"><span class="ng-tns-c5-25" innerhtml="Video social network">Video social network</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-26 ng-tns-c5-21 ng-star-inserted" style=""><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-26 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Meetabout: Kaltura Virtual Rooms Example" href="/api-docs/Inspiring-Examples/Meetabout-Virtual-Rooms-App.html"><span class="ng-tns-c5-26" innerhtml="Meetabout: Kaltura Virtual Rooms Example">Meetabout: Kaltura Virtual Rooms Example</span></a></div><!----></side-menu-item></div></side-menu-item><side-menu-item class="ng-tns-c5-22 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-22 inactive truncate ng-star-inserted" preservefragment="" preservequeryparams="" title="Contribute" href="/api-docs/Contribute"><span class="ng-tns-c5-22" innerhtml="Contribute">Contribute</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-23 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-23 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="General Objects" href="/api-docs/General_Objects"><span class="ng-tns-c5-23" innerhtml="General Objects">General Objects</span></a></div><!----></side-menu-item><side-menu-item class="ng-tns-c5-24 ng-star-inserted"><div class="side-menu-item"><i class="fa fa-left fa-ellipsis-v text-primary" hidden=""></i><!----><!----><a class="title ng-tns-c5-24 inactive ng-star-inserted" preservefragment="" preservequeryparams="" title="Error Codes" href="/api-docs/Error_Codes"><span class="ng-tns-c5-24" innerhtml="Error Codes">Error Codes</span></a></div><!----></side-menu-item></div></div></div><div class="col-xs-12 col-sm-8 col-md-9"><h1 _ngcontent-c0="" class="breadcrumbs"><span _ngcontent-c0="">Kaltura API Documentation</span><!----><span _ngcontent-c0="" class="ng-star-inserted"><i _ngcontent-c0="" class="fa fa-chevron-right"></i><span _ngcontent-c0="">Video social network</span></span><!----></h1><!----><div _ngcontent-c0=""><!----><div _ngcontent-c0="" class="docs-body"><!----><!----><div _ngcontent-c0="" class="docs-contents">  <title>Create a Video Social Network in 20 Minutes</title>

  <meta name="description" content="VPaaS allows you to build cloud video services, supplies SDKs, and works on all devices, media workflows, and applications. Pay as you go. 
">
    <meta property="st:title" content="Create a Video Social Network in 20 Minutes">
    <meta property="st:published_at" content="">



<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>




<script>
window.jQuery = window.jquery;
</script>


  

<script type="text/javascript">
    try{Typekit.load();}catch(e){}
  </script>


  <link rel="apple-touch-icon" href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  

<script type="text/javascript">
    var switchTo5x=true;
  </script>


  

<script type="text/javascript">var switchTo5x=true;</script>



  


<script type="text/javascript">
    	
	//back to top
	if ($('#back-to-top').length) {
    		var scrollTrigger = 100, // px
	        backToTop = function () {
	            var scrollTop = $(window).scrollTop();
	            if (scrollTop > scrollTrigger) {
	                $('#back-to-top').addClass('show');
	            } else {
	                $('#back-to-top').removeClass('show');
	            }
	        };
	    backToTop();
	    $(window).on('scroll', function () {
	        backToTop();
	    });
	    $('#back-to-top a:first-child').on('click', function (e) {
	        e.preventDefault();
	        $('html,body').animate({
	            scrollTop: 0
	        }, 700);
	    });
	}

</script>





<script src="https://www.google.com/recaptcha/api.js"></script>




<script>
function verify_recapcha()
{
	var isCaptchaValidated = false;
	var response = grecaptcha.getResponse();
	if(response.length == 0) {
	    isCaptchaValidated = false;
	    alert('Please confirm that you are a Human.');
	    return false;
	} else {
	    return true;
	}

}
</script>


<!--script type="text/javascript" src="assets/js/webflow.js"></script>




<script type="text/javascript" src="assets/js/opentip-jquery.js"></script-->
    <!--script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("176893769");
  </script-->

<!--link rel="stylesheet" type="text/css" href="assets/css/lity.min.css"-->
<!--script type="text/javascript" src="assets/js/lity.min.js"></script-->

  <!-- RTP tag -->


<script type="text/javascript">
(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
})(window,document,"rtp","https://sjrtp3-cdn.marketo.com/rtp-api/v1/rtp.js","kaltura");
rtp('send','view');
rtp('get', 'campaign',true);
</script>


<!-- End of RTP tag -->




    <div class="page-content">
      <div class="wrapper">
          <!--link rel="stylesheet" href="/site.css"-->
<article>


<div class="w-section side-nav-section">
    <div class="w-container">
      <!--a href="#" data-ix="show-temp-page-nav-column" class="w-button w-clearfix mobilebtn">Topics<span class="fa fa-chevron-down" style="null"></span></a-->
      <div class="w-row body-columns">
        <div class="docs-contents">
          <div class="post-header">

            <!-- INSERT JEKYLL CONTENT HERE -->

          	<header class="post-header">
    			<h1 class="post-title">Create a Video Social Network in 20 Minutes</h1>
  			</header>

			
			
			<div class="lastcommittable">
				<span>Updated: Thu Nov 12 07:19:38 2020</span>, By <span class="commit-author">Hunter Peress</span> <a class="editgithub" href="https://github.com/kaltura/developer-platform-docs/tree/master/documentation/Inspiring-Examples/TikRok-FaceFilter-Social-Network.md" target="_blank">Contribute to this page</a>
				<!--tr><td>Created on: Thu Oct 29 11:16:37 2020, By: Hunter Peress</td></tr-->
				<!--tr><td>Last commit: Thu Nov 12 07:19:38 2020, By <span class="commit-author">Jess Portnoy</span></td></tr-->
			
				<!-- 
				
				<tr>
					<td>Hunter Peress (3 commits) (<a href="mailto:hunter.p@h.p">hunter.p@h.p</a>)</td>
				</tr> -->

				<!-- 
				
				<tr>
					<td>Hunter Peress (1 commits) (<a href="mailto:hunter.peress@kaltura.com">hunter.peress@kaltura.com</a>)</td>
				</tr> -->

				<!-- 
				
				<tr>
					<td>Hunterpp (3 commits) (<a href="mailto:hunter.p@h.p">hunter.p@h.p</a>)</td>
				</tr> -->

				<!-- 
				
				<tr>
					<td>Jess Portnoy (1 commits) (<a href="mailto:jess.portnoy@kaltura.com">jess.portnoy@kaltura.com</a>)</td>
				</tr> -->

				<!--  -->

			</div>

			

		</div>

            <div class="post-content">
    		
		<h2 id="creating-your-own-video-social-network-in-under-20-minutes">
        
        
          Creating Your Own Video Social Network in Under 20 Minutes! <a href="#creating-your-own-video-social-network-in-under-20-minutes"></a>
        
        
      </h2>

<p>In this tutorial, you will build an MVP of a social network (aka TikRok) powered by Kaltura. Tikrok is a fully functional social network. Users can record videos using a built-in face filter, upload them, and browse other users’ videos.</p>

<p><img src="/assets/images/tikrok/HighLevel.png" alt="HighLevel"></p>
    
      <h2 id="try-it-live">
        
        
          Try it Live: <a href="#try-it-live"></a>
        
        
      </h2>

<p>https://tik-rok.herokuapp.com/</p>
    
      <h2 id="video-code-walkthrough">
        
        
          Video Code Walkthrough: <a href="#video-code-walkthrough"></a>
        
        
      </h2>

<iframe type="text/javascript" src="https://cdnapisec.kaltura.com/p/3033241/embedPlaykitJs/uiconf_id/46516743?iframeembed=true&amp;entry_id=1_go6ouh1n" style="width: 560px;height: 395px" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" frameborder="0"></iframe>
    
      <h2 id="design-choices">
        
        
          Design Choices <a href="#design-choices"></a>
        
        
      </h2>

<p>Many shortcuts were taken in order to give you the barebones, simplest implementation of this concept aka an MVP. I chose a web front end to give a low barrier to entry across any platform. While recording does not work on all mobile browsers, the face filters do, and a more robust implementation could make use of Kaltura’s many <a href="https://developer.kaltura.com/api-docs/Client_Libraries">Client Libraries</a></p>
    
      <h2 id="this-is-just-a-kernel">
        
        
          This is just a kernel… <a href="#this-is-just-a-kernel"></a>
        
        
      </h2>

<p>Don’t limit yourself to copying TikRok, the purpose of this tutorial is to ignite your creativity. There are so many directions you <strong>could</strong> go in, for example, there are open source emotion recognition engines. Why not make an app that detects if someone is sad or angry and notify their friends they need cheering up? Food for thought. And it doesn’t have to be entertaining, think healthcare/covid-19, think education, think business, think food, fashion, music, finance, holidays, think what can I do with face detection, an augmented reality canvas or just something creative with video?</p>

<p><img src="/assets/images/tikrok/HAPPY.jpg" alt="HAPPY" style="zoom:30%;"></p>

<p>From https://github.com/justadudewhohacks/face-api.js/</p>
    
      <h2 id="introducing-tikrok">
        
        
          Introducing TikRok <a href="#introducing-tikrok"></a>
        
        
      </h2>

<p>This sample, fully functional social network lets you use a funny face filter to make a video, upload it, browse everyone’s videos, and gives users their own page.</p>
    
      <h2 id="getting-started">
        
        
          Getting Started <a href="#getting-started"></a>
        
        
      </h2>

<ol>
  <li>
    <p>First, you will need a free Kaltura account: start a <a href="https://corp.kaltura.com/video-paas/registration?utm_campaign=Tikrok&amp;utm_medium=affiliates&amp;utm_source=GitHub">free trial</a></p>
  </li>
  <li>
    <p>Clone the TikRok Github repo https://github.com/kaltura-vpaas/example-tikrok</p>
  </li>
  <li>
    <p>Let’s take a look at .env.template:</p>

    <div class="language-ini highlighter-rouge"><pre class="highlight"><code><span class="py">ADMIN_SECRET</span><span class="p">=</span>   <span class="s">//obtain from https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings</span>
<span class="py">PARTNER_ID</span><span class="p">=</span>     <span class="s">//obtain from https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings</span>
<span class="py">PLAYER_ID</span><span class="p">=</span>      <span class="s">//obtain from https://kmc.kaltura.com/index.php/kmcng/studio/v3</span>
</code></pre>
    </div>

    <p>Copy  <code class="highlighter-rouge">.env.template</code> to <code class="highlighter-rouge">.env</code> and edit the values above.</p>

    <p>We need to get your Kaltura Partner Id and API Admin Secret so let’s head over to <a href="https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings">Integration Settings tab</a></p>

    <p><img src="/assets/images/tikrok/KMC_CODES.png" alt="KMC_CODES" style="zoom:45%;"></p>
  </li>
</ol>

<p>Head to https://kmc.kaltura.com/index.php/kmcng/studio/v3 , create a player and get its ID. Make sure to create your player through the “TV Platform Studio” as pictured:</p>

<p><img src="/assets/images/tikrok/KMC_PLAYER.png" alt="KMC_PLAYER.png" style="zoom:50%;"></p>

<ol>
  <li>Install the components for node:</li>
</ol>

<p><code class="highlighter-rouge">npm install</code></p>

<ol>
  <li>
    <p><strong>Its Showtime!!</strong> run</p>

    <p><code class="highlighter-rouge">npm start</code></p>

    <p>and head to</p>

    <p><code class="highlighter-rouge">http://localhost:3000</code></p>
  </li>
</ol>
    
      <h2 id="connecting-the-back-end-to-kaltura">
        
        
          Connecting the back end to Kaltura <a href="#connecting-the-back-end-to-kaltura"></a>
        
        
      </h2>

<p>Pick a screen name and hit go:</p>

<p><img src="/assets/images/tikrok/SCREEN_NAME.png" alt="SCREEN_NAME"></p>

<p>The next touch point is the <code class="highlighter-rouge">router.post('/', </code>method of <code class="highlighter-rouge">routes/login.js</code></p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">adminks</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">KalturaClientFactory</span><span class="p">.</span><span class="nx">getKS</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nx">kaltura</span><span class="p">.</span><span class="nx">enums</span><span class="p">.</span><span class="nx">SessionType</span><span class="p">.</span><span class="nx">ADMIN</span><span class="p">});</span>
<span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">KalturaClientFactory</span><span class="p">.</span><span class="nx">getClient</span><span class="p">(</span><span class="nx">adminks</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">getOrCreateUser</span><span class="p">(</span><span class="nx">client</span><span class="p">,</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">userId</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">userKs</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">KalturaClientFactory</span><span class="p">.</span><span class="nx">getKS</span><span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">,{</span><span class="na">privileges</span><span class="p">:</span> <span class="s1">'editadmintags:*'</span><span class="p">});</span>
</code></pre>
</div>

<p>Take a look at <code class="highlighter-rouge">lib/KalturaClientFactory.js</code> to see how the <a href="https://developer.kaltura.com/api-docs/VPaaS-API-Getting-Started/how-to-create-kaltura-session.html">Kaltura Session</a> is created</p>

<p>We first create an admin session <code class="highlighter-rouge">adminks</code> which is required to create a user. Then we create a user session <code class="highlighter-rouge">userKs</code>  and store the <code class="highlighter-rouge">userKs</code> to the node session so it can be used later.</p>

<p><code class="highlighter-rouge">req.session.ks = userKs;</code></p>

<p>And then we are redirected to the <strong><em>REALLY</em></strong> fun stuff: the face filter!</p>
    
      <h2 id="the-face-filter">
        
        
          The Face Filter <a href="#the-face-filter"></a>
        
        
      </h2>

<p>We will use the open source face filter library https://github.com/jeeliz/jeelizFaceFilter There is nothing stopping you from getting very creative with these filters! You could supply your own artwork….the sky is the limit!</p>

<p>Here is a high level overview of the video creation work flow:</p>

<p><img src="/assets/images/tikrok/FaceFilter.png" alt="FaceFilter"></p>

<p>By itself, the face filter demo displays to a canvas element. Some of the demo’s use <code class="highlighter-rouge">&lt;divs&gt;</code> to display graphics on top of a canvas, those demos won’t work with our approach as we can only record what is actually on the canvas</p>
    
      <h3 id="loading-and-switching-filters">
        
        
          Loading and Switching Filters <a href="#loading-and-switching-filters"></a>
        
        
      </h3>

<p>First, let’s set up the filter:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;style </span><span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
<span class="nc">.vidsize</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span><span class="m">600px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span><span class="m">600px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body</span> <span class="na">onload=</span><span class="s">"init_filter()"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"vidsize"</span> <span class="na">style=</span><span class="s">"margin:0 auto;position: relative;"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"loading"</span> <span class="na">class=</span><span class="s">"loading"</span><span class="nt">&gt;</span>
            Loading Filter 
            <span class="nt">&lt;br&gt;</span>
            <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"loading"</span> <span class="na">src=</span><span class="s">"//assets/images/tikrok/loading_black.png"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"filterRow"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">onclick=</span><span class="s">"loadFilter('football')"</span><span class="nt">&gt;</span>🇫🇷<span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">onclick=</span><span class="s">"loadFilter('angel')"</span><span class="nt">&gt;</span>😇😈<span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">onclick=</span><span class="s">"loadFilter('deform')"</span><span class="nt">&gt;</span>🥴<span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">onclick=</span><span class="s">"loadFilter('faceswap')"</span><span class="nt">&gt;</span>😀🔄😀<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"filterBtn"</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">onclick=</span><span class="s">"filterBtnToggle()"</span><span class="nt">&gt;</span>😃<span class="nt">&lt;/a&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;canvas</span> <span class="na">width=</span><span class="s">"600"</span> <span class="na">height=</span><span class="s">"600"</span> <span class="na">id=</span><span class="s">'jeeFaceFilterCanvas'</span><span class="nt">&gt;&lt;/canvas&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"controls"</span> <span class="na">class=</span><span class="s">"vidsize"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>

<p>So <code class="highlighter-rouge">onload</code> calls the <code class="highlighter-rouge">initFilter()</code> method from the default filter at <code class="highlighter-rouge">public/filters/deform/deform.js</code> which sets up the canvas element to render the face filter over webcam video. I created a naming convention the code uses to switch filters and it is:</p>

<p><code class="highlighter-rouge">public/filters/filtername/filtername.js</code> and each filter has the same initFilter() method. When <code class="highlighter-rouge">loadFilter(filter)</code> is called it actually routes us to a completely different webpage:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function loadFilter(filter) {
	window.onbeforeunload = null;
  window.location = "/record?filter="+filter
</code></pre>
</div>

<p>And the filter is loaded through a query parameter:</p>

<p><code class="highlighter-rouge">&lt;script src='facefilter/filters/&lt;%=filter%&gt;/&lt;%=filter%&gt;.js'&gt;&lt;/script&gt;</code></p>

<p>Nothing is stopping you from switching filters entirely in javascript, just some refactoring would be necessary.</p>

<p>In case you are wondering about the <code class="highlighter-rouge">#loading</code> animated png…it displays by default on page load, and then is hidden by each of the four filters by calling</p>

<div class="highlighter-rouge"><pre class="highlight"><code>  $("#loading").hide();
} //end init_threeScene()
</code></pre>
</div>

<p>in <code class="highlighter-rouge">deform.js</code></p>
    
      <h3 id="setup-kaltura-express-recorder">
        
        
          Setup Kaltura Express Recorder <a href="#setup-kaltura-express-recorder"></a>
        
        
      </h3>

<p>In <code class="highlighter-rouge">views/record.ejs</code> we will use the <a href="https://developer.kaltura.com/api-docs/Ingest_and_Upload_Media/express-recorder.html">Kaltura Express Recorder</a>, which has the option to record a canvas element and combine it with your webcam’s audio.</p>

<p><strong>Note</strong>:The github for TikRok includes a forked “canvas” version of express recorder named <code class="highlighter-rouge">kaltura-canvas-express-recorder.js</code></p>

<ol>
  <li><code class="highlighter-rouge">&lt;div id="controls"</code> is where the <a href="https://developer.kaltura.com/api-docs/Ingest_and_Upload_Media/express-recorder.html">Kaltura Express Recorder</a> controls will be injected. These elements must all have the same video size to render properly. Now to instantiate the express recorder:</li>
</ol>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>			 <span class="kr">const</span> <span class="nx">expressRec</span> <span class="o">=</span> <span class="nx">Kaltura</span><span class="p">.</span><span class="nx">ExpressRecorder</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">'controls'</span><span class="p">,</span> <span class="p">{</span>
            <span class="s2">"ks"</span><span class="p">:</span> <span class="s2">"&lt;%=ks%&gt;"</span><span class="p">,</span>
            <span class="s2">"serviceUrl"</span><span class="p">:</span> <span class="s2">"https://www.kaltura.com"</span><span class="p">,</span> <span class="c1">// IE http://www.kaltura.com,</span>
            <span class="s2">"app"</span><span class="p">:</span> <span class="s2">"APP_NAME"</span><span class="p">,</span>
            <span class="s2">"playerUrl"</span><span class="p">:</span> <span class="s2">"https://cdnapi.kaltura.com"</span><span class="p">,</span> <span class="c1">// IE http://cdnapi.kaltura.com,</span>
            <span class="s2">"conversionProfileId"</span><span class="p">:</span> <span class="s2">"CONVERSION_PROFILE_ID"</span><span class="p">,</span>
            <span class="s2">"partnerId"</span><span class="p">:</span> <span class="o">&lt;%=</span><span class="nx">partnerId</span><span class="o">%&gt;</span><span class="p">,</span>
            <span class="s2">"uiConfId"</span><span class="p">:</span> <span class="o">&lt;%=</span><span class="nx">playerId</span><span class="o">%&gt;</span><span class="p">,</span>
            <span class="s2">"canvasId"</span><span class="p">:</span> <span class="s2">"jeeFaceFilterCanvas"</span>
        <span class="p">});</span>
</code></pre>
</div>

<p>We have supplied all relevant id strings from node,  and we specify the canvas to record via <code class="highlighter-rouge">canvasId</code> <a href="https://developer.kaltura.com/api-docs/Ingest_and_Upload_Media/express-recorder.html">Kaltura Express Recorder</a> has many more configuration options and event listeners.</p>

<ol>
  <li>We will also use the express recorder’s event listener interface to create a better UX:</li>
</ol>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code> 				<span class="nx">expressRec</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"recordingStarted"</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
            <span class="c1">//hide the filter buttons when recording has started</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'#filterRow'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'#filterBtn'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
        <span class="p">});</span>
        
        <span class="nx">expressRec</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"recordingCancelled"</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          	<span class="c1">//if use hits cancel button, then show the filters again</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">'#filterBtn'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>   
        <span class="p">});</span>

        <span class="nx">expressRec</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mediaUploadEnded"</span><span class="p">,(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
           <span class="c1">//once upload is finished, then move on to gallery</span>
           <span class="nb">window</span><span class="p">.</span><span class="nx">onbeforeunload</span> <span class="o">=</span> <span class="kc">null</span>
           <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="o">=</span><span class="s2">"/gallery"</span><span class="p">;</span>
        <span class="p">});</span>                  
</code></pre>
</div>

<ol>
  <li>You should see something like this:</li>
</ol>

<p><img src="/assets/images/tikrok/FUNNY.PNG" alt="FUNNY" style="zoom:50%;"></p>
    
      <h2 id="the-gallery-">
        
        
          The Gallery : <a href="#the-gallery-"></a>
        
        
      </h2>

<p>We are taking a very MVP approach to displaying the gallery with a simplifying assumption: this app will be the only source of videos connected to your account. If you want more control over how to organize videos, check out <a href="https://developer.kaltura.com/api-docs/service/playlist">Playlists</a></p>

<p>The express recorder creates a <a href="https://developer.kaltura.com/api-docs/General_Objects/Objects/KalturaMediaEntry">Kaltura Media Entry</a> for your video and associates it with your user id. Our approach will simply list all media in our account via the <a href="https://developer.kaltura.com/console/service/media/action/list">Media.list</a> API call</p>
    
      <h3 id="kaltura-api-console">
        
        
          Kaltura API Console <a href="#kaltura-api-console"></a>
        
        
      </h3>

<p>When you look at <a href="https://developer.kaltura.com/console/service/media/action/list">Media.list</a> in the console:</p>

<p><img src="/assets/images/tikrok/MEDIALIST.png" alt="MEDIALIST"></p>

<p>On the left, we can send the request or add parameters. On the right side you can auto-generate a sample code corresponding to the request on the left from all supported languages.</p>

<p>And the auto-generated code is very close to that of <code class="highlighter-rouge">gallery.js</code> :</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">getMedia</span><span class="p">(</span><span class="nx">client</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">kaltura</span><span class="p">.</span><span class="nx">objects</span><span class="p">.</span><span class="nx">MediaEntryFilter</span>
        <span class="nx">filter</span><span class="p">.</span><span class="nx">orderBy</span> <span class="o">=</span> <span class="nx">kaltura</span><span class="p">.</span><span class="nx">enums</span><span class="p">.</span><span class="nx">MediaEntryOrderBy</span><span class="p">.</span><span class="nx">UPDATED_AT_DESC</span><span class="p">;</span>
       
        <span class="kd">let</span> <span class="nx">pager</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">kaltura</span><span class="p">.</span><span class="nx">objects</span><span class="p">.</span><span class="nx">FilterPager</span><span class="p">();</span>
        <span class="nx">pager</span><span class="p">.</span><span class="nx">pageSize</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>
        <span class="nx">kaltura</span><span class="p">.</span><span class="nx">services</span><span class="p">.</span><span class="nx">media</span>
            <span class="p">.</span><span class="nx">listAction</span><span class="p">(</span><span class="nx">filter</span><span class="p">,</span> <span class="nx">pager</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="nx">client</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">resolve</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
            <span class="p">});</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre>
</div>
    
      <h3 id="animated-thumbnails">
        
        
          Animated thumbnails <a href="#animated-thumbnails"></a>
        
        
      </h3>

<p>We are using https://github.com/kaltura/VideoThumbnailAnimator in <code class="highlighter-rouge">views/gallery.ejs</code> to provide animated thumbnails for the gallery</p>

<pre><code class="language-ejs">    &lt;div id="thumbnails"&gt;
        &lt;%- include('gallery/entries.ejs', {entries: entries}) %&gt;
    &lt;/div&gt;
    &lt;script&gt;
        var thumbAnimator = new KalturaThumbAnimator();
        thumbAnimator.setup("videothumbnail", "http://cfvod.kaltura.com", 0, true); 
    &lt;/script&gt;
</code></pre>
    
      <h2 id="user-page">
        
        
          User Page <a href="#user-page"></a>
        
        
      </h2>
    
      <h3 id="querying-for-users-kaltura-media-entries">
        
        
          Querying for user’s Kaltura Media Entries <a href="#querying-for-users-kaltura-media-entries"></a>
        
        
      </h3>

<p>To display a users videos, We will use <a href="https://developer.kaltura.com/console/service/media/action/list">Media.list</a> but this time we will filter by userId. You can build this query using the API Console:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">kaltura</span><span class="p">.</span><span class="nx">objects</span><span class="p">.</span><span class="nx">MediaEntryFilter</span>
<span class="nx">filter</span><span class="p">.</span><span class="nx">orderBy</span> <span class="o">=</span> <span class="nx">kaltura</span><span class="p">.</span><span class="nx">enums</span><span class="p">.</span><span class="nx">MediaEntryOrderBy</span><span class="p">.</span><span class="nx">UPDATED_AT_DESC</span><span class="p">;</span>
<span class="nx">filter</span><span class="p">.</span><span class="nx">userIdEqual</span> <span class="o">=</span> <span class="nx">userId</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">pager</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">kaltura</span><span class="p">.</span><span class="nx">objects</span><span class="p">.</span><span class="nx">FilterPager</span><span class="p">();</span>
<span class="nx">pager</span><span class="p">.</span><span class="nx">pageSize</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>
<span class="nx">kaltura</span><span class="p">.</span><span class="nx">services</span><span class="p">.</span><span class="nx">media</span><span class="p">.</span><span class="nx">listAction</span><span class="p">(</span><span class="nx">filter</span><span class="p">,</span> <span class="nx">pager</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="nx">client</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">resolve</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
    <span class="p">});</span>
</code></pre>
</div>
    
      <h3 id="playing-video">
        
        
          Playing Video <a href="#playing-video"></a>
        
        
      </h3>

<p>in <code class="highlighter-rouge">views/user.ejs</code></p>

<p>We will be following the steps to set up a player from https://developer.kaltura.com/player/web/getting-started-web</p>

<pre><code class="language-ejs">&lt;script type="text/javascript" 
src="https://cdnapisec.kaltura.com/p/&lt;%=partnerId %&gt;/embedPlaykitJs/uiconf_id/&lt;%=playerId%&gt;"&gt;
&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        try {
            var player = KalturaPlayer.setup({
                targetId: "playerContainer",
                provider: {
                partnerId: &lt;%= partnerId %&gt;,
                uiConfId: &lt;%= playerId %&gt;
                }
            });
        player.loadMedia({ entryId: '&lt;%= entries[0].id %&gt;' });
        } catch (e) {
            console.error(e.message)
        }
    &lt;/script&gt;
</code></pre>

<p>And in <code class="highlighter-rouge">routes/user/post.ejs</code> we will load the player with:</p>

<p><code class="highlighter-rouge">&lt;a href="#" onclick="player.loadMedia({entryId: '&lt;%= entry.id %&gt;'})"&gt;&lt;img src="&lt;%= entry.thumbnailUrl %&gt;"&gt;&lt;/a&gt;</code></p>
    
      <h1 id="and---thats-it">
        
        
          AND - That’s It! <a href="#and---thats-it"></a>
        
        
      </h1>

<p>I hope this tutorial has helped show you how easy it can be to create a canvas-based application in node using the Kaltura VPaaS API</p>
    
      <h1 id="how-you-can-help-guidelines-for-contributors">
        
        
          How you can help (guidelines for contributors) <a href="#how-you-can-help-guidelines-for-contributors"></a>
        
        
      </h1>

<p>Thank you for helping Kaltura grow! If you’d like to contribute please follow these steps:</p>

<ul>
  <li>Use the repository issues tracker to report bugs or feature requests</li>
  <li>Read <a href="https://github.com/kaltura/platform-install-packages/blob/master/doc/Contributing-to-the-Kaltura-Platform.md">Contributing Code to the Kaltura Platform</a></li>
  <li>Sign the <a href="https://agentcontribs.kaltura.org/">Kaltura Contributor License Agreement</a></li>
</ul>
    
      <h1 id="where-to-get-help">
        
        
          Where to get help <a href="#where-to-get-help"></a>
        
        
      </h1>

<ul>
  <li>Join the <a href="https://forum.kaltura.org/">Kaltura Community Forums</a> to ask questions or start discussions</li>
  <li>Read the <a href="https://forum.kaltura.org/faq">Code of conduct</a> and be patient and respectful</li>
</ul>
    
      <h1 id="get-in-touch">
        
        
          Get in touch <a href="#get-in-touch"></a>
        
        
      </h1>

<p>You can learn more about Kaltura and start a free trial <a href="https://corp.kaltura.com/video-paas/registration?utm_campaign=Tikrok&amp;utm_medium=affiliates&amp;utm_source=GitHub">here</a> <br>
Contact us via Twitter <a href="https://twitter.com/Kaltura_API">@Kaltura_API</a> or email: <a href="mailto:community@kaltura.com">community@kaltura.com</a><br>
We’d love to hear from you!</p>
    
      <h1 id="license-and-copyright-information">
        
        
          License and Copyright Information <a href="#license-and-copyright-information"></a>
        
        
      </h1>

<p>All code in this project is released under the <a href="http://www.gnu.org/licenses/agpl-3.0.html">AGPLv3 license</a> unless a different license for a particular library is specified in the applicable library path.</p>

<p>Copyright © Kaltura Inc. All rights reserved.</p>
    
      <h3 id="open-source-libraries-used">
        
        
          Open Source Libraries Used: <a href="#open-source-libraries-used"></a>
        
        
      </h3>

<p>https://github.com/jeeliz/jeelizFaceFilter</p>
		
</div></div></div></div></div></article>


      </div>
    </div>

<!-- customer.io -->
<!--script type="text/javascript">
    var _cio = _cio || [];
    (function() {
      var a,b,c;a=function(f){return function(){_cio.push([f].
      concat(Array.prototype.slice.call(arguments,0)))}};b=["load","identify",
      "sidentify","track","page"];for(c=0;c<b.length;c++){_cio[b[c]]=a(b[c])};
      var t = document.createElement('script'),
          s = document.getElementsByTagName('script')[0];
      t.async = true;
      t.id    = 'cio-tracker';
      t.setAttribute('data-site-id', 'd52b0167909beb4a2cf0');
      t.src = 'https://assets.customer.io/assets/track.js';
      s.parentNode.insertBefore(t, s);
    })();
  </script-->
  <!-- marketo -->
  

<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('984-SDM-859');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = 'https://munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>



<!--script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5745bb1095edd5f5"></script-->
</div><!----><!----><!----></div></div><!----></div></div></side-menu></div></documentation>
      </app>

    <div id="Footer"><div class="footer" id="KalturaFooterContainer">
<div id="KalturaFooter" class="w-section footer-section">
  <div class="w-container container footer-container">
    <div class="row">
      <div class="col col-sm-3 footer-links-columns">
        <h5 class="footer-headings"><a data-toggle="collapse" class="collapsed" data-target="#vpaasLinks">VPaaS<i class="fa fa-chevron-up"></i></a></h5>
        <div id="vpaasLinks" class="collapse">
          <a class="footer-links" href="https://vpaas.kaltura.com">Overview</a><a class="footer-links" href="/api-docs/Overview">API</a><a data-ix="scroll-to-apply" class="footer-links" href="https://vpaas.kaltura.com/#case_study_section" id="case_study_link">Case Studies</a><a class="footer-links" href="https://vpaas.kaltura.com/register.php?utm_source=developertools&amp;utm_campaign=login&amp;utm_medium=website">Register for a Free Trial</a>
        </div>
      </div>
      <div class="col col-sm-3 footer-links-columns">
        <h5 class="footer-headings"><a data-toggle="collapse" class="collapsed" data-target="#toolsLinks">Tools<i class="fa fa-chevron-up"></i></a></h5>
        <div id="toolsLinks" class="collapse">
          <a class="footer-links" href="/console">API Test Console</a><a class="footer-links" href="/api-docs/Client_Libraries">Client Libraries</a><a class="footer-links" href="/player">iOS &amp; Android Mobile SDKs</a><a class="footer-links" href="/workflows">Interactive Workflows</a><a class="footer-links" href="https://vpaas.kaltura.com/documentation/04_Web-Video-Player/">Player Toolkit</a><a class="footer-links" href="https://github.com/kaltura" target="_blank">Kaltura on Github</a><a class="footer-links" href="https://stackoverflow.com/questions/tagged/kaltura" target="_blank">Kaltura on Stack Overflow</a>
        </div>
      </div>
      <div class="col col-sm-3 footer-links-columns">
        <h5 class="footer-headings"><a data-toggle="collapse" class="collapsed" data-target="#resourcesLinks">Resources<i class="fa fa-chevron-up"></i></a></h5>
        <div id="resourcesLinks" class="collapse">
          <a class="footer-links" href="/api-docs">API Documentation</a><a class="footer-links" href="https://knowledge.kaltura.com" target="_blank">Knowledge Center</a><a class="footer-links" href="https://learning.kaltura.com" target="_blank">Kaltura University</a><a class="footer-links" href="https://corp.kaltura.com/live-webinars" target="_blank">Webinars</a><a class="footer-links" href="http://videos.kaltura.com" target="_blank">Kaltura Video Tutorials</a>
        </div>
      </div>
      <div class="col col-sm-3 footer-links-columns">
        <h5 class="footer-headings"><a data-toggle="collapse" class="collapsed" data-target="#communityLinks">Community<i class="fa fa-chevron-up"></i></a></h5>
        <div id="communityLinks" class="collapse">
          <a class="footer-links" href="https://vpaas.kaltura.com/partners">Partner Network</a><a class="footer-links" href="https://forum.kaltura.org" target="_blank">Forums</a><a class="footer-links" href="https://corp.kaltura.com/kaltura-events" target="_blank">Meet Kaltura at Events</a><a class="footer-links" href="https://blog.kaltura.com">Blog</a>
        </div>
        <div class="secondary-links">
          <h5 class="footer-headings footer-heading-margin"><a data-toggle="collapse" data-target="#openSourceLinks">Open Source<i class="fa fa-chevron-up"></i></a></h5>
          <div id="openSourceLinks" class="collapse">
            <a class="footer-links" href="https://www.kaltura.org/" target="_blank">opensource.kaltura.org</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="kaltura-links">
    <div class="container">
      <div class="row">
        <div class="col col-xs-12 col-sm-4">
          <img src="/homepage/assets/images/Kaltura-Logo-white.png">
        </div>
        <div class="col col-xs-12 col-sm-4 footer-last-links-column">
          <a class="sub-footer-links" target="_blank" href="https://corp.kaltura.com/About-Kaltura">About</a>
          <a class="sub-footer-links" href="/sitemap.xml" target="_blank">Sitemap</a>
          <a class="sub-footer-links" target="_blank" href="https://corp.kaltura.com">Kaltura.com</a>
        </div>
        <div class="social-icon-container col col-xs-12 col-sm-4">
          <a href="https://stackoverflow.com/questions/tagged/kaltura" target="_blank"><div class="social-div fa-stack-overflow fa fa-2x"></div></a>
          <a href="https://github.com/kaltura" target="_blank"><div class="social-div fa-github fa fa-2x"></div></a>
          <a href="https://twitter.com/Kaltura" target="_blank"><div class="social-div fa fa-twitter fa-2x"></div></a>
          <a href="https://www.linkedin.com/company/kaltura" target="_blank"><div class="social-div fa fa-linkedin fa-2x"></div></a>
        </div>
      </div>
    </div>
  </div>
  <div class="w-container container copyright-container">
    <div class="row">
      <div class="col col-xs-12 copyright-column">
        <div class="footer-copyright">Copyright © <span id="KalturaYear"></span> Kaltura Inc.</div>
        <script>
          document.getElementById('KalturaYear').innerHTML = (new Date()).getFullYear();
        </script>
        <div class="footer-copyright-description">All Rights Reserved. Designated trademarks and brands are the property of their respective owners.
          <br>Use of this web site constitutes acceptance of the Terms of Use and Privacy Policy.</div>
      </div>
    </div>
  </div>
</div>
</div>
<script>
if (window.lucybot.embed) {
  elem = document.getElementById('KalturaFooterContainer');
  if (elem) elem.remove();
}
</script>

</div>
  <script type="text/javascript" src="inline.bundle.js"></script><script type="text/javascript" src="polyfills.bundle.js"></script><script type="text/javascript" src="scripts.bundle.js"></script><script type="text/javascript" src="vendor.bundle.js"></script><script type="text/javascript" src="main.bundle.js"></script>

<script id="lucybot-doc-app-state" type="application/json">{&q;/assets/documentation/Inspiring-Examples/TikRok-FaceFilter-Social-Network.html&q;:null,&q;G.http://localhost:3333/assets/documentation/Inspiring-Examples/TikRok-FaceFilter-Social-Network.html&q;:{&q;body&q;:&q;  &l;title&g;Create a Video Social Network in 20 Minutes&l;/title&g;\n\n  &l;meta name=\&q;description\&q; content=\&q;VPaaS allows you to build cloud video services, supplies SDKs, and works on all devices, media workflows, and applications. Pay as you go. \n\&q;&g;\n    &l;meta property=\&q;st:title\&q; content=\&q;Create a Video Social Network in 20 Minutes\&q; &g;\n    &l;meta property=\&q;st:published_at\&q; content=\&q;\&q;&g;\n\n&l;script type=\&q;text/javascript\&q; src=\&q;https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js\&q;&g;&l;/script&g;\n&l;script&g;\nwindow.jQuery = window.jquery;\n&l;/script&g;\n  &l;script type=\&q;text/javascript\&q;&g;\n    try{Typekit.load();}catch(e){}\n  &l;/script&g;\n  &l;link rel=\&q;apple-touch-icon\&q; href=\&q;https://daks2k3a4ib2z.cloudfront.net/img/webclip.png\&q;&g;\n  &l;link rel=\&q;stylesheet\&q; href=\&q;https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css\&q;&g;\n  &l;script type=\&q;text/javascript\&q;&g;\n    var switchTo5x=true;\n  &l;/script&g;\n  &l;script type=\&q;text/javascript\&q;&g;var switchTo5x=true;&l;/script&g;\n\n  \n&l;script type=\&q;text/javascript\&q;&g;\n    \t\n\t//back to top\n\tif ($(&s;#back-to-top&s;).length) {\n    \t\tvar scrollTrigger = 100, // px\n\t        backToTop = function () {\n\t            var scrollTop = $(window).scrollTop();\n\t            if (scrollTop &g; scrollTrigger) {\n\t                $(&s;#back-to-top&s;).addClass(&s;show&s;);\n\t            } else {\n\t                $(&s;#back-to-top&s;).removeClass(&s;show&s;);\n\t            }\n\t        };\n\t    backToTop();\n\t    $(window).on(&s;scroll&s;, function () {\n\t        backToTop();\n\t    });\n\t    $(&s;#back-to-top a:first-child&s;).on(&s;click&s;, function (e) {\n\t        e.preventDefault();\n\t        $(&s;html,body&s;).animate({\n\t            scrollTop: 0\n\t        }, 700);\n\t    });\n\t}\n\n&l;/script&g;\n\n&l;script src=&s;https://www.google.com/recaptcha/api.js&s;&g;&l;/script&g;\n&l;script&g;\nfunction verify_recapcha()\n{\n\tvar isCaptchaValidated = false;\n\tvar response = grecaptcha.getResponse();\n\tif(response.length == 0) {\n\t    isCaptchaValidated = false;\n\t    alert(&s;Please confirm that you are a Human.&s;);\n\t    return false;\n\t} else {\n\t    return true;\n\t}\n\n}\n&l;/script&g;\n&l;!--script type=\&q;text/javascript\&q; src=\&q;assets/js/webflow.js\&q;&g;&l;/script&g;\n&l;script type=\&q;text/javascript\&q; src=\&q;assets/js/opentip-jquery.js\&q;&g;&l;/script--&g;\n    &l;!--script type=\&q;text/javascript\&q;&g;\n      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||\&q;https:\&q;===document.location.protocol,a=document.createElement(\&q;script\&q;);a.type=\&q;text/javascript\&q;,a.async=!0,a.src=\&q;https://cdn.heapanalytics.com/js/heap-\&q;+e+\&q;.js\&q;;var n=document.getElementsByTagName(\&q;script\&q;)[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=[\&q;addEventProperties\&q;,\&q;addUserProperties\&q;,\&q;clearEventProperties\&q;,\&q;identify\&q;,\&q;removeEventProperty\&q;,\&q;setEventProperties\&q;,\&q;track\&q;,\&q;unsetEventProperty\&q;],c=0;c&l;p.length;c++)heap[p[c]]=o(p[c])};\n        heap.load(\&q;176893769\&q;);\n  &l;/script--&g;\n\n&l;!--link rel=\&q;stylesheet\&q; type=\&q;text/css\&q; href=\&q;assets/css/lity.min.css\&q;--&g;\n&l;!--script type=\&q;text/javascript\&q; src=\&q;assets/js/lity.min.js\&q;&g;&l;/script--&g;\n\n  &l;!-- RTP tag --&g;\n&l;script type=&s;text/javascript&s;&g;\n(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\nc[a].a=i;c[a].e=e;var g=h.createElement(\&q;script\&q;);g.async=true;g.type=\&q;text/javascript\&q;;\ng.src=f+&s;?aid=&s;+i;var b=h.getElementsByTagName(\&q;script\&q;)[0];b.parentNode.insertBefore(g,b);\n})(window,document,\&q;rtp\&q;,\&q;https://sjrtp3-cdn.marketo.com/rtp-api/v1/rtp.js\&q;,\&q;kaltura\&q;);\nrtp(&s;send&s;,&s;view&s;);\nrtp(&s;get&s;, &s;campaign&s;,true);\n&l;/script&g;\n&l;!-- End of RTP tag --&g;\n\n\n\n\n    &l;div class=\&q;page-content\&q;&g;\n      &l;div class=\&q;wrapper\&q;&g;\n          &l;!--link rel=\&q;stylesheet\&q; href=\&q;/site.css\&q;--&g;\n&l;article&g;\n\n\n&l;div class=\&q;w-section side-nav-section\&q;&g;\n    &l;div class=\&q;w-container\&q;&g;\n      &l;!--a href=\&q;#\&q; data-ix=\&q;show-temp-page-nav-column\&q; class=\&q;w-button w-clearfix mobilebtn\&q;&g;Topics&l;span class=\&q;fa fa-chevron-down\&q; style=\&q;null\&q;&g;&l;/span&g;&l;/a--&g;\n      &l;div class=\&q;w-row body-columns\&q;&g;\n        &l;div class=\&q;docs-contents\&q;&g;\n          &l;div class=\&q;post-header\&q;&g;\n\n            &l;!-- INSERT JEKYLL CONTENT HERE --&g;\n\n          \t&l;header class=\&q;post-header\&q;&g;\n    \t\t\t&l;h1 class=\&q;post-title\&q;&g;Create a Video Social Network in 20 Minutes&l;/h1&g;\n  \t\t\t&l;/header&g;\n\n\t\t\t\n\t\t\t\n\t\t\t&l;div class=\&q;lastcommittable\&q;&g;\n\t\t\t\t&l;span&g;Updated: Thu Nov 12 07:19:38 2020&l;/span&g;, By &l;span class=\&q;commit-author\&q;&g;Hunter Peress&l;/span&g; &l;a class=\&q;editgithub\&q; href=\&q;https://github.com/kaltura/developer-platform-docs/tree/master/documentation/Inspiring-Examples/TikRok-FaceFilter-Social-Network.md\&q; target=\&q;_blank\&q;&g;Contribute to this page&l;/a&g;\n\t\t\t\t&l;!--tr&g;&l;td&g;Created on: Thu Oct 29 11:16:37 2020, By: Hunter Peress&l;/td&g;&l;/tr--&g;\n\t\t\t\t&l;!--tr&g;&l;td&g;Last commit: Thu Nov 12 07:19:38 2020, By &l;span class=\&q;commit-author\&q;&g;Jess Portnoy&l;/span&g;&l;/td&g;&l;/tr--&g;\n\t\t\t\n\t\t\t\t&l;!-- \n\t\t\t\t\n\t\t\t\t&l;tr&g;\n\t\t\t\t\t&l;td&g;Hunter Peress (3 commits) (&l;a href=\&q;mailto:hunter.p@h.p\&q;&g;hunter.p@h.p&l;/a&g;)&l;/td&g;\n\t\t\t\t&l;/tr&g; --&g;\n\n\t\t\t\t&l;!-- \n\t\t\t\t\n\t\t\t\t&l;tr&g;\n\t\t\t\t\t&l;td&g;Hunter Peress (1 commits) (&l;a href=\&q;mailto:hunter.peress@kaltura.com\&q;&g;hunter.peress@kaltura.com&l;/a&g;)&l;/td&g;\n\t\t\t\t&l;/tr&g; --&g;\n\n\t\t\t\t&l;!-- \n\t\t\t\t\n\t\t\t\t&l;tr&g;\n\t\t\t\t\t&l;td&g;Hunterpp (3 commits) (&l;a href=\&q;mailto:hunter.p@h.p\&q;&g;hunter.p@h.p&l;/a&g;)&l;/td&g;\n\t\t\t\t&l;/tr&g; --&g;\n\n\t\t\t\t&l;!-- \n\t\t\t\t\n\t\t\t\t&l;tr&g;\n\t\t\t\t\t&l;td&g;Jess Portnoy (1 commits) (&l;a href=\&q;mailto:jess.portnoy@kaltura.com\&q;&g;jess.portnoy@kaltura.com&l;/a&g;)&l;/td&g;\n\t\t\t\t&l;/tr&g; --&g;\n\n\t\t\t\t&l;!--  --&g;\n\n\t\t\t&l;/div&g;\n\n\t\t\t\n\n\t\t&l;/div&g;\n\n            &l;div class=\&q;post-content\&q;&g;\n    \t\t\n\t\t&l;h2 id=\&q;creating-your-own-video-social-network-in-under-20-minutes\&q;&g;\n        \n        \n          Creating Your Own Video Social Network in Under 20 Minutes! &l;a href=\&q;#creating-your-own-video-social-network-in-under-20-minutes\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;p&g;In this tutorial, you will build an MVP of a social network (aka TikRok) powered by Kaltura. Tikrok is a fully functional social network. Users can record videos using a built-in face filter, upload them, and browse other users’ videos.&l;/p&g;\n\n&l;p&g;&l;img src=\&q;/assets/images/tikrok/HighLevel.png\&q; alt=\&q;HighLevel\&q; /&g;&l;/p&g;\n    \n      &l;h2 id=\&q;try-it-live\&q;&g;\n        \n        \n          Try it Live: &l;a href=\&q;#try-it-live\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;p&g;https://tik-rok.herokuapp.com/&l;/p&g;\n    \n      &l;h2 id=\&q;video-code-walkthrough\&q;&g;\n        \n        \n          Video Code Walkthrough: &l;a href=\&q;#video-code-walkthrough\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;iframe type=\&q;text/javascript\&q; src=&s;https://cdnapisec.kaltura.com/p/3033241/embedPlaykitJs/uiconf_id/46516743?iframeembed=true&a;entry_id=1_go6ouh1n&s; style=\&q;width: 560px;height: 395px\&q; allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder=\&q;0\&q;&g;&l;/iframe&g;\n    \n      &l;h2 id=\&q;design-choices\&q;&g;\n        \n        \n          Design Choices &l;a href=\&q;#design-choices\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;p&g;Many shortcuts were taken in order to give you the barebones, simplest implementation of this concept aka an MVP. I chose a web front end to give a low barrier to entry across any platform. While recording does not work on all mobile browsers, the face filters do, and a more robust implementation could make use of Kaltura’s many &l;a href=\&q;https://developer.kaltura.com/api-docs/Client_Libraries\&q;&g;Client Libraries&l;/a&g;&l;/p&g;\n    \n      &l;h2 id=\&q;this-is-just-a-kernel\&q;&g;\n        \n        \n          This is just a kernel… &l;a href=\&q;#this-is-just-a-kernel\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;p&g;Don’t limit yourself to copying TikRok, the purpose of this tutorial is to ignite your creativity. There are so many directions you &l;strong&g;could&l;/strong&g; go in, for example, there are open source emotion recognition engines. Why not make an app that detects if someone is sad or angry and notify their friends they need cheering up? Food for thought. And it doesn’t have to be entertaining, think healthcare/covid-19, think education, think business, think food, fashion, music, finance, holidays, think what can I do with face detection, an augmented reality canvas or just something creative with video?&l;/p&g;\n\n&l;p&g;&l;img src=\&q;/assets/images/tikrok/HAPPY.jpg\&q; alt=\&q;HAPPY\&q; style=\&q;zoom:30%;\&q; /&g;&l;/p&g;\n\n&l;p&g;From https://github.com/justadudewhohacks/face-api.js/&l;/p&g;\n    \n      &l;h2 id=\&q;introducing-tikrok\&q;&g;\n        \n        \n          Introducing TikRok &l;a href=\&q;#introducing-tikrok\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;p&g;This sample, fully functional social network lets you use a funny face filter to make a video, upload it, browse everyone’s videos, and gives users their own page.&l;/p&g;\n    \n      &l;h2 id=\&q;getting-started\&q;&g;\n        \n        \n          Getting Started &l;a href=\&q;#getting-started\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;ol&g;\n  &l;li&g;\n    &l;p&g;First, you will need a free Kaltura account: start a &l;a href=\&q;https://corp.kaltura.com/video-paas/registration?utm_campaign=Tikrok&a;amp;utm_medium=affiliates&a;amp;utm_source=GitHub\&q;&g;free trial&l;/a&g;&l;/p&g;\n  &l;/li&g;\n  &l;li&g;\n    &l;p&g;Clone the TikRok Github repo https://github.com/kaltura-vpaas/example-tikrok&l;/p&g;\n  &l;/li&g;\n  &l;li&g;\n    &l;p&g;Let’s take a look at .env.template:&l;/p&g;\n\n    &l;div class=\&q;language-ini highlighter-rouge\&q;&g;&l;pre class=\&q;highlight\&q;&g;&l;code&g;&l;span class=\&q;py\&q;&g;ADMIN_SECRET&l;/span&g;&l;span class=\&q;p\&q;&g;=&l;/span&g;   &l;span class=\&q;s\&q;&g;//obtain from https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings&l;/span&g;\n&l;span class=\&q;py\&q;&g;PARTNER_ID&l;/span&g;&l;span class=\&q;p\&q;&g;=&l;/span&g;     &l;span class=\&q;s\&q;&g;//obtain from https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings&l;/span&g;\n&l;span class=\&q;py\&q;&g;PLAYER_ID&l;/span&g;&l;span class=\&q;p\&q;&g;=&l;/span&g;      &l;span class=\&q;s\&q;&g;//obtain from https://kmc.kaltura.com/index.php/kmcng/studio/v3&l;/span&g;\n&l;/code&g;&l;/pre&g;\n    &l;/div&g;\n\n    &l;p&g;Copy  &l;code class=\&q;highlighter-rouge\&q;&g;.env.template&l;/code&g; to &l;code class=\&q;highlighter-rouge\&q;&g;.env&l;/code&g; and edit the values above.&l;/p&g;\n\n    &l;p&g;We need to get your Kaltura Partner Id and API Admin Secret so let’s head over to &l;a href=\&q;https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings\&q;&g;Integration Settings tab&l;/a&g;&l;/p&g;\n\n    &l;p&g;&l;img src=\&q;/assets/images/tikrok/KMC_CODES.png\&q; alt=\&q;KMC_CODES\&q; style=\&q;zoom:45%;\&q; /&g;&l;/p&g;\n  &l;/li&g;\n&l;/ol&g;\n\n&l;p&g;Head to https://kmc.kaltura.com/index.php/kmcng/studio/v3 , create a player and get its ID. Make sure to create your player through the “TV Platform Studio” as pictured:&l;/p&g;\n\n&l;p&g;&l;img src=\&q;/assets/images/tikrok/KMC_PLAYER.png\&q; alt=\&q;KMC_PLAYER.png\&q; style=\&q;zoom:50%;\&q; /&g;&l;/p&g;\n\n&l;ol&g;\n  &l;li&g;Install the components for node:&l;/li&g;\n&l;/ol&g;\n\n&l;p&g;&l;code class=\&q;highlighter-rouge\&q;&g;npm install&l;/code&g;&l;/p&g;\n\n&l;ol&g;\n  &l;li&g;\n    &l;p&g;&l;strong&g;Its Showtime!!&l;/strong&g; run&l;/p&g;\n\n    &l;p&g;&l;code class=\&q;highlighter-rouge\&q;&g;npm start&l;/code&g;&l;/p&g;\n\n    &l;p&g;and head to&l;/p&g;\n\n    &l;p&g;&l;code class=\&q;highlighter-rouge\&q;&g;http://localhost:3000&l;/code&g;&l;/p&g;\n  &l;/li&g;\n&l;/ol&g;\n    \n      &l;h2 id=\&q;connecting-the-back-end-to-kaltura\&q;&g;\n        \n        \n          Connecting the back end to Kaltura &l;a href=\&q;#connecting-the-back-end-to-kaltura\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;p&g;Pick a screen name and hit go:&l;/p&g;\n\n&l;p&g;&l;img src=\&q;/assets/images/tikrok/SCREEN_NAME.png\&q; alt=\&q;SCREEN_NAME\&q; /&g;&l;/p&g;\n\n&l;p&g;The next touch point is the &l;code class=\&q;highlighter-rouge\&q;&g;router.post(&s;/&s;, &l;/code&g;method of &l;code class=\&q;highlighter-rouge\&q;&g;routes/login.js&l;/code&g;&l;/p&g;\n\n&l;div class=\&q;language-javascript highlighter-rouge\&q;&g;&l;pre class=\&q;highlight\&q;&g;&l;code&g;&l;span class=\&q;kd\&q;&g;var&l;/span&g; &l;span class=\&q;nx\&q;&g;adminks&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;nx\&q;&g;await&l;/span&g; &l;span class=\&q;nx\&q;&g;KalturaClientFactory&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;getKS&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;s1\&q;&g;&s;&s;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;&l;span class=\&q;na\&q;&g;type&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;nx\&q;&g;kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;enums&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;SessionType&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;ADMIN&l;/span&g;&l;span class=\&q;p\&q;&g;});&l;/span&g;\n&l;span class=\&q;kd\&q;&g;var&l;/span&g; &l;span class=\&q;nx\&q;&g;client&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;nx\&q;&g;await&l;/span&g; &l;span class=\&q;nx\&q;&g;KalturaClientFactory&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;getClient&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;adminks&l;/span&g;&l;span class=\&q;p\&q;&g;);&l;/span&g;\n&l;span class=\&q;kd\&q;&g;var&l;/span&g; &l;span class=\&q;nx\&q;&g;user&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;nx\&q;&g;await&l;/span&g; &l;span class=\&q;nx\&q;&g;getOrCreateUser&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;client&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;nx\&q;&g;req&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;body&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;userId&l;/span&g;&l;span class=\&q;p\&q;&g;);&l;/span&g;\n&l;span class=\&q;kd\&q;&g;var&l;/span&g; &l;span class=\&q;nx\&q;&g;userKs&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;nx\&q;&g;await&l;/span&g; &l;span class=\&q;nx\&q;&g;KalturaClientFactory&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;getKS&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;user&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;id&l;/span&g;&l;span class=\&q;p\&q;&g;,{&l;/span&g;&l;span class=\&q;na\&q;&g;privileges&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;s1\&q;&g;&s;editadmintags:*&s;&l;/span&g;&l;span class=\&q;p\&q;&g;});&l;/span&g;\n&l;/code&g;&l;/pre&g;\n&l;/div&g;\n\n&l;p&g;Take a look at &l;code class=\&q;highlighter-rouge\&q;&g;lib/KalturaClientFactory.js&l;/code&g; to see how the &l;a href=\&q;https://developer.kaltura.com/api-docs/VPaaS-API-Getting-Started/how-to-create-kaltura-session.html\&q;&g;Kaltura Session&l;/a&g; is created&l;/p&g;\n\n&l;p&g;We first create an admin session &l;code class=\&q;highlighter-rouge\&q;&g;adminks&l;/code&g; which is required to create a user. Then we create a user session &l;code class=\&q;highlighter-rouge\&q;&g;userKs&l;/code&g;  and store the &l;code class=\&q;highlighter-rouge\&q;&g;userKs&l;/code&g; to the node session so it can be used later.&l;/p&g;\n\n&l;p&g;&l;code class=\&q;highlighter-rouge\&q;&g;req.session.ks = userKs;&l;/code&g;&l;/p&g;\n\n&l;p&g;And then we are redirected to the &l;strong&g;&l;em&g;REALLY&l;/em&g;&l;/strong&g; fun stuff: the face filter!&l;/p&g;\n    \n      &l;h2 id=\&q;the-face-filter\&q;&g;\n        \n        \n          The Face Filter &l;a href=\&q;#the-face-filter\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;p&g;We will use the open source face filter library https://github.com/jeeliz/jeelizFaceFilter There is nothing stopping you from getting very creative with these filters! You could supply your own artwork….the sky is the limit!&l;/p&g;\n\n&l;p&g;Here is a high level overview of the video creation work flow:&l;/p&g;\n\n&l;p&g;&l;img src=\&q;/assets/images/tikrok/FaceFilter.png\&q; alt=\&q;FaceFilter\&q; /&g;&l;/p&g;\n\n&l;p&g;By itself, the face filter demo displays to a canvas element. Some of the demo’s use &l;code class=\&q;highlighter-rouge\&q;&g;&a;lt;divs&a;gt;&l;/code&g; to display graphics on top of a canvas, those demos won’t work with our approach as we can only record what is actually on the canvas&l;/p&g;\n    \n      &l;h3 id=\&q;loading-and-switching-filters\&q;&g;\n        \n        \n          Loading and Switching Filters &l;a href=\&q;#loading-and-switching-filters\&q;&g;&l;/a&g;\n        \n        \n      &l;/h3&g;\n\n&l;p&g;First, let’s set up the filter:&l;/p&g;\n\n&l;div class=\&q;language-html highlighter-rouge\&q;&g;&l;pre class=\&q;highlight\&q;&g;&l;code&g;&l;span class=\&q;nt\&q;&g;&a;lt;style &l;/span&g;&l;span class=\&q;na\&q;&g;type=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;text/css\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;\n&l;span class=\&q;nc\&q;&g;.vidsize&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;\n    &l;span class=\&q;nl\&q;&g;width&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g;&l;span class=\&q;m\&q;&g;600px&l;/span&g;&l;span class=\&q;p\&q;&g;;&l;/span&g;\n    &l;span class=\&q;nl\&q;&g;height&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g;&l;span class=\&q;m\&q;&g;600px&l;/span&g;&l;span class=\&q;p\&q;&g;;&l;/span&g;\n&l;span class=\&q;p\&q;&g;}&l;/span&g;\n&l;span class=\&q;nt\&q;&g;&a;lt;/style&a;gt;&l;/span&g;\n&l;span class=\&q;nt\&q;&g;&a;lt;/head&a;gt;&l;/span&g;\n&l;span class=\&q;nt\&q;&g;&a;lt;body&l;/span&g; &l;span class=\&q;na\&q;&g;onload=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;init_filter()\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;\n    &l;span class=\&q;nt\&q;&g;&a;lt;div&l;/span&g; &l;span class=\&q;na\&q;&g;class=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;vidsize\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;style=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;margin:0 auto;position: relative;\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;\n        &l;span class=\&q;nt\&q;&g;&a;lt;div&l;/span&g; &l;span class=\&q;na\&q;&g;id=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;loading\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;class=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;loading\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;\n            Loading Filter \n            &l;span class=\&q;nt\&q;&g;&a;lt;br&a;gt;&l;/span&g;\n            &l;span class=\&q;nt\&q;&g;&a;lt;img&l;/span&g; &l;span class=\&q;na\&q;&g;class=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;loading\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;src=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;//assets/images/tikrok/loading_black.png\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;\n        &l;span class=\&q;nt\&q;&g;&a;lt;/div&a;gt;&l;/span&g;\n        &l;span class=\&q;nt\&q;&g;&a;lt;div&l;/span&g; &l;span class=\&q;na\&q;&g;id=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;filterRow\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;\n            &l;span class=\&q;nt\&q;&g;&a;lt;a&l;/span&g; &l;span class=\&q;na\&q;&g;href=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;#\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;onclick=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;loadFilter(&s;football&s;)\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;🇫🇷&l;span class=\&q;nt\&q;&g;&a;lt;/a&a;gt;&l;/span&g;\n            &l;span class=\&q;nt\&q;&g;&a;lt;a&l;/span&g; &l;span class=\&q;na\&q;&g;href=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;#\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;onclick=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;loadFilter(&s;angel&s;)\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;😇😈&l;span class=\&q;nt\&q;&g;&a;lt;/a&a;gt;&l;/span&g;\n            &l;span class=\&q;nt\&q;&g;&a;lt;a&l;/span&g; &l;span class=\&q;na\&q;&g;href=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;#\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;onclick=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;loadFilter(&s;deform&s;)\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;🥴&l;span class=\&q;nt\&q;&g;&a;lt;/a&a;gt;&l;/span&g;\n            &l;span class=\&q;nt\&q;&g;&a;lt;a&l;/span&g; &l;span class=\&q;na\&q;&g;href=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;#\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;onclick=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;loadFilter(&s;faceswap&s;)\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;😀🔄😀&l;span class=\&q;nt\&q;&g;&a;lt;/a&a;gt;&l;/span&g;\n        &l;span class=\&q;nt\&q;&g;&a;lt;/div&a;gt;&l;/span&g;\n        &l;span class=\&q;nt\&q;&g;&a;lt;div&l;/span&g; &l;span class=\&q;na\&q;&g;id=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;filterBtn\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&a;lt;a&l;/span&g; &l;span class=\&q;na\&q;&g;href=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;#\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;onclick=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;filterBtnToggle()\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&l;/span&g;😃&l;span class=\&q;nt\&q;&g;&a;lt;/a&a;gt;&a;lt;/div&a;gt;&l;/span&g;\n        &l;span class=\&q;nt\&q;&g;&a;lt;canvas&l;/span&g; &l;span class=\&q;na\&q;&g;width=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;600\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;height=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;600\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;id=&l;/span&g;&l;span class=\&q;s\&q;&g;&s;jeeFaceFilterCanvas&s;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&a;lt;/canvas&a;gt;&l;/span&g;\n        &l;span class=\&q;nt\&q;&g;&a;lt;div&l;/span&g; &l;span class=\&q;na\&q;&g;id=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;controls\&q;&l;/span&g; &l;span class=\&q;na\&q;&g;class=&l;/span&g;&l;span class=\&q;s\&q;&g;\&q;vidsize\&q;&l;/span&g;&l;span class=\&q;nt\&q;&g;&a;gt;&a;lt;/div&a;gt;&l;/span&g;\n    &l;span class=\&q;nt\&q;&g;&a;lt;/div&a;gt;&l;/span&g;\n&l;/code&g;&l;/pre&g;\n&l;/div&g;\n\n&l;p&g;So &l;code class=\&q;highlighter-rouge\&q;&g;onload&l;/code&g; calls the &l;code class=\&q;highlighter-rouge\&q;&g;initFilter()&l;/code&g; method from the default filter at &l;code class=\&q;highlighter-rouge\&q;&g;public/filters/deform/deform.js&l;/code&g; which sets up the canvas element to render the face filter over webcam video. I created a naming convention the code uses to switch filters and it is:&l;/p&g;\n\n&l;p&g;&l;code class=\&q;highlighter-rouge\&q;&g;public/filters/filtername/filtername.js&l;/code&g; and each filter has the same initFilter() method. When &l;code class=\&q;highlighter-rouge\&q;&g;loadFilter(filter)&l;/code&g; is called it actually routes us to a completely different webpage:&l;/p&g;\n\n&l;div class=\&q;highlighter-rouge\&q;&g;&l;pre class=\&q;highlight\&q;&g;&l;code&g;function loadFilter(filter) {\n\twindow.onbeforeunload = null;\n  window.location = \&q;/record?filter=\&q;+filter\n&l;/code&g;&l;/pre&g;\n&l;/div&g;\n\n&l;p&g;And the filter is loaded through a query parameter:&l;/p&g;\n\n&l;p&g;&l;code class=\&q;highlighter-rouge\&q;&g;&a;lt;script src=&s;facefilter/filters/&a;lt;%=filter%&a;gt;/&a;lt;%=filter%&a;gt;.js&s;&a;gt;&a;lt;/script&a;gt;&l;/code&g;&l;/p&g;\n\n&l;p&g;Nothing is stopping you from switching filters entirely in javascript, just some refactoring would be necessary.&l;/p&g;\n\n&l;p&g;In case you are wondering about the &l;code class=\&q;highlighter-rouge\&q;&g;#loading&l;/code&g; animated png…it displays by default on page load, and then is hidden by each of the four filters by calling&l;/p&g;\n\n&l;div class=\&q;highlighter-rouge\&q;&g;&l;pre class=\&q;highlight\&q;&g;&l;code&g;  $(\&q;#loading\&q;).hide();\n} //end init_threeScene()\n&l;/code&g;&l;/pre&g;\n&l;/div&g;\n\n&l;p&g;in &l;code class=\&q;highlighter-rouge\&q;&g;deform.js&l;/code&g;&l;/p&g;\n    \n      &l;h3 id=\&q;setup-kaltura-express-recorder\&q;&g;\n        \n        \n          Setup Kaltura Express Recorder &l;a href=\&q;#setup-kaltura-express-recorder\&q;&g;&l;/a&g;\n        \n        \n      &l;/h3&g;\n\n&l;p&g;In &l;code class=\&q;highlighter-rouge\&q;&g;views/record.ejs&l;/code&g; we will use the &l;a href=\&q;https://developer.kaltura.com/api-docs/Ingest_and_Upload_Media/express-recorder.html\&q;&g;Kaltura Express Recorder&l;/a&g;, which has the option to record a canvas element and combine it with your webcam’s audio.&l;/p&g;\n\n&l;p&g;&l;strong&g;Note&l;/strong&g;:The github for TikRok includes a forked “canvas” version of express recorder named &l;code class=\&q;highlighter-rouge\&q;&g;kaltura-canvas-express-recorder.js&l;/code&g;&l;/p&g;\n\n&l;ol&g;\n  &l;li&g;&l;code class=\&q;highlighter-rouge\&q;&g;&a;lt;div id=\&q;controls\&q;&l;/code&g; is where the &l;a href=\&q;https://developer.kaltura.com/api-docs/Ingest_and_Upload_Media/express-recorder.html\&q;&g;Kaltura Express Recorder&l;/a&g; controls will be injected. These elements must all have the same video size to render properly. Now to instantiate the express recorder:&l;/li&g;\n&l;/ol&g;\n\n&l;div class=\&q;language-javascript highlighter-rouge\&q;&g;&l;pre class=\&q;highlight\&q;&g;&l;code&g;\t\t\t &l;span class=\&q;kr\&q;&g;const&l;/span&g; &l;span class=\&q;nx\&q;&g;expressRec&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;nx\&q;&g;Kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;ExpressRecorder&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;create&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;s1\&q;&g;&s;controls&s;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;\n            &l;span class=\&q;s2\&q;&g;\&q;ks\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;s2\&q;&g;\&q;&a;lt;%=ks%&a;gt;\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g;\n            &l;span class=\&q;s2\&q;&g;\&q;serviceUrl\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;s2\&q;&g;\&q;https://www.kaltura.com\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;c1\&q;&g;// IE http://www.kaltura.com,&l;/span&g;\n            &l;span class=\&q;s2\&q;&g;\&q;app\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;s2\&q;&g;\&q;APP_NAME\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g;\n            &l;span class=\&q;s2\&q;&g;\&q;playerUrl\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;s2\&q;&g;\&q;https://cdnapi.kaltura.com\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;c1\&q;&g;// IE http://cdnapi.kaltura.com,&l;/span&g;\n            &l;span class=\&q;s2\&q;&g;\&q;conversionProfileId\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;s2\&q;&g;\&q;CONVERSION_PROFILE_ID\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g;\n            &l;span class=\&q;s2\&q;&g;\&q;partnerId\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;o\&q;&g;&a;lt;%=&l;/span&g;&l;span class=\&q;nx\&q;&g;partnerId&l;/span&g;&l;span class=\&q;o\&q;&g;%&a;gt;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g;\n            &l;span class=\&q;s2\&q;&g;\&q;uiConfId\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;o\&q;&g;&a;lt;%=&l;/span&g;&l;span class=\&q;nx\&q;&g;playerId&l;/span&g;&l;span class=\&q;o\&q;&g;%&a;gt;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g;\n            &l;span class=\&q;s2\&q;&g;\&q;canvasId\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;:&l;/span&g; &l;span class=\&q;s2\&q;&g;\&q;jeeFaceFilterCanvas\&q;&l;/span&g;\n        &l;span class=\&q;p\&q;&g;});&l;/span&g;\n&l;/code&g;&l;/pre&g;\n&l;/div&g;\n\n&l;p&g;We have supplied all relevant id strings from node,  and we specify the canvas to record via &l;code class=\&q;highlighter-rouge\&q;&g;canvasId&l;/code&g; &l;a href=\&q;https://developer.kaltura.com/api-docs/Ingest_and_Upload_Media/express-recorder.html\&q;&g;Kaltura Express Recorder&l;/a&g; has many more configuration options and event listeners.&l;/p&g;\n\n&l;ol&g;\n  &l;li&g;We will also use the express recorder’s event listener interface to create a better UX:&l;/li&g;\n&l;/ol&g;\n\n&l;div class=\&q;language-javascript highlighter-rouge\&q;&g;&l;pre class=\&q;highlight\&q;&g;&l;code&g; \t\t\t\t&l;span class=\&q;nx\&q;&g;expressRec&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;instance&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;addEventListener&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;s2\&q;&g;\&q;recordingStarted\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;e&l;/span&g;&l;span class=\&q;p\&q;&g;)&l;/span&g; &l;span class=\&q;o\&q;&g;=&a;gt;&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;\n            &l;span class=\&q;nx\&q;&g;console&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;log&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;e&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;type&l;/span&g;&l;span class=\&q;p\&q;&g;);&l;/span&g;\n            &l;span class=\&q;c1\&q;&g;//hide the filter buttons when recording has started&l;/span&g;\n            &l;span class=\&q;nx\&q;&g;$&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;s1\&q;&g;&s;#filterRow&s;&l;/span&g;&l;span class=\&q;p\&q;&g;).&l;/span&g;&l;span class=\&q;nx\&q;&g;hide&l;/span&g;&l;span class=\&q;p\&q;&g;();&l;/span&g;\n            &l;span class=\&q;nx\&q;&g;$&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;s1\&q;&g;&s;#filterBtn&s;&l;/span&g;&l;span class=\&q;p\&q;&g;).&l;/span&g;&l;span class=\&q;nx\&q;&g;hide&l;/span&g;&l;span class=\&q;p\&q;&g;();&l;/span&g;\n        &l;span class=\&q;p\&q;&g;});&l;/span&g;\n        \n        &l;span class=\&q;nx\&q;&g;expressRec&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;instance&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;addEventListener&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;s2\&q;&g;\&q;recordingCancelled\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;e&l;/span&g;&l;span class=\&q;p\&q;&g;)&l;/span&g; &l;span class=\&q;o\&q;&g;=&a;gt;&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;\n          \t&l;span class=\&q;c1\&q;&g;//if use hits cancel button, then show the filters again&l;/span&g;\n            &l;span class=\&q;nx\&q;&g;$&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;s1\&q;&g;&s;#filterBtn&s;&l;/span&g;&l;span class=\&q;p\&q;&g;).&l;/span&g;&l;span class=\&q;nx\&q;&g;show&l;/span&g;&l;span class=\&q;p\&q;&g;();&l;/span&g;\n            &l;span class=\&q;nx\&q;&g;console&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;log&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;e&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;type&l;/span&g;&l;span class=\&q;p\&q;&g;);&l;/span&g;   \n        &l;span class=\&q;p\&q;&g;});&l;/span&g;\n\n        &l;span class=\&q;nx\&q;&g;expressRec&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;instance&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;addEventListener&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;s2\&q;&g;\&q;mediaUploadEnded\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;,(&l;/span&g;&l;span class=\&q;nx\&q;&g;e&l;/span&g;&l;span class=\&q;p\&q;&g;)&l;/span&g; &l;span class=\&q;o\&q;&g;=&a;gt;&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;\n           &l;span class=\&q;c1\&q;&g;//once upload is finished, then move on to gallery&l;/span&g;\n           &l;span class=\&q;nb\&q;&g;window&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;onbeforeunload&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;kc\&q;&g;null&l;/span&g;\n           &l;span class=\&q;nb\&q;&g;window&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;location&l;/span&g;&l;span class=\&q;o\&q;&g;=&l;/span&g;&l;span class=\&q;s2\&q;&g;\&q;/gallery\&q;&l;/span&g;&l;span class=\&q;p\&q;&g;;&l;/span&g;\n        &l;span class=\&q;p\&q;&g;});&l;/span&g;                  \n&l;/code&g;&l;/pre&g;\n&l;/div&g;\n\n&l;ol&g;\n  &l;li&g;You should see something like this:&l;/li&g;\n&l;/ol&g;\n\n&l;p&g;&l;img src=\&q;/assets/images/tikrok/FUNNY.PNG\&q; alt=\&q;FUNNY\&q; style=\&q;zoom:50%;\&q; /&g;&l;/p&g;\n    \n      &l;h2 id=\&q;the-gallery-\&q;&g;\n        \n        \n          The Gallery : &l;a href=\&q;#the-gallery-\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n\n&l;p&g;We are taking a very MVP approach to displaying the gallery with a simplifying assumption: this app will be the only source of videos connected to your account. If you want more control over how to organize videos, check out &l;a href=\&q;https://developer.kaltura.com/api-docs/service/playlist\&q;&g;Playlists&l;/a&g;&l;/p&g;\n\n&l;p&g;The express recorder creates a &l;a href=\&q;https://developer.kaltura.com/api-docs/General_Objects/Objects/KalturaMediaEntry\&q;&g;Kaltura Media Entry&l;/a&g; for your video and associates it with your user id. Our approach will simply list all media in our account via the &l;a href=\&q;https://developer.kaltura.com/console/service/media/action/list\&q;&g;Media.list&l;/a&g; API call&l;/p&g;\n    \n      &l;h3 id=\&q;kaltura-api-console\&q;&g;\n        \n        \n          Kaltura API Console &l;a href=\&q;#kaltura-api-console\&q;&g;&l;/a&g;\n        \n        \n      &l;/h3&g;\n\n&l;p&g;When you look at &l;a href=\&q;https://developer.kaltura.com/console/service/media/action/list\&q;&g;Media.list&l;/a&g; in the console:&l;/p&g;\n\n&l;p&g;&l;img src=\&q;/assets/images/tikrok/MEDIALIST.png\&q; alt=\&q;MEDIALIST\&q; /&g;&l;/p&g;\n\n&l;p&g;On the left, we can send the request or add parameters. On the right side you can auto-generate a sample code corresponding to the request on the left from all supported languages.&l;/p&g;\n\n&l;p&g;And the auto-generated code is very close to that of &l;code class=\&q;highlighter-rouge\&q;&g;gallery.js&l;/code&g; :&l;/p&g;\n\n&l;div class=\&q;language-javascript highlighter-rouge\&q;&g;&l;pre class=\&q;highlight\&q;&g;&l;code&g;&l;span class=\&q;kd\&q;&g;function&l;/span&g; &l;span class=\&q;nx\&q;&g;getMedia&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;client&l;/span&g;&l;span class=\&q;p\&q;&g;)&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;\n    &l;span class=\&q;k\&q;&g;return&l;/span&g; &l;span class=\&q;k\&q;&g;new&l;/span&g; &l;span class=\&q;nx\&q;&g;Promise&l;/span&g;&l;span class=\&q;p\&q;&g;((&l;/span&g;&l;span class=\&q;nx\&q;&g;resolve&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;nx\&q;&g;reject&l;/span&g;&l;span class=\&q;p\&q;&g;)&l;/span&g; &l;span class=\&q;o\&q;&g;=&a;gt;&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;\n        &l;span class=\&q;kd\&q;&g;let&l;/span&g; &l;span class=\&q;nx\&q;&g;filter&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;k\&q;&g;new&l;/span&g; &l;span class=\&q;nx\&q;&g;kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;objects&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;MediaEntryFilter&l;/span&g;\n        &l;span class=\&q;nx\&q;&g;filter&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;orderBy&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;nx\&q;&g;kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;enums&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;MediaEntryOrderBy&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;UPDATED_AT_DESC&l;/span&g;&l;span class=\&q;p\&q;&g;;&l;/span&g;\n       \n        &l;span class=\&q;kd\&q;&g;let&l;/span&g; &l;span class=\&q;nx\&q;&g;pager&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;k\&q;&g;new&l;/span&g; &l;span class=\&q;nx\&q;&g;kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;objects&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;FilterPager&l;/span&g;&l;span class=\&q;p\&q;&g;();&l;/span&g;\n        &l;span class=\&q;nx\&q;&g;pager&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;pageSize&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;mi\&q;&g;500&l;/span&g;&l;span class=\&q;p\&q;&g;;&l;/span&g;\n        &l;span class=\&q;nx\&q;&g;kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;services&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;media&l;/span&g;\n            &l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;listAction&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;filter&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;nx\&q;&g;pager&l;/span&g;&l;span class=\&q;p\&q;&g;)&l;/span&g;\n            &l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;execute&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;client&l;/span&g;&l;span class=\&q;p\&q;&g;)&l;/span&g;\n            &l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;then&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;response&l;/span&g; &l;span class=\&q;o\&q;&g;=&a;gt;&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;\n                &l;span class=\&q;nx\&q;&g;resolve&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;response&l;/span&g;&l;span class=\&q;p\&q;&g;);&l;/span&g;\n            &l;span class=\&q;p\&q;&g;});&l;/span&g;\n    &l;span class=\&q;p\&q;&g;});&l;/span&g;\n&l;span class=\&q;p\&q;&g;}&l;/span&g;\n&l;/code&g;&l;/pre&g;\n&l;/div&g;\n    \n      &l;h3 id=\&q;animated-thumbnails\&q;&g;\n        \n        \n          Animated thumbnails &l;a href=\&q;#animated-thumbnails\&q;&g;&l;/a&g;\n        \n        \n      &l;/h3&g;\n\n&l;p&g;We are using https://github.com/kaltura/VideoThumbnailAnimator in &l;code class=\&q;highlighter-rouge\&q;&g;views/gallery.ejs&l;/code&g; to provide animated thumbnails for the gallery&l;/p&g;\n\n&l;pre&g;&l;code class=\&q;language-ejs\&q;&g;    &a;lt;div id=\&q;thumbnails\&q;&a;gt;\n        &a;lt;%- include(&s;gallery/entries.ejs&s;, {entries: entries}) %&a;gt;\n    &a;lt;/div&a;gt;\n    &a;lt;script&a;gt;\n        var thumbAnimator = new KalturaThumbAnimator();\n        thumbAnimator.setup(\&q;videothumbnail\&q;, \&q;http://cfvod.kaltura.com\&q;, 0, true); \n    &a;lt;/script&a;gt;\n&l;/code&g;&l;/pre&g;\n    \n      &l;h2 id=\&q;user-page\&q;&g;\n        \n        \n          User Page &l;a href=\&q;#user-page\&q;&g;&l;/a&g;\n        \n        \n      &l;/h2&g;\n    \n      &l;h3 id=\&q;querying-for-users-kaltura-media-entries\&q;&g;\n        \n        \n          Querying for user’s Kaltura Media Entries &l;a href=\&q;#querying-for-users-kaltura-media-entries\&q;&g;&l;/a&g;\n        \n        \n      &l;/h3&g;\n\n&l;p&g;To display a users videos, We will use &l;a href=\&q;https://developer.kaltura.com/console/service/media/action/list\&q;&g;Media.list&l;/a&g; but this time we will filter by userId. You can build this query using the API Console:&l;/p&g;\n\n&l;div class=\&q;language-javascript highlighter-rouge\&q;&g;&l;pre class=\&q;highlight\&q;&g;&l;code&g;&l;span class=\&q;kd\&q;&g;let&l;/span&g; &l;span class=\&q;nx\&q;&g;filter&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;k\&q;&g;new&l;/span&g; &l;span class=\&q;nx\&q;&g;kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;objects&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;MediaEntryFilter&l;/span&g;\n&l;span class=\&q;nx\&q;&g;filter&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;orderBy&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;nx\&q;&g;kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;enums&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;MediaEntryOrderBy&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;UPDATED_AT_DESC&l;/span&g;&l;span class=\&q;p\&q;&g;;&l;/span&g;\n&l;span class=\&q;nx\&q;&g;filter&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;userIdEqual&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;nx\&q;&g;userId&l;/span&g;&l;span class=\&q;p\&q;&g;;&l;/span&g;\n&l;span class=\&q;kd\&q;&g;let&l;/span&g; &l;span class=\&q;nx\&q;&g;pager&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;k\&q;&g;new&l;/span&g; &l;span class=\&q;nx\&q;&g;kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;objects&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;FilterPager&l;/span&g;&l;span class=\&q;p\&q;&g;();&l;/span&g;\n&l;span class=\&q;nx\&q;&g;pager&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;pageSize&l;/span&g; &l;span class=\&q;o\&q;&g;=&l;/span&g; &l;span class=\&q;mi\&q;&g;500&l;/span&g;&l;span class=\&q;p\&q;&g;;&l;/span&g;\n&l;span class=\&q;nx\&q;&g;kaltura&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;services&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;media&l;/span&g;&l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;listAction&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;filter&l;/span&g;&l;span class=\&q;p\&q;&g;,&l;/span&g; &l;span class=\&q;nx\&q;&g;pager&l;/span&g;&l;span class=\&q;p\&q;&g;)&l;/span&g;\n    &l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;execute&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;client&l;/span&g;&l;span class=\&q;p\&q;&g;)&l;/span&g;\n    &l;span class=\&q;p\&q;&g;.&l;/span&g;&l;span class=\&q;nx\&q;&g;then&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;response&l;/span&g; &l;span class=\&q;o\&q;&g;=&a;gt;&l;/span&g; &l;span class=\&q;p\&q;&g;{&l;/span&g;\n        &l;span class=\&q;nx\&q;&g;resolve&l;/span&g;&l;span class=\&q;p\&q;&g;(&l;/span&g;&l;span class=\&q;nx\&q;&g;response&l;/span&g;&l;span class=\&q;p\&q;&g;);&l;/span&g;\n    &l;span class=\&q;p\&q;&g;});&l;/span&g;\n&l;/code&g;&l;/pre&g;\n&l;/div&g;\n    \n      &l;h3 id=\&q;playing-video\&q;&g;\n        \n        \n          Playing Video &l;a href=\&q;#playing-video\&q;&g;&l;/a&g;\n        \n        \n      &l;/h3&g;\n\n&l;p&g;in &l;code class=\&q;highlighter-rouge\&q;&g;views/user.ejs&l;/code&g;&l;/p&g;\n\n&l;p&g;We will be following the steps to set up a player from https://developer.kaltura.com/player/web/getting-started-web&l;/p&g;\n\n&l;pre&g;&l;code class=\&q;language-ejs\&q;&g;&a;lt;script type=\&q;text/javascript\&q; \nsrc=\&q;https://cdnapisec.kaltura.com/p/&a;lt;%=partnerId %&a;gt;/embedPlaykitJs/uiconf_id/&a;lt;%=playerId%&a;gt;\&q;&a;gt;\n&a;lt;/script&a;gt;\n    &a;lt;script type=\&q;text/javascript\&q;&a;gt;\n        try {\n            var player = KalturaPlayer.setup({\n                targetId: \&q;playerContainer\&q;,\n                provider: {\n                partnerId: &a;lt;%= partnerId %&a;gt;,\n                uiConfId: &a;lt;%= playerId %&a;gt;\n                }\n            });\n        player.loadMedia({ entryId: &s;&a;lt;%= entries[0].id %&a;gt;&s; });\n        } catch (e) {\n            console.error(e.message)\n        }\n    &a;lt;/script&a;gt;\n&l;/code&g;&l;/pre&g;\n\n&l;p&g;And in &l;code class=\&q;highlighter-rouge\&q;&g;routes/user/post.ejs&l;/code&g; we will load the player with:&l;/p&g;\n\n&l;p&g;&l;code class=\&q;highlighter-rouge\&q;&g;&a;lt;a href=\&q;#\&q; onclick=\&q;player.loadMedia({entryId: &s;&a;lt;%= entry.id %&a;gt;&s;})\&q;&a;gt;&a;lt;img src=\&q;&a;lt;%= entry.thumbnailUrl %&a;gt;\&q;&a;gt;&a;lt;/a&a;gt;&l;/code&g;&l;/p&g;\n    \n      &l;h1 id=\&q;and---thats-it\&q;&g;\n        \n        \n          AND - That’s It! &l;a href=\&q;#and---thats-it\&q;&g;&l;/a&g;\n        \n        \n      &l;/h1&g;\n\n&l;p&g;I hope this tutorial has helped show you how easy it can be to create a canvas-based application in node using the Kaltura VPaaS API&l;/p&g;\n    \n      &l;h1 id=\&q;how-you-can-help-guidelines-for-contributors\&q;&g;\n        \n        \n          How you can help (guidelines for contributors) &l;a href=\&q;#how-you-can-help-guidelines-for-contributors\&q;&g;&l;/a&g;\n        \n        \n      &l;/h1&g;\n\n&l;p&g;Thank you for helping Kaltura grow! If you’d like to contribute please follow these steps:&l;/p&g;\n\n&l;ul&g;\n  &l;li&g;Use the repository issues tracker to report bugs or feature requests&l;/li&g;\n  &l;li&g;Read &l;a href=\&q;https://github.com/kaltura/platform-install-packages/blob/master/doc/Contributing-to-the-Kaltura-Platform.md\&q;&g;Contributing Code to the Kaltura Platform&l;/a&g;&l;/li&g;\n  &l;li&g;Sign the &l;a href=\&q;https://agentcontribs.kaltura.org/\&q;&g;Kaltura Contributor License Agreement&l;/a&g;&l;/li&g;\n&l;/ul&g;\n    \n      &l;h1 id=\&q;where-to-get-help\&q;&g;\n        \n        \n          Where to get help &l;a href=\&q;#where-to-get-help\&q;&g;&l;/a&g;\n        \n        \n      &l;/h1&g;\n\n&l;ul&g;\n  &l;li&g;Join the &l;a href=\&q;https://forum.kaltura.org/\&q;&g;Kaltura Community Forums&l;/a&g; to ask questions or start discussions&l;/li&g;\n  &l;li&g;Read the &l;a href=\&q;https://forum.kaltura.org/faq\&q;&g;Code of conduct&l;/a&g; and be patient and respectful&l;/li&g;\n&l;/ul&g;\n    \n      &l;h1 id=\&q;get-in-touch\&q;&g;\n        \n        \n          Get in touch &l;a href=\&q;#get-in-touch\&q;&g;&l;/a&g;\n        \n        \n      &l;/h1&g;\n\n&l;p&g;You can learn more about Kaltura and start a free trial &l;a href=\&q;https://corp.kaltura.com/video-paas/registration?utm_campaign=Tikrok&a;amp;utm_medium=affiliates&a;amp;utm_source=GitHub\&q;&g;here&l;/a&g; &l;br /&g;\nContact us via Twitter &l;a href=\&q;https://twitter.com/Kaltura_API\&q;&g;@Kaltura_API&l;/a&g; or email: &l;a href=\&q;mailto:community@kaltura.com\&q;&g;community@kaltura.com&l;/a&g;&l;br /&g;\nWe’d love to hear from you!&l;/p&g;\n    \n      &l;h1 id=\&q;license-and-copyright-information\&q;&g;\n        \n        \n          License and Copyright Information &l;a href=\&q;#license-and-copyright-information\&q;&g;&l;/a&g;\n        \n        \n      &l;/h1&g;\n\n&l;p&g;All code in this project is released under the &l;a href=\&q;http://www.gnu.org/licenses/agpl-3.0.html\&q;&g;AGPLv3 license&l;/a&g; unless a different license for a particular library is specified in the applicable library path.&l;/p&g;\n\n&l;p&g;Copyright © Kaltura Inc. All rights reserved.&l;/p&g;\n    \n      &l;h3 id=\&q;open-source-libraries-used\&q;&g;\n        \n        \n          Open Source Libraries Used: &l;a href=\&q;#open-source-libraries-used\&q;&g;&l;/a&g;\n        \n        \n      &l;/h3&g;\n\n&l;p&g;https://github.com/jeeliz/jeelizFaceFilter&l;/p&g;\n\t\t\n&l;/article&g;\n\n\n      &l;/div&g;\n    &l;/div&g;\n\n&l;!-- customer.io --&g;\n&l;!--script type=\&q;text/javascript\&q;&g;\n    var _cio = _cio || [];\n    (function() {\n      var a,b,c;a=function(f){return function(){_cio.push([f].\n      concat(Array.prototype.slice.call(arguments,0)))}};b=[\&q;load\&q;,\&q;identify\&q;,\n      \&q;sidentify\&q;,\&q;track\&q;,\&q;page\&q;];for(c=0;c&l;b.length;c++){_cio[b[c]]=a(b[c])};\n      var t = document.createElement(&s;script&s;),\n          s = document.getElementsByTagName(&s;script&s;)[0];\n      t.async = true;\n      t.id    = &s;cio-tracker&s;;\n      t.setAttribute(&s;data-site-id&s;, &s;d52b0167909beb4a2cf0&s;);\n      t.src = &s;https://assets.customer.io/assets/track.js&s;;\n      s.parentNode.insertBefore(t, s);\n    })();\n  &l;/script--&g;\n  &l;!-- marketo --&g;\n  &l;script type=\&q;text/javascript\&q;&g;\n(function() {\n  var didInit = false;\n  function initMunchkin() {\n    if(didInit === false) {\n      didInit = true;\n      Munchkin.init(&s;984-SDM-859&s;);\n    }\n  }\n  var s = document.createElement(&s;script&s;);\n  s.type = &s;text/javascript&s;;\n  s.async = true;\n  s.src = &s;https://munchkin.marketo.net/munchkin.js&s;;\n  s.onreadystatechange = function() {\n    if (this.readyState == &s;complete&s; || this.readyState == &s;loaded&s;) {\n      initMunchkin();\n    }\n  };\n  s.onload = initMunchkin;\n  document.getElementsByTagName(&s;head&s;)[0].appendChild(s);\n})();\n&l;/script&g;\n\n&l;!--script type=\&q;text/javascript\&q; src=\&q;https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5745bb1095edd5f5\&q;&g;&l;/script--&g;\n&q;,&q;headers&q;:{&q;x-powered-by&q;:[&q;Express&q;],&q;accept-ranges&q;:[&q;bytes&q;],&q;cache-control&q;:[&q;public, max-age=0&q;],&q;last-modified&q;:[&q;Mon, 08 Aug 2022 12:52:56 GMT&q;],&q;etag&q;:[&q;W/\&q;97c6-1827d83f748\&q;&q;],&q;content-type&q;:[&q;text/html; charset=UTF-8&q;],&q;content-length&q;:[&q;38854&q;],&q;date&q;:[&q;Mon, 08 Aug 2022 13:04:51 GMT&q;],&q;connection&q;:[&q;keep-alive&q;],&q;keep-alive&q;:[&q;timeout=5&q;]},&q;status&q;:200,&q;statusText&q;:&q;OK&q;,&q;url&q;:&q;http://localhost:3333/assets/documentation/Inspiring-Examples/TikRok-FaceFilter-Social-Network.html&q;}}</script></body></html>