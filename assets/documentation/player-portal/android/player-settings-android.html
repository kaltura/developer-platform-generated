  <title>Player Settings for Android</title>

  <meta name="description" content="VPaaS allows you to build cloud video services, supplies SDKs, and works on all devices, media workflows, and applications. Pay as you go. 
">
    <meta property="st:title" content="Player Settings for Android" >
    <meta property="st:published_at" content="">

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
window.jQuery = window.jquery;
</script>
  <script type="text/javascript">
    try{Typekit.load();}catch(e){}
  </script>
  <link rel="apple-touch-icon" href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script type="text/javascript">
    var switchTo5x=true;
  </script>
  <script type="text/javascript">var switchTo5x=true;</script>

  
<script type="text/javascript">
    	
	//back to top
	if ($('#back-to-top').length) {
    		var scrollTrigger = 100, // px
	        backToTop = function () {
	            var scrollTop = $(window).scrollTop();
	            if (scrollTop > scrollTrigger) {
	                $('#back-to-top').addClass('show');
	            } else {
	                $('#back-to-top').removeClass('show');
	            }
	        };
	    backToTop();
	    $(window).on('scroll', function () {
	        backToTop();
	    });
	    $('#back-to-top a:first-child').on('click', function (e) {
	        e.preventDefault();
	        $('html,body').animate({
	            scrollTop: 0
	        }, 700);
	    });
	}

</script>

<script src='https://www.google.com/recaptcha/api.js'></script>
<script>
function verify_recapcha()
{
	var isCaptchaValidated = false;
	var response = grecaptcha.getResponse();
	if(response.length == 0) {
	    isCaptchaValidated = false;
	    alert('Please confirm that you are a Human.');
	    return false;
	} else {
	    return true;
	}

}
</script>
<!--script type="text/javascript" src="assets/js/webflow.js"></script>
<script type="text/javascript" src="assets/js/opentip-jquery.js"></script-->
    <!--script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("176893769");
  </script-->

<!--link rel="stylesheet" type="text/css" href="assets/css/lity.min.css"-->
<!--script type="text/javascript" src="assets/js/lity.min.js"></script-->

  <!-- RTP tag -->
<script type='text/javascript'>
(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
})(window,document,"rtp","https://sjrtp3-cdn.marketo.com/rtp-api/v1/rtp.js","kaltura");
rtp('send','view');
rtp('get', 'campaign',true);
</script>
<!-- End of RTP tag -->




    <div class="page-content">
      <div class="wrapper">
          <!--link rel="stylesheet" href="/site.css"-->
<article>


<div class="w-section side-nav-section">
    <div class="w-container">
      <!--a href="#" data-ix="show-temp-page-nav-column" class="w-button w-clearfix mobilebtn">Topics<span class="fa fa-chevron-down" style="null"></span></a-->
      <div class="w-row body-columns">
        <div class="docs-contents">
          <div class="post-header">

            <!-- INSERT JEKYLL CONTENT HERE -->

          	<header class="post-header">
    			<h1 class="post-title">Player Settings for Android</h1>
  			</header>

			
			
			<div class="lastcommittable">
				<span>Updated: Tue Mar 24 10:47:43 2020</span>, By <span class="commit-author">Gilad Nadav</span> <a class="editgithub" href="https://github.com/kaltura/developer-platform-docs/tree/master/documentation/player-portal/android/player-settings-android.md" target="_blank">Contribute to this page</a>
				<!--tr><td>Created on: Tue Mar 19 11:23:35 2019, By: Avital</td></tr-->
				<!--tr><td>Last commit: Tue Mar 24 10:47:43 2020, By <span class="commit-author">Gilad Nadav</span></td></tr-->
			
				<!-- 
				
				<tr>
					<td>Avital (3 commits) (<a href="mailto:avital.tzubeli@kaltura.com">avital.tzubeli@kaltura.com</a>)</td>
				</tr> -->

				<!-- 
				
				<tr>
					<td>Gilad Nadav (6 commits) (<a href="mailto:gilad.nadav@kaltura.com">gilad.nadav@kaltura.com</a>)</td>
				</tr> -->

				<!-- 
				
				<tr>
					<td>tzubeli (3 commits) (<a href="mailto:avital.tzubeli@kaltura.com">avital.tzubeli@kaltura.com</a>)</td>
				</tr> -->

				<!--  -->

			</div>

			

		</div>

            <div class="post-content">
    		
		<p>Once youâ€™ve created a player instance, you can make changes to its settings:</p>

<ul>
  <li>In Kaltura Player the same settings API below are integrated inside <code class="highlighter-rouge">PlayerInitOptions</code> object</li>
</ul>
      <h5 id="example">
        
        
          Example: <a href="#example"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="n">playerInitOptions</span> <span class="o">=</span> <span class="n">PlayerInitOptions</span><span class="o">(</span><span class="n">mediaPartnerId</span><span class="o">)</span>
        <span class="n">playerInitOptions</span><span class="o">?.</span><span class="na">setAutoPlay</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
        <span class="n">playerInitOptions</span><span class="o">?.</span><span class="na">setPreload</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
        <span class="n">playerInitOptions</span><span class="o">?.</span><span class="na">setSecureSurface</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span>
        <span class="n">playerInitOptions</span><span class="o">?.</span><span class="na">setAdAutoPlayOnResume</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
        <span class="n">playerInitOptions</span><span class="o">?.</span><span class="na">setAllowCrossProtocolEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
        <span class="n">playerInitOptions</span><span class="o">?.</span><span class="na">setReferrer</span><span class="o">(</span><span class="s">"app://MyApplicationDomain"</span><span class="o">)</span>
 
 <span class="n">player</span> <span class="o">=</span> <span class="n">KalturaOvpPlayer</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">this</span><span class="nd">@MainActivity</span><span class="o">,</span> <span class="n">playerInitOptions</span><span class="o">)</span></code></pre></figure>
    
      <h2 id="setcontentrequestadapter">
        
        
          setContentRequestAdapter <a href="#setcontentrequestadapter"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">interface</span> <span class="nc">Settings</span> <span class="o">{</span>
  <span class="cm">/**
    * Set the Player's contentRequestAdapter.
    *
    * @param contentRequestAdapter - request adapter.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setContentRequestAdapter</span><span class="o">(</span><span class="n">PKRequestParams</span><span class="o">.</span><span class="na">Adapter</span> <span class="n">contentRequestAdapter</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setlicenserequestadapter">
        
        
          setLicenseRequestAdapter <a href="#setlicenserequestadapter"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Set the Player's licenseRequestAdapter.
    *
    * @param licenseRequestAdapter - request adapter.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setLicenseRequestAdapter</span><span class="o">(</span><span class="n">PKRequestParams</span><span class="o">.</span><span class="na">Adapter</span> <span class="n">licenseRequestAdapter</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setcea608captionsenabled">
        
        
          setCea608CaptionsEnabled <a href="#setcea608captionsenabled"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Enable/disable cea-608 text tracks.
    * By default they are disabled.
    * Note! Once set, this value will be applied to all mediaSources for that instance of Player.
    * In order to disable/enable it again, you should update that value once again.
    * Otherwise it will stay in the previous state.
    *
    * @param cea608CaptionsEnabled - should cea-608 track should be enabled.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setCea608CaptionsEnabled</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">cea608CaptionsEnabled</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setmpgaaudioformatenabled">
        
        
          setMpgaAudioFormatEnabled <a href="#setmpgaaudioformatenabled"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Enable/disable MPGA audio tracks.
    * By default they are disabled.
    * Note! Once set, this value will be applied to all mediaSources for that instance of Player.
    * In order to disable/enable it again, you should update that value once again.
    * Otherwise it will stay in the previous state.
    *
    * @param mpgaAudioFormatEnabled - should Enable MPGA Audio track.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setMpgaAudioFormatEnabled</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">mpgaAudioFormatEnabled</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="usetextureview">
        
        
          useTextureView <a href="#usetextureview"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Decide if player should use {@link android.view.TextureView} as primary surface
    * to render the video content. If set to false, will use the {@link android.view.SurfaceView} instead.
    * Note!!! Use this carefully, because {@link android.view.TextureView} is more expensive and not DRM
    * protected. But it allows dynamic animations/scaling e.t.c on the player. By default it will be always set
    * to false.
    *
    * @param useTextureView - true if should use {@link android.view.TextureView}.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">useTextureView</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">useTextureView</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setallowcrossprotocolredirect">
        
        
          setAllowCrossProtocolRedirect <a href="#setallowcrossprotocolredirect"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Decide if player should do cross protocol redirect or not. By default it will be always set
    * to false.
    *
    * @param crossProtocolRedirectEnabled - true if should do cross protocol redirect.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setAllowCrossProtocolRedirect</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">crossProtocolRedirectEnabled</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="allowclearlead">
        
        
          allowClearLead <a href="#allowclearlead"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Decide if player should play clear lead content
    *
    * @param allowClearLead - should enable/disable clear lead playback default false
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">allowClearLead</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">allowClearLead</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setsecuresurface">
        
        
          setSecureSurface <a href="#setsecuresurface"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Decide if player should use secure rendering on the surface.
    * Known limitation - when useTextureView set to true and isSurfaceSecured set to true -
    * secure rendering will have no effect.
    *
    * @param isSurfaceSecured - should enable/disable secure rendering
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setSecureSurface</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">isSurfaceSecured</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setadautoplayonresume">
        
        
          setAdAutoPlayOnResume <a href="#setadautoplayonresume"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Decide the Ad will be auto played when comes to foreground from background
    *
    * @param autoPlayOnResume true if it is autoplayed or else false, default is TRUE
    * @return Player Settings
    */</span>
  <span class="n">Settings</span> <span class="nf">setAdAutoPlayOnResume</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">autoPlayOnResume</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setplayerbuffers">
        
        
          setPlayerBuffers <a href="#setplayerbuffers"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Set the player buffers size
    *
    * @param loadControlBuffers LoadControlBuffers
    * @return Player Settings
    */</span>
  <span class="n">Settings</span> <span class="nf">setPlayerBuffers</span><span class="o">(</span><span class="n">LoadControlBuffers</span> <span class="n">loadControlBuffers</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setvrplayerenabled">
        
        
          setVRPlayerEnabled <a href="#setvrplayerenabled"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Set the Player's VR/360 support
    *
    * @param vrPlayerEnabled - If 360 media should be played on VR player or default player - default == true.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setVRPlayerEnabled</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">vrPlayerEnabled</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setpreferredaudiotrack">
        
        
          setPreferredAudioTrack <a href="#setpreferredaudiotrack"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Set the Player's preferredAudioTrackConfig.
    *
    * @param preferredAudioTrackConfig - AudioTrackConfig.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setPreferredAudioTrack</span><span class="o">(</span><span class="n">PKTrackConfig</span> <span class="n">preferredAudioTrackConfig</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setpreferredtexttrack">
        
        
          setPreferredTextTrack <a href="#setpreferredtexttrack"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Set the Player's preferredTextTrackConfig.
    *
    * @param preferredTextTrackConfig - TextTrackConfig.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setPreferredTextTrack</span><span class="o">(</span><span class="n">PKTrackConfig</span> <span class="n">preferredTextTrackConfig</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setpreferredmediaformat">
        
        
          setPreferredMediaFormat <a href="#setpreferredmediaformat"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Set the Player's PreferredMediaFormat.
    *
    * @param preferredMediaFormat - PKMediaFormat.
    * @return - Player Settings.
    */</span>
  <span class="n">Settings</span> <span class="nf">setPreferredMediaFormat</span><span class="o">(</span><span class="n">PKMediaFormat</span> <span class="n">preferredMediaFormat</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="setsubtitlestyle">
        
        
          setSubtitleStyle <a href="#setsubtitlestyle"></a>
        
        
      </h2>

<figure class="highlight"><pre><code class="language-java" data-lang="java">  <span class="cm">/**
    * Set the Player's Subtitles
    *
    * @param subtitleStyleSettings - SubtitleStyleSettings
    * @return - Player Settings
    */</span>
  <span class="n">Settings</span> <span class="nf">setSubtitleStyle</span><span class="o">(</span><span class="n">SubtitleStyleSettings</span> <span class="n">subtitleStyleSettings</span><span class="o">);</span>
<span class="o">}</span>  </code></pre></figure>
    
      <h1 id="creating-a-player">
        
        
          Creating A Player <a href="#creating-a-player"></a>
        
        
      </h1>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="n">java</span>
 <span class="n">Player</span> <span class="n">player</span> <span class="o">=</span> <span class="n">PlayKitManager</span><span class="o">.</span><span class="na">loadPlayer</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">pluginConfigs</span><span class="o">);</span></code></pre></figure>
    
      <h2 id="apply-player-settings-if-required">
        
        
          Apply Player Settings if required: <a href="#apply-player-settings-if-required"></a>
        
        
      </h2>
    
      <h3 id="enable-crossprotocolredirect">
        
        
          Enable crossProtocolRedirect <a href="#enable-crossprotocolredirect"></a>
        
        
      </h3>
    
      <h5 id="example-1">
        
        
          Example: <a href="#example-1"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="c1">//Configure if to player allow http/https mix.</span>
 <span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setAllowCrossProtocolRedirect</span><span class="o">(</span><span class="n">crossProtocolRedirectEnabled</span><span class="o">);</span> <span class="c1">// default is false</span></code></pre></figure>
    
      <h3 id="enable-drm-clear-lead-playback">
        
        
          Enable DRM Clear Lead Playback <a href="#enable-drm-clear-lead-playback"></a>
        
        
      </h3>
    
      <h5 id="example-2">
        
        
          Example: <a href="#example-2"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="c1">//Configure if player will start playing clear lead in DRM content </span>
 <span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span> <span class="n">allowClearLead</span><span class="o">(</span><span class="kc">true</span><span class="o">/</span><span class="kc">false</span><span class="o">);</span> <span class="c1">// default is false</span></code></pre></figure>
    
      <h3 id="enable-secure-surface">
        
        
          Enable Secure Surface <a href="#enable-secure-surface"></a>
        
        
      </h3>

<p>In case App wants to block ability to take screen capture</p>
    
      <h5 id="example-3">
        
        
          Example: <a href="#example-3"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setSecureSurface</span><span class="o">(</span><span class="n">isSurfaceSecured</span><span class="o">);</span> <span class="c1">// default is false</span></code></pre></figure>
    
      <h3 id="configure-players-preferredmediaformat">
        
        
          Configure Playerâ€™s PreferredMediaFormat. <a href="#configure-players-preferredmediaformat"></a>
        
        
      </h3>

<p>In the case where the Media Entry contains multiple sources, the player will attempt to use formats in this priority order:</p>
<ul>
  <li>DASH (mpd)</li>
  <li>HLS</li>
  <li>WVM</li>
  <li>MP4</li>
  <li>MP3</li>
</ul>

<p>In order to force a Media Format that is different than the priority list, use <code class="highlighter-rouge">setPreferredMediaFormat</code> with the desired type:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setPreferredMediaFormat</span><span class="o">(</span><span class="n">PKMediaFormat</span><span class="o">.</span><span class="na">mp4</span><span class="o">);</span></code></pre></figure>

<p>Making this call, for example, would move MP4 format to the top of the priority list.</p>
    
      <h3 id="configure-player-load-control">
        
        
          Configure Player Load Control <a href="#configure-player-load-control"></a>
        
        
      </h3>

<p>Using builder API you can create LoadControl Buffers with the default ExoPlayer values<br />
then it is possible configure any parameter from the LoadControlBuffers Object.</p>

<p>Defaults can be found here:<br />
<a href="https://github.com/google/ExoPlayer/blob/release-v2/library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java">Defaults</a></p>
    
      <h5 id="example-4">
        
        
          Example: <a href="#example-4"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">java</span>
<span class="n">LoadControlBuffers</span> <span class="n">loadControlBuffers</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LoadControlBuffers</span><span class="o">().</span>
      <span class="n">setMinPlayerBufferMs</span><span class="o">(</span><span class="mi">2000</span><span class="o">).</span>
      <span class="n">setMaxPlayerBufferMs</span><span class="o">(</span><span class="mi">45000</span><span class="o">).</span>
      <span class="n">setBackBufferDurationMs</span><span class="o">(</span><span class="mi">2000</span><span class="o">).</span>
      <span class="n">setMinBufferAfterReBufferMs</span><span class="o">(</span><span class="mi">2000</span><span class="o">).</span>
      <span class="n">setMinBufferAfterInteractionMs</span><span class="o">(</span><span class="mi">2000</span><span class="o">).</span>
      <span class="n">setRetainBackBufferFromKeyframe</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
      
<span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setPlayerBuffers</span><span class="o">(</span><span class="n">loadControlBuffers</span><span class="o">);</span></code></pre></figure>
    
      <h3 id="configure-if-to-use-textureview-instead-of-surface-view">
        
        
          Configure if to use TextureView instead of surface view <a href="#configure-if-to-use-textureview-instead-of-surface-view"></a>
        
        
      </h3>
    
      <h5 id="example-5">
        
        
          Example: <a href="#example-5"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">java</span>
 <span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">useTextureView</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <span class="c1">// default is false</span></code></pre></figure>
    
      <h3 id="enable-cea608captions">
        
        
          Enable Cea608Captions <a href="#enable-cea608captions"></a>
        
        
      </h3>
    
      <h5 id="example-6">
        
        
          Example: <a href="#example-6"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">//Configure if to consider Cea608Captions which exist stream for text track selection.</span>
<span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setCea608CaptionsEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <span class="c1">// default is false</span></code></pre></figure>
    
      <h3 id="configure-kalturaplaybackrequestadapter">
        
        
          Configure KalturaPlaybackRequestAdapter <a href="#configure-kalturaplaybackrequestadapter"></a>
        
        
      </h3>
    
      <h5 id="example-7">
        
        
          Example: <a href="#example-7"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="c1">//Configure different app name/domain in KalturaPlaybackRequestAdapter </span>
 <span class="c1">//which allows adapting the request parameters before sending network requests</span>
 <span class="n">KalturaPlaybackRequestAdapter</span><span class="o">.</span><span class="na">install</span><span class="o">(</span><span class="n">player</span><span class="o">,</span> <span class="s">"yourApplicationName"</span><span class="o">);</span> <span class="c1">// default is app package name</span></code></pre></figure>
    
      <h3 id="configure-kalturaudrmlicenserequestadapter">
        
        
          Configure KalturaUDRMLicenseRequestAdapter <a href="#configure-kalturaudrmlicenserequestadapter"></a>
        
        
      </h3>
    
      <h5 id="example-8">
        
        
          Example: <a href="#example-8"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="c1">//configure different app name/domain in KalturaUDRMLicenseRequestAdapter which allows adapting the request parameters before sending DRM requests</span>
 <span class="n">KalturaUDRMLicenseRequestAdapter</span><span class="o">.</span><span class="na">install</span><span class="o">(</span><span class="n">player</span><span class="o">,</span> <span class="s">"yourApplicationName"</span><span class="o">);</span> <span class="c1">// default is app package name</span></code></pre></figure>
    
      <h3 id="enable---ad-will-auto-play-on-resume">
        
        
          Enable - Ad will auto play on resume <a href="#enable---ad-will-auto-play-on-resume"></a>
        
        
      </h3>

<p>In some cases where app does not expose play pause API on ads this API will do the auto play after resume from background</p>
    
      <h5 id="example-9">
        
        
          Example: <a href="#example-9"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setAdAutoPlayOnResume</span><span class="o">(</span><span class="n">autoPlayOnResume</span><span class="o">);</span></code></pre></figure>
    
      <h3 id="setvrplayerenabledboolean-vrplayerenabled">
        
        
          setVRPlayerEnabled(boolean vrPlayerEnabled); <a href="#setvrplayerenabledboolean-vrplayerenabled"></a>
        
        
      </h3>

<p>If case 360 media should be played on VR player or default player - default is true</p>
    
      <h5 id="example-10">
        
        
          Example: <a href="#example-10"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setVRPlayerEnabled</span><span class="o">(</span><span class="n">vrPlayerEnabled</span><span class="o">);</span></code></pre></figure>
    
      <h3 id="configure-preferred-text-tracks--default-is-no-captions-displayed">
        
        
          Configure preferred TEXT TRACKS â€“ Default is no captions displayed. <a href="#configure-preferred-text-tracks--default-is-no-captions-displayed"></a>
        
        
      </h3>
    
      <h5 id="example-11">
        
        
          Example: <a href="#example-11"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="c1">//player.getSettings().setPreferredTextTrack(new PKTrackConfig().setPreferredMode(PKTrackConfig.Mode.OFF)); // no text tracks</span>
 <span class="c1">//player.getSettings().setPreferredTextTrack(new PKTrackConfig().setPreferredMode(PKTrackConfig.Mode.SELECTION).setTrackLanguage("hi")); // select specific track lang if not exist select manifest default if exist else the first from manifest</span>
 <span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setPreferredTextTrack</span><span class="o">(</span><span class="k">new</span> <span class="n">PKTrackConfig</span><span class="o">().</span><span class="na">setPreferredMode</span><span class="o">(</span><span class="n">PKTrackConfig</span><span class="o">.</span><span class="na">Mode</span><span class="o">.</span><span class="na">AUTO</span><span class="o">));</span> <span class="c1">// select the track by locale if does not exist manifest default</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="o">/</span><span class="n">Configure</span> <span class="n">preferred</span> <span class="n">AUDIO</span> <span class="n">TRACKS</span> <span class="o">-</span> <span class="n">Default</span> <span class="n">is</span> <span class="n">Stream</span><span class="err">'</span><span class="n">s</span> <span class="k">default</span>

 <span class="c1">//player.getSettings().setPreferredAudioTrack(new PKTrackConfig().setPreferredMode(PKTrackConfig.Mode.OFF); // default audio track (Done automatically actually)</span>
 <span class="c1">//player.getSettings().setPreferredAudioTrack(new PKTrackConfig().setPreferredMode(PKTrackConfig.Mode.SELECTION).setTrackLanguage("ru")); // select specific track lang if not exist select manifest default</span>
 <span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setPreferredAudioTrack</span><span class="o">(</span><span class="k">new</span> <span class="n">PKTrackConfig</span><span class="o">().</span><span class="na">setPreferredMode</span><span class="o">(</span><span class="n">PKTrackConfig</span><span class="o">.</span><span class="na">Mode</span><span class="o">.</span><span class="na">AUTO</span><span class="o">));</span></code></pre></figure>
    
      <h2 id="set-preferred-audiotext-track">
        
        
          Set Preferred Audio/Text Track <a href="#set-preferred-audiotext-track"></a>
        
        
      </h2>

<p>The player allows you to set the preferred language audio/text by instantiating the <code class="highlighter-rouge">PKTrackConfig</code>, which is created via the builder method.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="kd">public</span> <span class="n">PKTrackConfig</span> <span class="nf">setTrackLanguage</span><span class="o">(</span><span class="n">String</span> <span class="n">trackLanguage</span><span class="o">)</span>
 <span class="kd">public</span> <span class="n">PKTrackConfig</span> <span class="nf">setPreferredMode</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="n">Mode</span> <span class="n">preferredMode</span><span class="o">)</span></code></pre></figure>

<p>Language options are:</p>
<ul>
  <li>Explicitly setting the language code</li>
  <li>Auto, which sets the language based on location, if available.</li>
  <li>Default, which contains no text and uses the first available audio track.</li>
</ul>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="n">PKTrackConfig</span> <span class="n">trackConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PKTrackConfig</span><span class="o">().</span><span class="na">setPreferredMode</span><span class="o">(</span><span class="n">PKTrackConfig</span><span class="o">.</span><span class="na">Mode</span><span class="o">.</span><span class="na">OFF</span><span class="o">);</span>
 <span class="n">PKTrackConfig</span> <span class="n">trackConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PKTrackConfig</span><span class="o">().</span><span class="na">setPreferredMode</span><span class="o">(</span><span class="n">PKTrackConfig</span><span class="o">.</span><span class="na">Mode</span><span class="o">.</span><span class="na">AUTO</span><span class="o">);</span>
 <span class="n">PKTrackConfig</span> <span class="n">trackConfig</span> <span class="o">=</span> <span class="k">new</span>  <span class="n">PKTrackConfig</span><span class="o">().</span><span class="na">setPreferredMode</span><span class="o">(</span><span class="n">PKTrackConfig</span><span class="o">.</span><span class="na">Mode</span><span class="o">.</span><span class="na">SELECTION</span><span class="o">).</span><span class="na">setTrackLanguage</span><span class="o">(</span><span class="s">"ru"</span><span class="o">)</span></code></pre></figure>

<p>Once we have the <code class="highlighter-rouge">PKTrackConfig</code> object we can use it as parameter for the API.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setPreferredAudioTrack</span><span class="o">(</span><span class="n">preferredAudioTrackConfig</span><span class="o">)</span>
<span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setPreferredTextTrack</span><span class="o">(</span><span class="n">preferredTextTrackConfig</span><span class="o">)</span></code></pre></figure>
    
      <h3 id="tracks-configuration-possibilities">
        
        
          Tracks Configuration possibilities <a href="#tracks-configuration-possibilities"></a>
        
        
      </h3>
    
      <h4 id="there-are-3-modes-available">
        
        
          There are 3 modes available: <a href="#there-are-3-modes-available"></a>
        
        
      </h4>

<ul>
  <li><code class="highlighter-rouge">OFF</code> - for Text tracks it will cancel text tracks display for audio it will select the default from the manifest</li>
  <li><code class="highlighter-rouge">AUTO</code> - SDK will check if the stream has audio/text track that matches the device locale and will select it else it will take stream default</li>
  <li><code class="highlighter-rouge">SELECTION</code> - this mode requires to set the language explicitly (2 or 3 letters)  if this language does not exist SDK will take the streams<br />
default Audio/Text track</li>
</ul>
    
      <h4 id="note">
        
        
          NOTE!!! <a href="#note"></a>
        
        
      </h4>
<p>The languages that are expected by the player to match the SO 639-X codes definition</p>
    
      <h2 id="subtitle-sideloading-for-player">
        
        
          Subtitle Sideloading for Player <a href="#subtitle-sideloading-for-player"></a>
        
        
      </h2>

<blockquote>
  <p>Since Playkit version 3.9.0</p>
</blockquote>

<p>To load Subtitle from external source for the player, need to create a <code class="highlighter-rouge">List</code> of <code class="highlighter-rouge">PKExternalSubtitle</code> and then pass it to <code class="highlighter-rouge">PKMediaEntry</code> object.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">PKExternalSubtitle</span> <span class="n">pkExternalSubtitle</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PKExternalSubtitle</span><span class="o">()</span>
                <span class="o">.</span><span class="na">setUrl</span><span class="o">(</span><span class="s">"http://URL_OF_EXTERNAL_SUBTITLE.vtt"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">setMimeType</span><span class="o">(</span><span class="n">PKSubtitleFormat</span><span class="o">.</span><span class="na">vtt</span><span class="o">)</span>
                <span class="o">.</span><span class="na">setLabel</span><span class="o">(</span><span class="s">"de"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">setLanguage</span><span class="o">(</span><span class="s">"deu"</span><span class="o">);</span>
<span class="n">mList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">pkExternalSubtitle</span><span class="o">);</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">mediaEntry</span><span class="o">.</span><span class="na">setExternalSubtitleList</span><span class="o">(</span><span class="n">mList</span><span class="o">);</span></code></pre></figure>

<p>Use <code class="highlighter-rouge">setDefault()</code> while creating <code class="highlighter-rouge">PKExternalSubtitle</code> to make it default subtitle.<br />
<code class="highlighter-rouge">TEXT_VTT</code> and <code class="highlighter-rouge">APPLICATION_SUBRIP</code> mime-types are supported for subtitles.</p>
    
      <h2 id="subtitle-styles-for-player">
        
        
          Subtitle Styles for Player <a href="#subtitle-styles-for-player"></a>
        
        
      </h2>

<p>To configure Subtitles to the player, first need to set the Subtitles using <code class="highlighter-rouge">settings</code> from <code class="highlighter-rouge">player</code>object.<br />
While creating <code class="highlighter-rouge">SubtitleStyleSettings</code> object, need to pass <code class="highlighter-rouge">subtitleStyleName</code> param in constructor.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">SubtitleStyleSettings</span> <span class="n">subtitleStyleSettings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubtitleStyleSettings</span><span class="o">(</span><span class="s">"MyCustomSubtitleStyle"</span><span class="o">);</span>
<span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setSubtitleStyle</span><span class="o">(</span><span class="n">subtitleStyleSettings</span><span class="o">);</span></code></pre></figure>

<p>To update the Subtitles call <code class="highlighter-rouge">updateSubtitleStyle()</code> using only <code class="highlighter-rouge">player</code> object. Use updated <code class="highlighter-rouge">subtitleStyleSettings</code> object.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">updateSubtitleStyle</span><span class="o">(</span><span class="n">subtitleStyleSettings</span><span class="o">);</span></code></pre></figure>

<p>Using builder pattern for setters in <code class="highlighter-rouge">subtitleStyleSettings</code>, Following Styles can be applied,</p>

<ul>
  <li><code class="highlighter-rouge">setTextColor</code> - Change subtitle text color</li>
  <li><code class="highlighter-rouge">setBackgroundColor</code> - Change subtitle background color</li>
  <li><code class="highlighter-rouge">setEdgeColor</code> - Change subtitle text edge color</li>
  <li>
    <p><code class="highlighter-rouge">setWindowColor</code> - Change subtitle window color</p>
  </li>
  <li><code class="highlighter-rouge">setEdgeType</code> - Change subtitle Edge types using <code class="highlighter-rouge">enum SubtitleStyleEdgeType</code> with the values</li>
</ul>
<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="n">EDGE_TYPE_NONE</span><span class="o">,</span> <span class="n">EDGE_TYPE_OUTLINE</span><span class="o">,</span> <span class="n">EDGE_TYPE_DROP_SHADOW</span><span class="o">,</span> <span class="n">EDGE_TYPE_RAISED</span><span class="o">,</span> <span class="n">EDGE_TYPE_DEPRESSED</span><span class="o">;</span> </code></pre></figure>

<ul>
  <li><code class="highlighter-rouge">setTextSizeFraction</code> - Change subtitle text size fraction using <code class="highlighter-rouge">enum SubtitleTextSizeFraction</code> with the values</li>
</ul>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">SUBTITLE_FRACTION_50</span><span class="o">,</span> <span class="n">SUBTITLE_FRACTION_75</span><span class="o">,</span> <span class="n">SUBTITLE_FRACTION_100</span><span class="o">,</span> <span class="n">SUBTITLE_FRACTION_125</span><span class="o">,</span> <span class="n">SUBTITLE_FRACTION_150</span><span class="o">,</span> <span class="n">SUBTITLE_FRACTION_200</span></code></pre></figure>

<ul>
  <li><code class="highlighter-rouge">setTypeface</code> - Change subtitle typeface using <code class="highlighter-rouge">enum SubtitleStyleTypeface</code> with the values</li>
</ul>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">DEFAULT</span><span class="o">,</span> <span class="n">DEFAULT_BOLD</span><span class="o">,</span> <span class="n">MONOSPACE</span><span class="o">,</span> <span class="n">SERIF</span><span class="o">,</span> <span class="n">SANS_SERIF</span> </code></pre></figure>
    
      <h5 id="example-12">
        
        
          Example: <a href="#example-12"></a>
        
        
      </h5>

<p>To set the Subtitles,</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">SubtitleStyleSettings</span> <span class="n">subtitleStyleSettings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubtitleStyleSettings</span><span class="o">(</span><span class="s">"MyCustomSubtitleStyle"</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setBackgroundColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLUE</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setTextColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">WHITE</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setTextSizeFraction</span><span class="o">(</span><span class="n">SubtitleStyleSettings</span><span class="o">.</span><span class="na">SubtitleTextSizeFraction</span><span class="o">.</span><span class="na">SUBTITLE_FRACTION_50</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setWindowColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">YELLOW</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setEdgeColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLUE</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setTypeface</span><span class="o">(</span><span class="n">SubtitleStyleSettings</span><span class="o">.</span><span class="na">SubtitleStyleTypeface</span><span class="o">.</span><span class="na">MONOSPACE</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setEdgeType</span><span class="o">(</span><span class="n">SubtitleStyleSettings</span><span class="o">.</span><span class="na">SubtitleStyleEdgeType</span><span class="o">.</span><span class="na">EDGE_TYPE_DROP_SHADOW</span><span class="o">);</span>

<span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setSubtitleStyle</span><span class="o">(</span><span class="n">subtitleStyleSettings</span><span class="o">);</span></code></pre></figure>

<p>To update the existing Subtitles:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">SubtitleStyleSettings</span> <span class="n">subtitleStyleSettings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubtitleStyleSettings</span><span class="o">(</span><span class="s">"MyNewCustomSubtitleStyle"</span><span class="o">)</span>
                        <span class="o">.</span><span class="na">setBackgroundColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">WHITE</span><span class="o">)</span>
                        <span class="o">.</span><span class="na">setTextColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">RED</span><span class="o">)</span>
                        <span class="o">.</span><span class="na">setTextSizeFraction</span><span class="o">(</span><span class="n">SubtitleStyleSettings</span><span class="o">.</span><span class="na">SubtitleTextSizeFraction</span><span class="o">.</span><span class="na">SUBTITLE_FRACTION_100</span><span class="o">)</span>
                        <span class="o">.</span><span class="na">setWindowColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLUE</span><span class="o">)</span>
                        <span class="o">.</span><span class="na">setEdgeColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLUE</span><span class="o">)</span>
                        <span class="o">.</span><span class="na">setTypeface</span><span class="o">(</span><span class="n">SubtitleStyleSettings</span><span class="o">.</span><span class="na">SubtitleStyleTypeface</span><span class="o">.</span><span class="na">SANS_SERIF</span><span class="o">)</span>
                        <span class="o">.</span><span class="na">setEdgeType</span><span class="o">(</span><span class="n">SubtitleStyleSettings</span><span class="o">.</span><span class="na">SubtitleStyleEdgeType</span><span class="o">.</span><span class="na">EDGE_TYPE_DROP_SHADOW</span><span class="o">);</span>

<span class="n">player</span><span class="o">.</span><span class="na">updateSubtitleStyle</span><span class="o">(</span><span class="n">subtitleStyleSettings</span><span class="o">);</span></code></pre></figure>
    
      <h3 id="set-abr-settings">
        
        
          Set ABR Settings <a href="#set-abr-settings"></a>
        
        
      </h3>

<p>To enable track selection to select subset of tracks that participate in the ABR values are expected in bits</p>
    
      <h5 id="example-13">
        
        
          Example: <a href="#example-13"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setABRSettings</span><span class="o">(</span><span class="k">new</span> <span class="n">ABRSettings</span><span class="o">().</span>
<span class="n">setMinVideoBitrate</span><span class="o">(</span><span class="mi">900000</span><span class="o">).</span>
<span class="n">setMaxVideoBitrate</span><span class="o">(</span><span class="mi">3000000</span><span class="o">).</span>
<span class="n">setInitialBitrateEstimate</span><span class="o">(</span><span class="mi">100000</span><span class="o">));</span></code></pre></figure>

<p>In order to reset these values in Change Media if needed:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setABRSettings</span><span class="o">(</span><span class="k">new</span> <span class="n">ABRSettings</span><span class="o">());</span></code></pre></figure>
    
      <h3 id="set-surface-aspect-ratio-resize-mode">
        
        
          Set Surface Aspect Ratio Resize Mode <a href="#set-surface-aspect-ratio-resize-mode"></a>
        
        
      </h3>

<p>To configure Full screen Fit/Fill/Zoom support for devices with special resolution like 18:9 in order to prevent letter-boxing of video playback</p>
    
      <h5 id="new-enum-added-to-support-this-functionality">
        
        
          New enum added to support this functionality <a href="#new-enum-added-to-support-this-functionality"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">enum</span> <span class="n">PKAspectRatioResizeMode</span> <span class="o">{</span>
    <span class="n">fit</span><span class="o">,</span> <span class="c1">// common aspect ratio </span>
    <span class="n">fixedWidth</span><span class="o">,</span>
    <span class="n">fixedHeight</span><span class="o">,</span>
    <span class="n">fill</span><span class="o">,</span> <span class="c1">// 18:9 aspect ratio</span>
    <span class="n">zoom</span>
<span class="o">}</span></code></pre></figure>
    
      <h5 id="example-for-updating-the-ratio-resize-mode-for-playback-start-time">
        
        
          Example for updating the ratio resize mode for playback start time: <a href="#example-for-updating-the-ratio-resize-mode-for-playback-start-time"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setSurfaceAspectRatioResizeMode</span><span class="o">(</span><span class="n">PKAspectRatioResizeMode</span><span class="o">.</span><span class="na">fill</span><span class="o">);</span></code></pre></figure>
    
      <h5 id="example-for-updating-the-ratio-settings-during-the-playback">
        
        
          Example for updating the ratio settings during the playback: <a href="#example-for-updating-the-ratio-settings-during-the-playback"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">updateSurfaceAspectRatioResizeMode</span><span class="o">(</span><span class="n">PKAspectRatioResizeMode</span><span class="o">.</span><span class="na">zoom</span><span class="o">)</span></code></pre></figure>
    
      <h3 id="force-single-player-engine">
        
        
          Force Single Player Engine <a href="#force-single-player-engine"></a>
        
        
      </h3>

<p>Use forceSinglePlayerEngine for Ads playback to achieve preperContentAfterAd behaviour</p>

<p>To can tell the player not to prepare the content player when Ad starts(if exists); <br />
instead content player will be prepared when content_resume_requested is called.<br />
so low end devices with lack of enough decoders will be able to play ads + content separately.<br />
Default value for this configuration is set to â€˜falseâ€™.</p>
    
      <h5 id="example-14">
        
        
          Example: <a href="#example-14"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">useSinglePlayerInstance</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span></code></pre></figure>
    
      <h3 id="set-hide-video-views">
        
        
          Set Hide Video Views <a href="#set-hide-video-views"></a>
        
        
      </h3>

<p>Used to enable video thumbnail to be displayed for Audio Entries<br />
This config enable apps to hide the video surface to for audio only medias it will be able to put behind the player thumbnail and still captions will be available.</p>

<p>Note:  <code class="highlighter-rouge">player.getSettings().setHideVideoViews(true)</code> should be called before calling player prepare.</p>

<p>In case there is change media between audio and video, app should call <code class="highlighter-rouge">player.getSettings().setHideVideoViews(false)</code> in order to make the video surface visible again.</p>

<p>Default value for this API is false and <code class="highlighter-rouge">player.getSettings().setHideVideoViews(false)</code> should be called again if changing media between audio only and video.</p>
    
      <h5 id="example-15">
        
        
          Example: <a href="#example-15"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setHideVideoViews</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">player</span><span class="o">.</span><span class="na">prepare</span><span class="o">(</span><span class="n">config</span><span class="o">);</span></code></pre></figure>

<p>AudioOnlyBasicSetupSample Sample can be found in the samples repository</p>

<p>Note: It is applicationâ€™s responsibility for hiding/showing the artwork by its own logic.</p>
    
      <h3 id="set-vr-settings">
        
        
          Set VR Settings <a href="#set-vr-settings"></a>
        
        
      </h3>

<p>For VR and 360 medias, <code class="highlighter-rouge">PKMediaEntry</code> has now new member <code class="highlighter-rouge">isVRMediaType</code> that signs media as VR media</p>

<p>In case media provider is used, <code class="highlighter-rouge">PKMediaEntry</code> will be populated automatically on the MediaEntry which is returned from the callback.</p>

<p>if <code class="highlighter-rouge">VRsettings</code> is not configured, default values will be used (only touch will be available) <br />
take in account that not all devices support motion so make sure you verify that motion is supported using hte API <code class="highlighter-rouge">VRUtil.isModeSupported</code></p>
    
      <h5 id="example-16">
        
        
          Example: <a href="#example-16"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setVRSettings</span><span class="o">(</span><span class="k">new</span> <span class="n">VRSettings</span><span class="o">().</span><span class="na">setInteractionMode</span><span class="o">(</span><span class="n">VRInteractionMode</span><span class="o">.</span><span class="na">MotionWithTouch</span><span class="o">).</span><span class="na">setFlingEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">));</span></code></pre></figure>
    
      <h5 id="example-17">
        
        
          Example <a href="#example-17"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java">    <span class="k">if</span> <span class="o">(</span><span class="n">mediaEntry</span><span class="o">.</span><span class="na">isVRMediaType</span><span class="o">())</span> <span class="o">{</span>
                <span class="n">VRSettings</span> <span class="n">vrSettings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VRSettings</span><span class="o">();</span>
                <span class="n">vrSettings</span><span class="o">.</span><span class="na">setFlingEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
                <span class="n">vrSettings</span><span class="o">.</span><span class="na">setVrModeEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

                <span class="n">vrSettings</span><span class="o">.</span><span class="na">setZoomWithPinchEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
                <span class="n">VRInteractionMode</span> <span class="n">interactionMode</span> <span class="o">=</span> <span class="n">vrSettings</span><span class="o">.</span><span class="na">getInteractionMode</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">VRUtil</span><span class="o">.</span><span class="na">isModeSupported</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">VRInteractionMode</span><span class="o">.</span><span class="na">MotionWithTouch</span><span class="o">))</span> <span class="o">{</span>
                    <span class="n">vrSettings</span><span class="o">.</span><span class="na">setInteractionMode</span><span class="o">(</span><span class="n">VRInteractionMode</span><span class="o">.</span><span class="na">MotionWithTouch</span><span class="o">);</span> <span class="c1">// DEFAULT is Touch only!</span>
                <span class="o">}</span>
                <span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setVRSettings</span><span class="o">(</span><span class="n">vrSettings</span><span class="o">);</span>
            <span class="o">}</span></code></pre></figure>

<p>For more VR settings and it defaults explore <code class="highlighter-rouge">VRSettings</code> APIs</p>
    
      <h3 id="set-custom-load-control-strategy">
        
        
          Set Custom Load Control Strategy <a href="#set-custom-load-control-strategy"></a>
        
        
      </h3>

<p>To change the LoadControl and the Bandwidth Meter that is being used by ExoPlayer <br />
    <code class="highlighter-rouge">ExoPlayerWrapper.LoadControlStrategy</code> interface has to be implemented and to be passed to the <code class="highlighter-rouge">setCustomLoadControlStrategy</code> API</p>
    
      <h5 id="example-18">
        
        
          Example: <a href="#example-18"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setCustomLoadControlStrategy</span><span class="o">(</span><span class="k">new</span> <span class="n">PlaykitLoadControlStrategy</span><span class="o">(</span><span class="k">this</span><span class="o">));</span></code></pre></figure>
    
      <h5 id="the-class-code">
        
        
          The class code <a href="#the-class-code"></a>
        
        
      </h5>

<div class="highlighter-rouge"><pre class="highlight"><code>package com.kaltura.playkitdemo;

import android.content.Context;
import android.os.Handler;

import com.kaltura.android.exoplayer2.DefaultLoadControl;
import com.kaltura.android.exoplayer2.LoadControl;
import com.kaltura.android.exoplayer2.upstream.BandwidthMeter;
import com.kaltura.android.exoplayer2.upstream.DataSource;
import com.kaltura.android.exoplayer2.upstream.DataSpec;
import com.kaltura.android.exoplayer2.upstream.DefaultBandwidthMeter;
import com.kaltura.android.exoplayer2.upstream.TransferListener;
import com.kaltura.playkit.player.ExoPlayerWrapper;

import androidx.annotation.Nullable;

public class PlaykitLoadControlStrategy implements ExoPlayerWrapper.LoadControlStrategy {

    private Context context;

    public PlaykitLoadControlStrategy(Context context) {
        this.context = context;
    }

    @Override
    public LoadControl getCustomLoadControl() {
        return new DefaultLoadControl();
    }

    @Override
    public BandwidthMeter getCustomBandwidthMeter() {
        //return new DefaultBandwidthMeter.Builder(context).build();

        TransferListener tl = new TransferListener() {
            @Override
            public void onTransferInitializing(DataSource source, DataSpec dataSpec, boolean isNetwork) {

            }

            @Override
            public void onTransferStart(DataSource source, DataSpec dataSpec, boolean isNetwork) {

            }

            @Override
            public void onBytesTransferred(DataSource source, DataSpec dataSpec, boolean isNetwork, int bytesTransferred) {

            }

            @Override
            public void onTransferEnd(DataSource source, DataSpec dataSpec, boolean isNetwork) {

            }
        };

        return new BandwidthMeter() {
            private EventListener listener;

            @Override
            public long getBitrateEstimate() {
                return 1500000;
            }

            @Nullable
            @Override
            public TransferListener getTransferListener() {
                return tl;
            }

            @Override
            public void addEventListener(Handler eventHandler, EventListener eventListener) {
                this.listener = eventListener;

                eventHandler.post(new Runnable() {
                    @Override
                    public void run() {
                        eventListener.onBandwidthSample(1000, 1000000/8, 1500000);
                        eventHandler.postDelayed(this, 1000);

                    }
                });
            }

            @Override
            public void removeEventListener(EventListener eventListener) {
                this.listener = null;
            }
        };
    }
}
</code></pre>
</div>
    
      <h3 id="set-tunneled-audio-playback">
        
        
          Set Tunneled Audio Playback <a href="#set-tunneled-audio-playback"></a>
        
        
      </h3>

<p>Used to enable/disable audio tunneling.</p>
    
      <h5 id="example-19">
        
        
          Example: <a href="#example-19"></a>
        
        
      </h5>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">player</span><span class="o">.</span><span class="na">getSettings</span><span class="o">().</span><span class="na">setTunneledAudioPlayback</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span></code></pre></figure>
		
</article>


      </div>
    </div>

<!-- customer.io -->
<!--script type="text/javascript">
    var _cio = _cio || [];
    (function() {
      var a,b,c;a=function(f){return function(){_cio.push([f].
      concat(Array.prototype.slice.call(arguments,0)))}};b=["load","identify",
      "sidentify","track","page"];for(c=0;c<b.length;c++){_cio[b[c]]=a(b[c])};
      var t = document.createElement('script'),
          s = document.getElementsByTagName('script')[0];
      t.async = true;
      t.id    = 'cio-tracker';
      t.setAttribute('data-site-id', 'd52b0167909beb4a2cf0');
      t.src = 'https://assets.customer.io/assets/track.js';
      s.parentNode.insertBefore(t, s);
    })();
  </script-->
  <!-- marketo -->
  <script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('984-SDM-859');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = 'https://munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>

<!--script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5745bb1095edd5f5"></script-->
