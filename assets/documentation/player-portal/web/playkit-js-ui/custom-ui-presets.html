  <title>Custom UI Presets</title>

  <meta name="description" content="VPaaS allows you to build cloud video services, supplies SDKs, and works on all devices, media workflows, and applications. Pay as you go. 
">
    <meta property="st:title" content="Custom UI Presets" >
    <meta property="st:published_at" content="">

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
window.jQuery = window.jquery;
</script>
  <script type="text/javascript">
    try{Typekit.load();}catch(e){}
  </script>
  <link rel="apple-touch-icon" href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script type="text/javascript">
    var switchTo5x=true;
  </script>
  <script type="text/javascript">var switchTo5x=true;</script>

  
<script type="text/javascript">
    	
	//back to top
	if ($('#back-to-top').length) {
    		var scrollTrigger = 100, // px
	        backToTop = function () {
	            var scrollTop = $(window).scrollTop();
	            if (scrollTop > scrollTrigger) {
	                $('#back-to-top').addClass('show');
	            } else {
	                $('#back-to-top').removeClass('show');
	            }
	        };
	    backToTop();
	    $(window).on('scroll', function () {
	        backToTop();
	    });
	    $('#back-to-top a:first-child').on('click', function (e) {
	        e.preventDefault();
	        $('html,body').animate({
	            scrollTop: 0
	        }, 700);
	    });
	}

</script>

<script src='https://www.google.com/recaptcha/api.js'></script>
<script>
function verify_recapcha()
{
	var isCaptchaValidated = false;
	var response = grecaptcha.getResponse();
	if(response.length == 0) {
	    isCaptchaValidated = false;
	    alert('Please confirm that you are a Human.');
	    return false;
	} else {
	    return true;
	}

}
</script>
<!--script type="text/javascript" src="assets/js/webflow.js"></script>
<script type="text/javascript" src="assets/js/opentip-jquery.js"></script-->
    <!--script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("176893769");
  </script-->

<!--link rel="stylesheet" type="text/css" href="assets/css/lity.min.css"-->
<!--script type="text/javascript" src="assets/js/lity.min.js"></script-->

  <!-- RTP tag -->
<script type='text/javascript'>
(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
})(window,document,"rtp","https://sjrtp3-cdn.marketo.com/rtp-api/v1/rtp.js","kaltura");
rtp('send','view');
rtp('get', 'campaign',true);
</script>
<!-- End of RTP tag -->




    <div class="page-content">
      <div class="wrapper">
          <!--link rel="stylesheet" href="/site.css"-->
<article>


<div class="w-section side-nav-section">
    <div class="w-container">
      <!--a href="#" data-ix="show-temp-page-nav-column" class="w-button w-clearfix mobilebtn">Topics<span class="fa fa-chevron-down" style="null"></span></a-->
      <div class="w-row body-columns">
        <div class="docs-contents">
          <div class="post-header">

            <!-- INSERT JEKYLL CONTENT HERE -->

          	<header class="post-header">
    			<h1 class="post-title">Custom UI Presets</h1>
  			</header>

			
			
			<div class="lastcommittable">
				<span>Updated: Tue Jul 30 07:41:42 2019</span>, By <span class="commit-author">Avital</span> <a class="editgithub" href="https://github.com/kaltura/developer-platform-docs/tree/master/documentation/player-portal/web/playkit-js-ui/custom-ui-presets.md" target="_blank">Contribute to this page</a>
				<!--tr><td>Created on: Tue Jul 30 02:08:55 2019, By: Avital</td></tr-->
				<!--tr><td>Last commit: Tue Jul 30 07:41:42 2019, By <span class="commit-author">Avital</span></td></tr-->
			
				<!-- 
				
				<tr>
					<td>Avital (3 commits) (<a href="mailto:avital.tzubeli@kaltura.com">avital.tzubeli@kaltura.com</a>)</td>
				</tr> -->

				<!--  -->

			</div>

			

		</div>

            <div class="post-content">
    		
		<h2 id="general">
        
        
          General <a href="#general"></a>
        
        
      </h2>

<p>UI presets are used to define the player GUI based on conditions.</p>

<p>The UI Manager accepts an array of UI presets.</p>

<p>The preset list may contain one default preset and additional conditional presets.</p>

<p>A conditional preset will only be shown if it’s defined condition is met.</p>

<p>The UI manager has a list of pre-defined conditions, and custom conditions can be defined as well, see <a href="#defining-ui-conditions">below</a>.</p>

<p>The order that the UI presets are defined and their respective conditions define the priority which they’ll be rendered, where the order is ascending, so first UI preset condition will be evaluated first and last will be evaluated last.</p>

<p>The last preset should always be the default one that has no condition.</p>

<p>This guide assumes you are using the <a href="https://developer.kaltura.com/player/web">Kaltura Player</a></p>

<p>If you intend to build a new preset that will be compiled as part of the library then you can import the components and use JSX for building the preset.</p>

<p>Each section will also contain a collapsable section to show snippet for testing the UI application in standalone mode - where it is imported directly and not used as part of the Kaltura Player.</p>
    
      <h2 id="defining-a-preset">
        
        
          Defining a preset <a href="#defining-a-preset"></a>
        
        
      </h2>

<p>A preset is a simple function that returns a tree that defines the components structure to be used in a layout.</p>

<p>For example- Let’s say that we want our fullscreen UI to have only the bottom bar with the fullscreen control. nothing else.</p>

<p>this is a UI preset that will define the look of fullscreen state, which uses the built-in components <code class="highlighter-rouge">BottomBar</code> and <code class="highlighter-rouge">FullscreenControl</code></p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="c1">//fullscreen-preset.js</span>
<span class="kr">const</span> <span class="nx">h</span> <span class="o">=</span> <span class="nx">KalturaPlayer</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">h</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">components</span> <span class="o">=</span> <span class="nx">KalturaPlayer</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">components</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">fullscreenUI</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">props</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">h</span><span class="p">(</span>
    <span class="s1">'div'</span><span class="p">,</span>
    <span class="p">{</span> <span class="na">className</span><span class="p">:</span> <span class="s2">"playback-gui-wrapper"</span> <span class="p">},</span>
    <span class="nx">h</span><span class="p">(</span>
      <span class="nx">components</span><span class="p">.</span><span class="nx">BottomBar</span><span class="p">,</span>
      <span class="nx">h</span><span class="p">(</span>
        <span class="nx">components</span><span class="p">.</span><span class="nx">FullscreenControl</span><span class="p">,</span> <span class="p">{</span> <span class="na">player</span><span class="p">:</span> <span class="nx">props</span><span class="p">.</span><span class="nx">player</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">className</span><span class="p">:</span> <span class="s2">"playkit-left-controls"</span> <span class="p">}</span>
      <span class="p">)</span>
    <span class="p">)</span>
  <span class="p">)</span>
<span class="p">};</span>
</code></pre>
</div>
    
      <h3 id="using-jsx">
        
        
          Using JSX <a href="#using-jsx"></a>
        
        
      </h3>

<p>If your app is using <a href="http://babeljs.io/">Babel</a> for transpiling you can use <a href="https://reactjs.org/docs/jsx-in-depth.html">JSX</a> syntax which will be transpiled to the above code.<br />
In order to do this do the following:</p>

<ol>
  <li>Install <a href="https://www.npmjs.com/package/babel-plugin-transform-react-jsx">transform-react-jsx</a> with your favorite package manager</li>
</ol>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>yarn add -D babel-plugin-transform-react-jsx
//or
npm install --save-dev babel-plugin-transform-react-jsx
</code></pre>
</div>

<ol>
  <li>in your babel config (most likely in your <code class="highlighter-rouge">.babelrc</code> file) add:</li>
</ol>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="s2">"plugins"</span><span class="err">:</span> <span class="p">[</span>
  <span class="p">[</span>
    <span class="s2">"transform-react-jsx"</span><span class="p">,</span>
    <span class="p">{</span>
      <span class="s2">"pragma"</span><span class="p">:</span> <span class="s2">"KalturaPlayer.ui.h"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">]</span>
</code></pre>
</div>

<ol>
  <li>change the UI markup to use JSX syntax:</li>
</ol>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="c1">//fullscreen-preset.js</span>
<span class="kr">const</span> <span class="nx">components</span> <span class="o">=</span> <span class="nx">KalturaPlayer</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">components</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">fullscreenUI</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"playback-gui-wrapper"</span> <span class="nx">style</span><span class="o">=</span><span class="s2">"height: 100%"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">BottomBar</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">FullscreenControl</span> <span class="nx">player</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">player</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/BottomBar</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre>
</div>

<details>
  <summary>Example if importing the UI in standalone mode</summary>

```javascript
//fullscreen-preset.js
//@flow
import { h, BottomBar, FullscreenControl  } from 'playkit-js-ui';

export default function fullscreenUI(props: any) {
return (
<div classname="playback-gui-wrapper" style="height: 100%">
<BottomBar>
&lt;FullscreenControl player={props.player} /&gt;
</BottomBar>
</div>
)
}

````
</details>
    
      <h2 id="attaching-the-preset-to-the-fullscreen-state">
        
        
          Attaching the preset to the fullscreen state <a href="#attaching-the-preset-to-the-fullscreen-state"></a>
        
        
      </h2>
<p>In order to use a preset we pass our custom preset function to the UI manager.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="c1">//@flow</span>
<span class="c1">// the new preset we created</span>
<span class="kr">import</span> <span class="nx">fullscreenUI</span> <span class="nx">from</span> <span class="s1">'./fullscreen-preset.js'</span><span class="p">;</span>

<span class="c1">// Get the player default presets</span>
<span class="kr">const</span> <span class="nx">Presets</span> <span class="o">=</span> <span class="nx">KalturaPlayer</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Presets</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">uis</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="na">template</span><span class="p">:</span> <span class="nx">props</span> <span class="o">=&gt;</span> <span class="nx">fullscreenUI</span><span class="p">(</span><span class="nx">props</span><span class="p">),</span> <span class="na">condition</span><span class="p">:</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">fullscreen</span><span class="p">.</span><span class="nx">fullscreen</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">template</span><span class="p">:</span> <span class="nx">props</span> <span class="o">=&gt;</span> <span class="nx">Presets</span><span class="p">.</span><span class="nx">playbackUI</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">}</span>
<span class="p">];</span>
<span class="kr">const</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">ui</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">customPreset</span><span class="p">:</span> <span class="nx">uis</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="c1">//Call th eplayer with the new UI presets</span>
<span class="kr">const</span> <span class="nx">kalturaPlayer</span> <span class="o">=</span> <span class="nx">KalturaPlayer</span><span class="p">.</span><span class="nx">setup</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
</code></pre>
</div>

<details>
  <summary>Example if importing the UI in standalone mode</summary>

```javascript
//@flow
import { default as PlaykitUI, Presets } from 'playkit-js-ui';

// the new preset we created
import fullscreenUI from './fullscreen-preset.js';

function buildUI(player: Player, config: Object): void {
const uis = [
{ template: props =&gt; fullscreenUI(props), condition: state =&gt; state.fullscreen.fullscreen },
{ template: props =&gt; Presets.playbackUI(props) }
];

let playerUIManager = new PlaykitUI(player, config);
playerUIManager.buildCustomUI(uis);
}

```
</details>
    
      <h2 id="defining-ui-conditions">
        
        
          Defining UI conditions <a href="#defining-ui-conditions"></a>
        
        
      </h2>
<p>A preset condition is a simple method that returns a boolean.</p>

<p>Once a boolean is returned, either <code class="highlighter-rouge">true</code> or <code class="highlighter-rouge">false</code>, the UI will be rendered.</p>

<p>The UI Manager has three pre-defined conditions:</p>
<ol>
  <li>Error state: <code class="highlighter-rouge">state.engine.hasError</code></li>
  <li>Ad break state: <code class="highlighter-rouge">state.engine.adBreak</code></li>
  <li>Live state: <code class="highlighter-rouge">state.engine.isLive</code></li>
  <li>Idle state: <code class="highlighter-rouge">state.engine.isIdle</code></li>
</ol>
    
      <h2 id="using-custom-components">
        
        
          Using custom components <a href="#using-custom-components"></a>
        
        
      </h2>
<p>Presets can be created by using the player default library components, but you can also create and use your own components to define the layout.</p>

<p>See example on how to create and use your own components <a href="https://developer.kaltura.com/player/web/ui/components">here</a></p>
		
</article>


      </div>
    </div>

<!-- customer.io -->
<!--script type="text/javascript">
    var _cio = _cio || [];
    (function() {
      var a,b,c;a=function(f){return function(){_cio.push([f].
      concat(Array.prototype.slice.call(arguments,0)))}};b=["load","identify",
      "sidentify","track","page"];for(c=0;c<b.length;c++){_cio[b[c]]=a(b[c])};
      var t = document.createElement('script'),
          s = document.getElementsByTagName('script')[0];
      t.async = true;
      t.id    = 'cio-tracker';
      t.setAttribute('data-site-id', 'd52b0167909beb4a2cf0');
      t.src = 'https://assets.customer.io/assets/track.js';
      s.parentNode.insertBefore(t, s);
    })();
  </script-->
  <!-- marketo -->
  <script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('984-SDM-859');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = 'https://munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>

<!--script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5745bb1095edd5f5"></script-->
