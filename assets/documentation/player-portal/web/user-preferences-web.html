  <title>User Preferences for Web Player</title>

  <meta name="description" content="VPaaS allows you to build cloud video services, supplies SDKs, and works on all devices, media workflows, and applications. Pay as you go. 
">
    <meta property="st:title" content="User Preferences for Web Player" >
    <meta property="st:published_at" content="">

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
window.jQuery = window.jquery;
</script>
  <script type="text/javascript">
    try{Typekit.load();}catch(e){}
  </script>
  <link rel="apple-touch-icon" href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script type="text/javascript">
    var switchTo5x=true;
  </script>
  <script type="text/javascript">var switchTo5x=true;</script>

  
<script type="text/javascript">
    	
	//back to top
	if ($('#back-to-top').length) {
    		var scrollTrigger = 100, // px
	        backToTop = function () {
	            var scrollTop = $(window).scrollTop();
	            if (scrollTop > scrollTrigger) {
	                $('#back-to-top').addClass('show');
	            } else {
	                $('#back-to-top').removeClass('show');
	            }
	        };
	    backToTop();
	    $(window).on('scroll', function () {
	        backToTop();
	    });
	    $('#back-to-top a:first-child').on('click', function (e) {
	        e.preventDefault();
	        $('html,body').animate({
	            scrollTop: 0
	        }, 700);
	    });
	}

</script>

<script src='https://www.google.com/recaptcha/api.js'></script>
<script>
function verify_recapcha()
{
	var isCaptchaValidated = false;
	var response = grecaptcha.getResponse();
	if(response.length == 0) {
	    isCaptchaValidated = false;
	    alert('Please confirm that you are a Human.');
	    return false;
	} else {
	    return true;
	}

}
</script>
<!--script type="text/javascript" src="assets/js/webflow.js"></script>
<script type="text/javascript" src="assets/js/opentip-jquery.js"></script-->
    <!--script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("176893769");
  </script-->

<!--link rel="stylesheet" type="text/css" href="assets/css/lity.min.css"-->
<!--script type="text/javascript" src="assets/js/lity.min.js"></script-->

  <!-- RTP tag -->
<script type='text/javascript'>
(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
})(window,document,"rtp","https://sjrtp3-cdn.marketo.com/rtp-api/v1/rtp.js","kaltura");
rtp('send','view');
rtp('get', 'campaign',true);
</script>
<!-- End of RTP tag -->




    <div class="page-content">
      <div class="wrapper">
          <!--link rel="stylesheet" href="/site.css"-->
<article>


<div class="w-section side-nav-section">
    <div class="w-container">
      <!--a href="#" data-ix="show-temp-page-nav-column" class="w-button w-clearfix mobilebtn">Topics<span class="fa fa-chevron-down" style="null"></span></a-->
      <div class="w-row body-columns">
        <div class="docs-contents">
          <div class="post-header">

            <!-- INSERT JEKYLL CONTENT HERE -->

          	<header class="post-header">
    			<h1 class="post-title">User Preferences for Web Player</h1>
  			</header>

			
			
			<div class="lastcommittable">
				<span>Updated: Wed Jul 31 14:41:56 2019</span>, By <span class="commit-author">Avital</span> <a class="editgithub" href="https://github.com/kaltura/developer-platform-docs/tree/master/documentation/player-portal/web/user-preferences-web.md" target="_blank">Contribute to this page</a>
				<!--tr><td>Created on: Wed May 1 14:04:39 2019, By: Avital</td></tr-->
				<!--tr><td>Last commit: Wed Jul 31 14:41:56 2019, By <span class="commit-author">Avital</span></td></tr-->
			
				<!-- 
				
				<tr>
					<td>Avital (4 commits) (<a href="mailto:avital.tzubeli@kaltura.com">avital.tzubeli@kaltura.com</a>)</td>
				</tr> -->

				<!--  -->

			</div>

			

		</div>

            <div class="post-content">
    		
		<p>When the user configures the player according to his or her preference (e.g., starting up the player in mute), these user preferences (i.e., actions that are triggered by the user) create a <em>configurable value</em>, which is saved in the browser’s local storage. The player then uses those saved values to enable the user to retain the last choices they made when playing media.</p>

<p>For example, if the last played media was muted, the next media will begin muted also, even if the user refreshed the page.</p>
      <h2 id="saved-user-preference-values">
        
        
          Saved User Preference Values <a href="#saved-user-preference-values"></a>
        
        
      </h2>

<p>The following values are saved under user preferences:</p>

<ul>
  <li>Muted</li>
  <li>Volume</li>
  <li>Audio language track</li>
  <li>Text language track (i.e., captions)</li>
  <li>Captions text style (this is the style of the text used in the captions)</li>
</ul>
    
      <h2 id="workflow">
        
        
          Workflow <a href="#workflow"></a>
        
        
      </h2>

<p>When a player instantiates, a partial configuration is created internally by the <code class="highlighter-rouge">StorageManager</code> and supplied to the player using the saved values found in the local storage.</p>

<p>The structure of this initial configuration is as follows:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
<span class="nl">muted</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span>
<span class="nx">volume</span><span class="err">:</span> <span class="nx">number</span><span class="p">,</span>
<span class="nx">audioLanguage</span><span class="err">:</span> <span class="nx">string</span><span class="p">,</span>
<span class="nx">textLanguage</span><span class="err">:</span> <span class="nx">string</span><span class="p">,</span>
<span class="nx">textStyle</span><span class="err">:</span> <span class="nx">TextStyle</span>
<span class="p">}</span></code></pre></figure>

<p>The following flow-chart diagram shows a high-level workflow of this scenario:<br />
<img src="/assets/images/setup-flow-local-storage.jpg" alt="setup-flow-local-storage" /></p>

<p>After the player starts to to play, the <code class="highlighter-rouge">StorageManager</code> will track any user interaction with the UI and update the storage value accordingly, as you can see in the following sequence diagram:</p>

<p><img src="/assets/images/save-value-flow-local-storage.png" alt="save-value-flow-local-storage" /></p>
    
      <h2 id="view-and-edit-values">
        
        
          View and Edit Values <a href="#view-and-edit-values"></a>
        
        
      </h2>

<p>Let’s look at an example based on a Chrome browser (this can be done on any supported browser; see next section).</p>

<ol>
  <li>Open your test page.</li>
  <li>Right click and select <strong>Inspect</strong>.</li>
  <li>Go to the <strong>Application</strong> tab.</li>
  <li>In the left menu, choose <strong>Local Storage</strong> and click the arrow button.</li>
  <li>Choose your test page domain.</li>
</ol>

<p>You’ll be able to see your saved player values in the local storage:</p>

<p><img src="/assets/images/chrome-local-storage.png" alt="chrome-local-storage" /></p>

<ul>
  <li>To clear the values, click the <strong>Clear</strong> button</li>
  <li>To edit the values, click any value in the right column and edit it.</li>
</ul>
    
      <h2 id="disable-user-preference">
        
        
          Disable User Preference <a href="#disable-user-preference"></a>
        
        
      </h2>

<p>The user preference configuration is enabled by default. To disable it, you’ll need to configure the <a href="https://developer.kaltura.com/player/web/configuration-web#configdisableusercache"><code class="highlighter-rouge">disableUserCache</code></a> value as <strong>True</strong> when creating the player instance.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
  <span class="p">...</span>
  <span class="nl">disableUserCache</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">// Disable user preferences</span>
  <span class="p">...</span>
<span class="p">}</span></code></pre></figure>
    
      <h2 id="browser-compatibility">
        
        
          Browser Compatibility <a href="#browser-compatibility"></a>
        
        
      </h2>

<p>The user preference feature works on all browsers that support the localStorage option.<br />
For a complete list of browsers that support localStorage, see <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">here</a>.</p>
		
</article>


      </div>
    </div>

<!-- customer.io -->
<!--script type="text/javascript">
    var _cio = _cio || [];
    (function() {
      var a,b,c;a=function(f){return function(){_cio.push([f].
      concat(Array.prototype.slice.call(arguments,0)))}};b=["load","identify",
      "sidentify","track","page"];for(c=0;c<b.length;c++){_cio[b[c]]=a(b[c])};
      var t = document.createElement('script'),
          s = document.getElementsByTagName('script')[0];
      t.async = true;
      t.id    = 'cio-tracker';
      t.setAttribute('data-site-id', 'd52b0167909beb4a2cf0');
      t.src = 'https://assets.customer.io/assets/track.js';
      s.parentNode.insertBefore(t, s);
    })();
  </script-->
  <!-- marketo -->
  <script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('984-SDM-859');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = 'https://munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>

<!--script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5745bb1095edd5f5"></script-->
