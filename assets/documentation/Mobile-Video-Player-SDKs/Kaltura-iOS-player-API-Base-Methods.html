  <title>iOS Player API - Properties, Events, Notifications</title>

  <meta name="description" content="VPaaS allows you to build cloud video services, supplies SDKs, and works on all devices, media workflows, and applications. Pay as you go. 
">
    <meta property="st:title" content="iOS Player API - Properties, Events, Notifications" >
    <meta property="st:published_at" content="">

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
window.jQuery = window.jquery;
</script>
  <script type="text/javascript">
    try{Typekit.load();}catch(e){}
  </script>
  <link rel="apple-touch-icon" href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script type="text/javascript">
    var switchTo5x=true;
  </script>
  <script type="text/javascript">var switchTo5x=true;</script>

  
<script type="text/javascript">
    	
	//back to top
	if ($('#back-to-top').length) {
    		var scrollTrigger = 100, // px
	        backToTop = function () {
	            var scrollTop = $(window).scrollTop();
	            if (scrollTop > scrollTrigger) {
	                $('#back-to-top').addClass('show');
	            } else {
	                $('#back-to-top').removeClass('show');
	            }
	        };
	    backToTop();
	    $(window).on('scroll', function () {
	        backToTop();
	    });
	    $('#back-to-top a:first-child').on('click', function (e) {
	        e.preventDefault();
	        $('html,body').animate({
	            scrollTop: 0
	        }, 700);
	    });
	}

</script>

<script src='https://www.google.com/recaptcha/api.js'></script>
<script>
function verify_recapcha()
{
	var isCaptchaValidated = false;
	var response = grecaptcha.getResponse();
	if(response.length == 0) {
	    isCaptchaValidated = false;
	    alert('Please confirm that you are a Human.');
	    return false;
	} else {
	    return true;
	}

}
</script>
<!--script type="text/javascript" src="assets/js/webflow.js"></script>
<script type="text/javascript" src="assets/js/opentip-jquery.js"></script-->
    <!--script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("176893769");
  </script-->

<!--link rel="stylesheet" type="text/css" href="assets/css/lity.min.css"-->
<!--script type="text/javascript" src="assets/js/lity.min.js"></script-->

  <!-- RTP tag -->
<script type='text/javascript'>
(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
})(window,document,"rtp","https://sjrtp3-cdn.marketo.com/rtp-api/v1/rtp.js","kaltura");
rtp('send','view');
rtp('get', 'campaign',true);
</script>
<!-- End of RTP tag -->




    <div class="page-content">
      <div class="wrapper">
          <!--link rel="stylesheet" href="/site.css"-->
<article>


<div class="w-section side-nav-section">
    <div class="w-container">
      <!--a href="#" data-ix="show-temp-page-nav-column" class="w-button w-clearfix mobilebtn">Topics<span class="fa fa-chevron-down" style="null"></span></a-->
      <div class="w-row body-columns">
        <div class="docs-contents">
          <div class="post-header">

            <!-- INSERT JEKYLL CONTENT HERE -->

          	<header class="post-header">
    			<h1 class="post-title">iOS Player API - Properties, Events, Notifications</h1>
  			</header>

			
			
			<div class="lastcommittable">
				<span>Updated: Sat Jan 14 11:07:27 2017</span>, By <span class="commit-author">Oren Me</span> <a class="editgithub" href="https://github.com/kaltura/developer-platform-docs/tree/master/documentation/Mobile-Video-Player-SDKs/Kaltura-iOS-player-API-Base-Methods.md" target="_blank">Contribute to this page</a>
				<!--tr><td>Created on: Sun Jul 24 11:34:21 2016, By: Jess Portnoy</td></tr-->
				<!--tr><td>Last commit: Sat Jan 14 11:07:27 2017, By <span class="commit-author">Oren Me</span></td></tr-->
			
				<!-- 
				
				<tr>
					<td>AnnaAleksandrowicz (1 commits) (<a href="mailto:Anna.Aleksandrowicz@kaltura.com">Anna.Aleksandrowicz@kaltura.com</a>)</td>
				</tr> -->

				<!-- 
				
				<tr>
					<td>Jess Portnoy (3 commits) (<a href="mailto:jess.portnoy@kaltura.com">jess.portnoy@kaltura.com</a>)</td>
				</tr> -->

				<!-- 
				
				<tr>
					<td>Oren Me (1 commits) (<a href="mailto:oren.me@gmail.com">oren.me@gmail.com</a>)</td>
				</tr> -->

				<!--  -->

			</div>

			

		</div>

            <div class="post-content">
    		
    		<p><a href="https://github.com/kaltura/player-sdk-native-ios"><img src="https://img.shields.io/badge/iOS-Supported-green.svg" alt="iOS" /></a></p>

<p>This article describes how to use the iOS Player API base methods to manage properties, events, and notifications.</p>

<h2 id="accessing-the-kaltura-ios-player-api">Accessing the Kaltura iOS Player API</h2>

<p>You can access the entire Player API through methods that enable the following functions.</p>

<ul>
  <li>Listen and respond to Player events (addJsListener/removeJsListener): Enables you to react to internal Player events, such as beginning, playing, and pausing.</li>
</ul>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code>
<span class="cm">/*!
 * @function addEventListener:eventID:handler:
 *
 * @abstract
 * Registers to one of the players events
 *
 * @param NSString name of One of the players events
 * @param NSString event id, will enable to remove the current event by id
 * @param handler Callback for the ready event.
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addKPlayerEventListener</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">event</span> <span class="nf">eventID</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">eventID</span> <span class="nf">handler</span><span class="p">:(</span><span class="kt">void</span><span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">eventName</span><span class="p">,</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">params</span><span class="p">))</span><span class="nv">handler</span><span class="p">;</span>

<span class="cm">/*!
 * @function removeEventListener:eventID
 *
 * @abstract
 * Removes One of the players events by id
 *
 * @param NSString event, name of One of the players events.
 * @param NSString eventID, event id for removal.
 * @param handler Callback for the ready event.
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">removeKPlayerEventListener</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">event</span> <span class="nf">eventID</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">eventID</span><span class="p">;</span>


</code></pre>
</div>

<ul>
  <li>Invoke player actions (sendNotification): Enables you to tell the Player to perform an action, such as play or pause media.</li>
</ul>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code>
<span class="cm">/*!
 * @function sendNotification:expressionID:forName
 *
 * @abstract
 * Notifies the player on specific events
 *
 * @param NSString notificationName, notification name
 * @param NSString params, json string for passing parameters to the controls layer (webview).
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">sendNotification</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">notificationName</span> <span class="nf">withParams</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">params</span><span class="p">;</span>


</code></pre>
</div>
<ul>
  <li>Retrieve information in runtime (evaluate): Enables you to obtain information about a Player, such as the media that is loaded in the Player and the flashVars that the Player passes.</li>
</ul>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code>
<span class="cm">/*!
 * @function asyncEvaluate:expressionID:handler
 *
 * @abstract
 * Evaluates values from the player
 *
 * @param NSString expression, @"{mediaProxy.entry.thumbnailUrl}:
 * @param NSString expressionID, expression id use for several expressions.
 * @param handler Callback with the value of the expression.
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">asyncEvaluate</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">expression</span> <span class="nf">expressionID</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">expressionID</span> <span class="nf">handler</span><span class="p">:(</span><span class="kt">void</span><span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">value</span><span class="p">))</span><span class="nv">handler</span><span class="p">;</span>


</code></pre>
</div>
<ul>
  <li>Change Player attributes in runtime (setKDPAttribute): Modifies Player attributes, such as a label on a Player UI.</li>
</ul>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code>
<span class="cm">/*!
 * @function setKDPAttribute:propertyName:value
 *
 * @abstract
 * Controls elements in the player layer
 *
 * @param NSString pluginName, represents specific element
 * @param NSString propertyName, property of the plugin
 * @param NSString value, sets the property
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setKDPAttribute</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">pluginName</span> <span class="nf">propertyName</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">propertyName</span> <span class="nf">value</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">value</span><span class="p">;</span>


</code></pre>
</div>

<h2 id="receiving-a-notification-when-the-player-api-is-ready">Receiving a Notification when the Player API is Ready</h2>

<p>To receive a notification when the Player API is ready, use the following objective:</p>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code><span class="cm">/*!
 * @function registerReadyEvent
 *
 * @abstract
 * Registers to the players ready event
 *
 * @discussion
 * The registerReadyEvent function will notify that the player has been loaded
 * and it's possible to interact with it.
 *
 * Calls to registerReadyEvent will invoke the handler when the player is ready
 *
 *
 * @param handler
 * Callback for the ready event.
 *
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">registerReadyEvent</span><span class="p">:(</span><span class="kt">void</span><span class="p">(</span><span class="o">^</span><span class="p">)())</span><span class="nv">handler</span><span class="p">;</span>


</code></pre>
</div>

<h2 id="implementing-player-api-base-methods">Implementing Player API Base Methods</h2>

<p>To implement the Player API base methods, use the following objective:</p>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code><span class="cm">/*!
 @method        play:
 @abstract      Initiates playback of the current item. (required)
 
 If playback was previously paused, this method resumes playback where it left off; otherwise, this method plays the first available item, from the beginning.
 If a Kaltura Player is not prepared for playback when you call this method, this method first prepares the Kaltura Player and then starts playback. To minimize playback delay, call the prepareToPlay method before you call this method.
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">play</span><span class="p">;</span>
</code></pre>
</div>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code><span class="cm">/*!
 @method        pause:
 @abstract      Pauses playback of the current item. (required)
 
 If playback is not currently underway, this method has no effect. To resume playback of the current item from the pause point, call the play method.
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">pause</span><span class="p">;</span>
</code></pre>
</div>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code><span class="cm">/*!
 @method        replay:
 @abstract      replay playback of the current item. (required)
 
 This method initiates playback from the beginning of the current item.
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">replay</span><span class="p">;</span>

</code></pre>
</div>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code><span class="cm">/*!
 @method        seek:
 @abstract      Begins seeking through the media content.
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">seek</span><span class="p">:(</span><span class="n">NSTimeInterval</span><span class="p">)</span><span class="nv">playbackTime</span><span class="p">;</span>
</code></pre>
</div>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code><span class="cm">/*!
 @method        seek:completionHandler:
 @abstract      Begins seeking through the media content.
 */</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">seek</span><span class="p">:(</span><span class="n">NSTimeInterval</span><span class="p">)</span><span class="nv">playbackTime</span> <span class="nf">completionHandler</span><span class="p">:(</span><span class="kt">void</span><span class="p">(</span><span class="o">^</span><span class="p">)())</span><span class="nv">handler</span><span class="p">;</span>
</code></pre>
</div>

<h2 id="player-states">Player States</h2>

<p>The following are the available Player states.</p>

<h3 id="kpmediaplaybackstate">KPMediaPlaybackState</h3>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code><span class="k">typedef</span> <span class="nf">NS_ENUM</span><span class="p">(</span><span class="n">NSInteger</span><span class="p">,</span> <span class="n">KPMediaPlaybackState</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">KPMediaPlaybackStateUnknown</span><span class="p">,</span>
    <span class="n">KPMediaPlaybackStateLoaded</span><span class="p">,</span>
    <span class="n">KPMediaPlaybackStateReady</span><span class="p">,</span>
    <span class="cm">/* Playback is currently under way. */</span>
    <span class="n">KPMediaPlaybackStatePlaying</span><span class="p">,</span>
    <span class="cm">/* Playback is currently paused. */</span>
    <span class="n">KPMediaPlaybackStatePaused</span><span class="p">,</span>
    <span class="cm">/* Playback is currently ended. */</span>
    <span class="n">KPMediaPlaybackStateEnded</span><span class="p">,</span>
    <span class="c1">///@todo
</span>    <span class="cm">/* Playback is temporarily interrupted, perhaps because the buffer ran out of content. */</span>
    <span class="n">KPMediaPlaybackStateInterrupted</span><span class="p">,</span>
    <span class="cm">/* The movie player is currently seeking towards the end of the movie. */</span>
    <span class="n">KPMediaPlaybackStateSeekingForward</span><span class="p">,</span>
    <span class="cm">/* The movie player is currently seeking towards the beginning of the movie. */</span>
    <span class="n">KPMediaPlaybackStateSeekingBackward</span>
<span class="p">};</span>

</code></pre>
</div>

<h3 id="kpmedialoadstate">KPMediaLoadState</h3>

<div class="language-objective_c highlighter-rouge"><pre class="highlight"><code><span class="k">typedef</span> <span class="nf">NS_OPTIONS</span><span class="p">(</span><span class="n">NSUInteger</span><span class="p">,</span> <span class="n">KPMediaLoadState</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/* The load state is not known. */</span>
    <span class="n">KPMediaLoadStateUnknown</span>        <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="cm">/* The buffer has enough data that playback can begin, but it may run out of data before playback finishes. */</span>
    <span class="n">KPMediaLoadStatePlayable</span>       <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span>
    <span class="cm">/* Enough data has been buffered for playback to continue uninterrupted. */</span>
    <span class="n">KPMediaLoadStatePlaythroughOK</span>  <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">,</span> <span class="c1">// Playback will be automatically started in this state when shouldAutoplay is YES
</span>    <span class="cm">/* The buffering of data has stalled. */</span>
    <span class="n">KPMediaLoadStateStalled</span>        <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">,</span> <span class="c1">// Playback will be automatically paused in this state, if started
</span><span class="p">};</span>
</code></pre>
</div>


		
</article>


      </div>
    </div>

<!-- customer.io -->
<!--script type="text/javascript">
    var _cio = _cio || [];
    (function() {
      var a,b,c;a=function(f){return function(){_cio.push([f].
      concat(Array.prototype.slice.call(arguments,0)))}};b=["load","identify",
      "sidentify","track","page"];for(c=0;c<b.length;c++){_cio[b[c]]=a(b[c])};
      var t = document.createElement('script'),
          s = document.getElementsByTagName('script')[0];
      t.async = true;
      t.id    = 'cio-tracker';
      t.setAttribute('data-site-id', 'd52b0167909beb4a2cf0');
      t.src = 'https://assets.customer.io/assets/track.js';
      s.parentNode.insertBefore(t, s);
    })();
  </script-->
  <!-- marketo -->
  <script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('984-SDM-859');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = 'https://munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>

<!--script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5745bb1095edd5f5"></script-->
