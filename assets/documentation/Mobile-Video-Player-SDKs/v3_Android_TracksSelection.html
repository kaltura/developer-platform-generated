  <title>VPaaS - Video Platform as a Service | Kaltura</title>

  <meta name="description" content="VPaaS allows you to build cloud video services, supplies SDKs, and works on all devices, media workflows, and applications. Pay as you go. 
">
    <meta property="st:title" content="" >
    <meta property="st:published_at" content="">
  <!--link rel="stylesheet" href="/css/main.css"-->
  <!--link rel="canonical" href="http://localhost:4000/documentation/Mobile-Video-Player-SDKs/v3_Android_TracksSelection.html">
  <link rel="alternate" type="application/rss+xml" title="VPaaS - Video Platform as a Service | Kaltura" href="http://localhost:4000/feed.xml">
<link rel="sitemap" type="application/xml" title="Sitemap" href="http://localhost:4000/sitemap.xml" />
  
<link rel="stylesheet" type="text/css" href="http://localhost:4000/css/normalize.css">
<link rel="stylesheet" type="text/css" href="http://localhost:4000/css/webflow.css">
<link rel="stylesheet" type="text/css" href="http://localhost:4000/css/kaltura-dev-site.webflow.css">
<link rel="stylesheet" type="text/css" href="http://localhost:4000/css/syntax.css">
<link rel="stylesheet" type="text/css" href="http://localhost:4000/css/opentip.css">
<link rel="stylesheet" type="text/css" href="http://localhost:4000/css/moving-logo.css"-->

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
window.jQuery = window.jquery;
</script>
<!--script type="text/javascript" src="assets/js/jekyll-code-example-buttons.js"></script-->
<!--link rel="stylesheet" href="/css/highlightjs.css"-->
    <!--script src="assets/js/highlight.pack.js"></script-->
    <script>hljs.initHighlightingOnLoad();</script>
    
  <!--script type="text/javascript" src="https://use.typekit.net/rlx4cjm.js"></script-->
  <script type="text/javascript">
    try{Typekit.load();}catch(e){}
  </script>
  <!--script type="text/javascript" src="assets/js/modernizr.js"></script-->
  <link rel="apple-touch-icon" href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script type="text/javascript">
    var switchTo5x=true;
  </script>
  <script type="text/javascript">var switchTo5x=true;</script>

  
<!--script src="assets/js/country.js"></script-->

<!--script type="text/javascript" src="assets/js/jQuery.exLink/jquery.exLink.js"></script-->
<!--link rel="stylesheet" type="text/css" href="assets/js/jQuery.exLink/jquery.exLink.css"-->
<script type="text/javascript">
exLink.init({
    	parentElementPath: '.template-page-content-column .post-content',
 	linkWarning: false,
	hostCompare: true,
	noFollow: false,
	fancyBoxIgnore: true,
	gaTracking: true,
	gaTrackLabel: 'External Links',
	gaTrackOld: false,
	fileWarning: false
    });
	//turn all headings into clicable anchors:
    /*
	$('.post-content h1, .post-content h2, .post-content h3, .post-content h4, .post-content h5, .post-content h6').filter('[id]').each(function () {
	    $(this).html('<a href="#'+$(this).attr('id')+'" class="post-content" aria-hidden="true">'+$(this).text()+'</a>');
	});
	

	//build the "on this page" menu:
	var ToC =
	  "<nav role='navigation' class='table-of-contents'>" +
	    "<h2>On this page:</h2>" +
	    "<ul>";
	
	var newLine, el, title, link;
	var hasHeaders = false;
	$('.post-content h2').each(function() {
	  hasHeaders = true;
	  el = $(this);
	  title = el.text();
	  link = "documentation/Mobile-Video-Player-SDKs/v3_Android_TracksSelection.md#" + el.attr("id");
	
	  newLine =
	    "<li>" +
	      "<a href='" + link + "'>" +
	        title +
	      "</a>" +
	    "</li>";
	
	  ToC += newLine;
	
	});
	
	ToC +=
	   "</ul>" +
	  "</nav>";
	
	if (hasHeaders) $("div.post-content").prepend(ToC);
	*/
    	
	//back to top
	if ($('#back-to-top').length) {
    		var scrollTrigger = 100, // px
	        backToTop = function () {
	            var scrollTop = $(window).scrollTop();
	            if (scrollTop > scrollTrigger) {
	                $('#back-to-top').addClass('show');
	            } else {
	                $('#back-to-top').removeClass('show');
	            }
	        };
	    backToTop();
	    $(window).on('scroll', function () {
	        backToTop();
	    });
	    $('#back-to-top a:first-child').on('click', function (e) {
	        e.preventDefault();
	        $('html,body').animate({
	            scrollTop: 0
	        }, 700);
	    });
	}

</script>

<script src='https://www.google.com/recaptcha/api.js'></script>
<script>
function verify_recapcha()
{
	var isCaptchaValidated = false;
	var response = grecaptcha.getResponse();
	if(response.length == 0) {
	    isCaptchaValidated = false;
	    alert('Please confirm that you are a Human.');
	    return false;
	} else {
	    return true;
	}

}
</script>
<!--script type="text/javascript" src="assets/js/webflow.js"></script>
<script type="text/javascript" src="assets/js/opentip-jquery.js"></script-->
    <!--script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("176893769");
  </script-->

<!--link rel="stylesheet" type="text/css" href="assets/css/lity.min.css"-->
<!--script type="text/javascript" src="assets/js/lity.min.js"></script-->

  <!-- RTP tag -->
<script type='text/javascript'>
(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
})(window,document,"rtp","https://sjrtp3-cdn.marketo.com/rtp-api/v1/rtp.js","kaltura");
rtp('send','view');
rtp('get', 'campaign',true);
</script>
<!-- End of RTP tag -->



<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-KKRG75"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KKRG75');</script>
<!-- End Google Tag Manager -->

    <div class="page-content">
      <div class="wrapper">
          <!--link rel="stylesheet" href="/site.css"-->
<article>


<div class="w-section side-nav-section">
    <div class="w-container">
      <!--a href="#" data-ix="show-temp-page-nav-column" class="w-button w-clearfix mobilebtn">Topics<span class="fa fa-chevron-down" style="null"></span></a-->
      <div class="w-row body-columns">
        <div class="docs-contents">
          <div class="post-header">

            <!-- INSERT JEKYLL CONTENT HERE -->

          	<header class="post-header">
    			<h1 class="post-title"></h1>
  			</header>

			
			
			<div class="lastcommittable">
				<span>Updated: Tue Aug 8 13:28:22 2017</span>, By <span class="commit-author">Jess Portnoy</span> <a class="editgithub" href="https://github.com/kaltura/developer-platform-docs/tree/master/documentation/Mobile-Video-Player-SDKs/v3_Android_TracksSelection.md" target="_blank">Contribute to this page</a>
				<!--tr><td>Created on: Sun Jan 29 17:25:28 2017, By: Eliza Sapir</td></tr-->
				<!--tr><td>Last commit: Tue Aug 8 13:28:22 2017, By <span class="commit-author">Jess Portnoy</span></td></tr-->
			
				<!-- 
				
				<tr>
					<td>AnnaAleksandrowicz (1 commits) (<a href="mailto:Anna.Aleksandrowicz@kaltura.com">Anna.Aleksandrowicz@kaltura.com</a>)</td>
				</tr> -->

				<!-- 
				
				<tr>
					<td>Eliza Sapir (1 commits) (<a href="mailto:eliza.sapir@kaltura.com">eliza.sapir@kaltura.com</a>)</td>
				</tr> -->

				<!-- 
				
				<tr>
					<td>Jess Portnoy (3 commits) (<a href="mailto:jess.portnoy@kaltura.com">jess.portnoy@kaltura.com</a>)</td>
				</tr> -->

				<!--  -->

			</div>

			

		</div>

            <div class="post-content">
    		
    		<h2 id="tracks-selection">Tracks Selection</h2>

<p>This document describes the steps required for adding support for the multi-audio and captions functionality in your application on iOS devices.</p>

<p>If you want to change the video/audio quality or captions language, you’ll need to use tracks, which are easy to implement using the Kaltura Mobile Video Player SDK. To implement tracks, all you need to do is to listen to the event, receive the tracks data object, and populate your views with the object. When the desired track is selected, simply send us the selected track ID and we’ll implement the track selection for us.</p>

<h2 id="listening-to-the-player-event">Listening to the Player Event</h2>

<p>To learn how to listen to player events, simply follow the instructions in the <a href="/api-docs/Mobile-Video-Player-SDKs/v3_Android_EventsAndStates.html">Player States and Events</a> article.</p>

<p>To receive tracks, subscribe to the event called <a name="populateViews"><strong><em>TRACKS_AVAILABLE</em></strong>.</a> as follows:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code>	<span class="c1">//Subscribe to TRACKS_AVAILABLE event.</span>
 	<span class="n">player</span><span class="o">.</span><span class="na">addEventListener</span><span class="o">(</span><span class="k">new</span> <span class="n">PKEvent</span><span class="o">.</span><span class="na">Listener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onEvent</span><span class="o">(</span><span class="n">PKEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
                
                <span class="c1">//Cast event to PlayerEvent.TracksAvailable</span>
                <span class="n">PlayerEvent</span><span class="o">.</span><span class="na">TracksAvailable</span> <span class="n">tracksAvailable</span> <span class="o">=</span> <span class="o">(</span><span class="n">PlayerEvent</span><span class="o">.</span><span class="na">TracksAvailable</span><span class="o">)</span> <span class="n">event</span><span class="o">;</span>
                
                <span class="c1">//Get the tracks data object.</span>
                <span class="n">tracks</span> <span class="o">=</span> <span class="n">tracksAvailable</span><span class="o">.</span><span class="na">getPKTracks</span><span class="o">();</span>
                
                <span class="c1">//Populate your views using tracks.</span>
             	<span class="n">populateViews</span><span class="o">(</span><span class="n">tracks</span><span class="o">);</span>   
            <span class="o">}</span>
        <span class="o">},</span> <span class="n">PlayerEvent</span><span class="o">.</span><span class="na">Type</span><span class="o">.</span><span class="na">TRACKS_AVAILABLE</span><span class="o">);</span>
</code></pre>
</div>

<h2 id="pktracks-structure">PKTracks Structure</h2>

<p>The <a href="https://github.com/kaltura/playkit-android/blob/fa5144871597d6fcd03ccc541c85a94c485284b5/playkit/src/main/java/com/kaltura/playkit/PKTracks.java">PKTracks</a> object consists of three lists:</p>

<ul>
  <li>videoTracks</li>
  <li>audioTracks</li>
  <li>textTracks</li>
</ul>

<h3 id="basetrack">BaseTrack</h3>

<p>The base class is extended by the <a href="https://github.com/kaltura/playkit-android/blob/develop/playkit/src/main/java/com/kaltura/playkit/VideoTrack.java">VideoTrack</a>, the <a href="https://github.com/kaltura/playkit-android/blob/develop/playkit/src/main/java/com/kaltura/playkit/AudioTrack.java">AudioTrack</a>, and the <a href="https://github.com/kaltura/playkit-android/blob/develop/playkit/src/main/java/com/kaltura/playkit/TextTrack.java">TextTrack</a>.</p>

<p>The base class holds the uniqueId of the track and boolean isAdaptive, which should specify whether this track can support adaptive playback (also known as “Auto”).</p>

<p>The uniqueId is the ID that should be sent when you want to switch tracks; you’ll be able to see this ID in the example below.</p>

<h3 id="videotrack">VideoTrack</h3>

<p>The VideoTrack object holds data about single video tracks, including the:</p>

<ul>
  <li>bitrate</li>
  <li>width</li>
  <li>height</li>
</ul>

<h3 id="audiotrack">AudioTrack</h3>

<p>The AudioTrack object holds data about single audio tracks, including the:</p>

<ul>
  <li>bitrate</li>
  <li>language</li>
  <li>label</li>
</ul>

<h3 id="texttrack">TextTrack</h3>

<p>The TextTrack object is the captions/subtitle representation, which holds the folowing fields:</p>

<ul>
  <li>language</li>
  <li>label</li>
</ul>

<h2 id="example-of-populating-views-with-tracks">Example of Populating Views with Tracks</h2>

<p>Lets look at an example of how to populate a view with tracks in the application.</p>

<p>In this example, we’ll use an Android <a href="https://developer.android.com/guide/topics/ui/controls/spinner.html">Spinner</a>.</p>

<p>1 . First, create the xml:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code>	<span class="o">&lt;</span><span class="n">LinearLayout</span>
	<span class="nl">android:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"match_parent"</span>
    <span class="nl">android:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="nl">android:</span><span class="n">orientation</span><span class="o">=</span><span class="s">"vertical"</span>
	<span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Spinner</span>
    	<span class="nl">android:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/videoSpinner"</span>
    	<span class="nl">android:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
    	<span class="nl">android:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span> <span class="o">/&gt;</span>
    
	<span class="o">&lt;/</span><span class="n">LinearLayout</span><span class="o">&gt;</span>
</code></pre>
</div>
<p>2 . Next, create a custom adapter:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code>	<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TrackItemAdapter</span> <span class="kd">extends</span> <span class="n">ArrayAdapter</span><span class="o">&lt;</span><span class="n">TrackItem</span><span class="o">&gt;</span> <span class="o">{</span>

    	<span class="kd">private</span> <span class="n">Context</span> <span class="n">context</span><span class="o">;</span>
   	 <span class="kd">private</span> <span class="n">TrackItem</span><span class="o">[]</span> <span class="n">trackItems</span><span class="o">;</span>


	    <span class="kd">public</span> <span class="nf">TrackItemAdapter</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">textViewResourceId</span><span class="o">,</span> <span class="n">TrackItem</span><span class="o">[]</span> <span class="n">trackItems</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">textViewResourceId</span><span class="o">,</span> <span class="n">trackItems</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">context</span> <span class="o">=</span> <span class="n">context</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">trackItems</span> <span class="o">=</span> <span class="n">trackItems</span><span class="o">;</span>
  	  <span class="o">}</span>

    	<span class="nd">@Override</span>
    	<span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">TextView</span> <span class="n">label</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextView</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setTextColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">);</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">trackItems</span><span class="o">[</span><span class="n">position</span><span class="o">].</span><span class="na">getTrackName</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">label</span><span class="o">;</span>
  	  <span class="o">}</span>

	    <span class="nd">@Override</span>
  	  <span class="kd">public</span> <span class="n">View</span> <span class="nf">getDropDownView</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="o">,</span>
                                    <span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">TextView</span> <span class="n">label</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextView</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setTextColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">);</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">trackItems</span><span class="o">[</span><span class="n">position</span><span class="o">].</span><span class="na">getTrackName</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">label</span><span class="o">;</span>
   	 <span class="o">}</span>

    <span class="nd">@Override</span>
  	  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">trackItems</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
  	  <span class="o">}</span>
	<span class="o">}</span>
</code></pre>
</div>
<p>3 . You’ll also need to create a TrackItem, which is created based on the track data and passed into the TrackAdapter:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code>	<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TrackItem</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="n">String</span> <span class="n">uniqueId</span><span class="o">;</span>
    	<span class="kd">private</span> <span class="n">String</span> <span class="n">trackDescription</span><span class="o">;</span> 
    

    	<span class="kd">public</span> <span class="nf">TrackItem</span><span class="o">(</span><span class="n">String</span> <span class="n">trackDescription</span><span class="o">,</span> <span class="n">String</span> <span class="n">uniqueId</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">trackDescription</span> <span class="o">=</span> <span class="n">trackDescription</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">uniqueId</span> <span class="o">=</span> <span class="n">uniqueId</span><span class="o">;</span>
    	<span class="o">}</span>

    	<span class="kd">public</span> <span class="n">String</span> <span class="nf">getTrackName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">trackDescription</span><span class="o">;</span>
    	<span class="o">}</span>

    	<span class="kd">public</span> <span class="n">String</span> <span class="nf">getUniqueId</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">uniqueId</span><span class="o">;</span>
    	<span class="o">}</span>
	<span class="o">}</span>
</code></pre>
</div>
<h2 id="use-case-example">Use Case Example</h2>

<p>After creating the preparation code, you’re ready to dig into a track use case example. We’ll use the <a href="#populateViews"><strong>populateViews(tracks);</strong></a> created previously.</p>

<p>This example uses VideoTracks, but in general the workflow for other track types is similar.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code>	<span class="kd">private</span> <span class="kt">void</span> <span class="nf">populateViews</span><span class="o">(</span><span class="n">PKTracks</span> <span class="n">tracks</span><span class="o">){</span>
		<span class="n">prepareSpinner</span><span class="o">();</span>

		<span class="c1">//Create TrackItems for video track.</span>
        <span class="n">TrackItem</span><span class="o">[]</span> <span class="n">videoTrackItems</span> <span class="o">=</span> <span class="n">createVideoTrackItems</span><span class="o">(</span><span class="n">tracks</span><span class="o">.</span><span class="na">getVideoTracks</span><span class="o">());</span>
        
        <span class="c1">//Create adapter based on the newly created trackItems.</span>
        <span class="n">TrackItemAdapter</span> <span class="n">videoAdapter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrackItemAdapter</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">your_track_item_layout</span><span class="o">,</span> <span class="n">videoTrackItems</span><span class="o">);</span>
        <span class="c1">//Apply the adapter on spinner.</span>
        <span class="n">videoSpinner</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">videoAdapter</span><span class="o">);</span>	
        <span class="o">}</span>
    
    <span class="c1">//Just do the basic preparation stuff.</span>
	<span class="kd">private</span> <span class="kt">void</span> <span class="nf">prepareSpinner</span><span class="o">(){</span>  
		<span class="c1">//Get reference to the Spinner.</span>
		<span class="n">videoSpinner</span> <span class="o">=</span> <span class="o">(</span><span class="n">Spinner</span><span class="o">)</span> <span class="k">this</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">videoSpinner</span><span class="o">);</span>
       			
		<span class="c1">//Set itemSelected listener (just implement AdapterView.OnItemSelectedListener in your Activity)</span>
        <span class="n">videoSpinner</span><span class="o">.</span><span class="na">setOnItemSelectedListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	* Here we will create the TrackItem array based on videoTracks. 
	* If you have some filter logic on the track fields, do it here.
	*/</span>
	<span class="kd">private</span> <span class="n">TrackItem</span><span class="o">[]</span> <span class="nf">createVideoTrackItems</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">VideoTrack</span><span class="o">&gt;</span> <span class="n">videoTracks</span><span class="o">)</span> <span class="o">{</span>
		
		<span class="c1">//Create TrackItem array in size of the videoTracks.</span>
        <span class="n">TrackItem</span><span class="o">[]</span> <span class="n">trackItems</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrackItem</span><span class="o">[</span><span class="n">videoTracks</span><span class="o">.</span><span class="na">size</span><span class="o">()];</span>
        
        <span class="c1">//Iterate through the all video tracks.</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">videoTracks</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
               	
            <span class="n">VideoTrack</span> <span class="n">videoTrack</span> <span class="o">=</span> <span class="n">videoTracks</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            
            <span class="c1">//Give trackDescription default name.</span>
            <span class="n">String</span> <span class="n">trackDescription</span> <span class="o">=</span> <span class="s">"Auto"</span><span class="o">.</span>
            
            <span class="c1">//Check video track isAdaptive flag.</span>
            <span class="k">if</span><span class="o">(!</span><span class="n">videoTrack</span><span class="o">.</span><span class="na">isAdaptive</span><span class="o">()){</span>
            
            	<span class="c1">//If it is not adaptive, we will build the description based on the videoTrack bitrate.</span>
            	<span class="c1">//Otherwise we just use the "Auto" trackDescription.</span>
            	<span class="n">trackDescription</span> <span class="o">=</span> <span class="n">buildBitrateString</span><span class="o">(</span><span class="n">videoTrack</span><span class="o">.</span><span class="na">getBitrate</span><span class="o">());</span>    
            	     
            <span class="o">}</span>
            
            <span class="c1">//Create TrackItem object and place it into the array.</span>
            <span class="n">trackItems</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrackItem</span><span class="o">(</span><span class="n">trackDescription</span><span class="o">,</span> <span class="n">videoTrack</span><span class="o">.</span><span class="na">getUniqueId</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">trackItems</span><span class="o">;</span>
    <span class="o">}</span>
	
	<span class="c1">//Helper method to build readable bitrate string.</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">buildBitrateString</span><span class="o">(</span><span class="kt">long</span> <span class="n">bitrate</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">bitrate</span> <span class="o">==</span> <span class="n">Consts</span><span class="o">.</span><span class="na">NO_VALUE</span> <span class="o">?</span> <span class="s">""</span>
                <span class="o">:</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"%.2fMbit"</span><span class="o">,</span> <span class="n">bitrate</span> <span class="o">/</span> <span class="mi">1000000</span><span class="n">f</span><span class="o">);</span>
    <span class="o">}</span>

</code></pre>
</div>

<p>The last step is to actually change the track. Previously, you set the <code class="highlighter-rouge">onItemSelectedListener</code> to the spinner, so let’s implement that method and see how easy it is to switch between tracks.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code>	 
	 <span class="nd">@Override</span>
     <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onItemSelected</span><span class="o">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span> <span class="n">parent</span><span class="o">,</span> <span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="kt">long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">//Retrieve the selected track item from the adapter.</span>
            <span class="n">TrackItem</span> <span class="n">trackItem</span> <span class="o">=</span> <span class="o">(</span><span class="n">TrackItem</span><span class="o">)</span> <span class="n">parent</span><span class="o">.</span><span class="na">getItemAtPosition</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
            <span class="c1">//tell to the player, to switch track based on the user selection.</span>
            <span class="n">player</span><span class="o">.</span><span class="na">changeTrack</span><span class="o">(</span><span class="n">trackItem</span><span class="o">.</span><span class="na">getUniqueId</span><span class="o">());</span>
    <span class="o">}</span>
</code></pre>
</div>

<p>&lt;/br&gt;</p>

<h2 id="have-questions-or-need-help">Have Questions or Need Help?</h2>

<p>Check out the <a href="https://forum.kaltura.org/c/playkit">Kaltura Player SDK Forum</a> page for different ways of getting in touch.</p>

		
</article>


      </div>
    </div>

<!-- customer.io -->
<script type="text/javascript">
    var _cio = _cio || [];
    (function() {
      var a,b,c;a=function(f){return function(){_cio.push([f].
      concat(Array.prototype.slice.call(arguments,0)))}};b=["load","identify",
      "sidentify","track","page"];for(c=0;c<b.length;c++){_cio[b[c]]=a(b[c])};
      var t = document.createElement('script'),
          s = document.getElementsByTagName('script')[0];
      t.async = true;
      t.id    = 'cio-tracker';
      t.setAttribute('data-site-id', 'd52b0167909beb4a2cf0');
      t.src = 'https://assets.customer.io/assets/track.js';
      s.parentNode.insertBefore(t, s);
    })();
  </script>
  <!-- marketo -->
  <script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('984-SDM-859');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = 'https://munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>

<script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5745bb1095edd5f5"></script>
