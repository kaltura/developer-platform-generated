  <title>Integrating the Embedded Meetings Experience App</title>

  <meta name="description" content="VPaaS allows you to build cloud video services, supplies SDKs, and works on all devices, media workflows, and applications. Pay as you go. 
">
    <meta property="st:title" content="Integrating the Embedded Meetings Experience App" >
    <meta property="st:published_at" content="">

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>
window.jQuery = window.jquery;
</script>
  <script type="text/javascript">
    try{Typekit.load();}catch(e){}
  </script>
  <link rel="apple-touch-icon" href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script type="text/javascript">
    var switchTo5x=true;
  </script>
  <script type="text/javascript">var switchTo5x=true;</script>

  
<script type="text/javascript">
    	
	//back to top
	if ($('#back-to-top').length) {
    		var scrollTrigger = 100, // px
	        backToTop = function () {
	            var scrollTop = $(window).scrollTop();
	            if (scrollTop > scrollTrigger) {
	                $('#back-to-top').addClass('show');
	            } else {
	                $('#back-to-top').removeClass('show');
	            }
	        };
	    backToTop();
	    $(window).on('scroll', function () {
	        backToTop();
	    });
	    $('#back-to-top a:first-child').on('click', function (e) {
	        e.preventDefault();
	        $('html,body').animate({
	            scrollTop: 0
	        }, 700);
	    });
	}

</script>

<script src='https://www.google.com/recaptcha/api.js'></script>
<script>
function verify_recapcha()
{
	var isCaptchaValidated = false;
	var response = grecaptcha.getResponse();
	if(response.length == 0) {
	    isCaptchaValidated = false;
	    alert('Please confirm that you are a Human.');
	    return false;
	} else {
	    return true;
	}

}
</script>
<!--script type="text/javascript" src="assets/js/webflow.js"></script>
<script type="text/javascript" src="assets/js/opentip-jquery.js"></script-->
    <!--script type="text/javascript">
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
        heap.load("176893769");
  </script-->

<!--link rel="stylesheet" type="text/css" href="assets/css/lity.min.css"-->
<!--script type="text/javascript" src="assets/js/lity.min.js"></script-->

  <!-- RTP tag -->
<script type='text/javascript'>
(function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
c[a].a=i;c[a].e=e;var g=h.createElement("script");g.async=true;g.type="text/javascript";
g.src=f+'?aid='+i;var b=h.getElementsByTagName("script")[0];b.parentNode.insertBefore(g,b);
})(window,document,"rtp","https://sjrtp3-cdn.marketo.com/rtp-api/v1/rtp.js","kaltura");
rtp('send','view');
rtp('get', 'campaign',true);
</script>
<!-- End of RTP tag -->




    <div class="page-content">
      <div class="wrapper">
          <!--link rel="stylesheet" href="/site.css"-->
<article>


<div class="w-section side-nav-section">
    <div class="w-container">
      <!--a href="#" data-ix="show-temp-page-nav-column" class="w-button w-clearfix mobilebtn">Topics<span class="fa fa-chevron-down" style="null"></span></a-->
      <div class="w-row body-columns">
        <div class="docs-contents">
          <div class="post-header">

            <!-- INSERT JEKYLL CONTENT HERE -->

          	<header class="post-header">
    			<h1 class="post-title">Integrating the Embedded Meetings Experience App</h1>
  			</header>

			
			
			<div class="lastcommittable">
				<span>Updated: Tue Sep 28 06:22:06 2021</span>, By <span class="commit-author">Hunterpp</span> <a class="editgithub" href="https://github.com/kaltura-vpaas/developer-platform-docs/tree/master/documentation/Real-time-Video-Meetings-Experience/Integrating-the-Embedded-Meetings-Experience-App\ \ .md" target="_blank">Contribute to this page</a>
				<!--tr><td>Created on: Tue Sep 28 06:22:06 2021, By: Hunterpp</td></tr-->
				<!--tr><td>Last commit: Tue Sep 28 06:22:06 2021, By <span class="commit-author">Hunterpp</span></td></tr-->
			
				<!-- 
				
				<tr>
					<td>Hunterpp (1 commits) (<a href="mailto:hunter.peress@kaltura.com">hunter.peress@kaltura.com</a>)</td>
				</tr> -->

				<!--  -->

			</div>

			

		</div>

            <div class="post-content">
    		
		<p>Kaltura Meetings, via the acquisition of Newrow, allows for live video collaboration tools, such as classrooms, events, and webinars, to be built directly into your applications, using components of the Kaltura API.</p>

<p>This guide will walk you through the steps of creating a <strong>virtual meeting room URL</strong>, which you can embed into your webpage with an iFrame.</p>
      <h2 id="before-you-begin">
        
        
          Before You Begin <a href="#before-you-begin"></a>
        
        
      </h2>

<p>To use the Kaltura API, you’ll need a Kaltura account and credentials. The important credentials can be found in the <a href="https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings">Integration Settings</a> in your KMC.</p>

<p>You might want to download a <a href="https://developer.kaltura.com/api-docs/Client_Libraries/">Kaltura Client Library</a> of your choice, although you can also use the <a href="https://developer.kaltura.com/console">developer console</a> for all the operations mentioned below.</p>

<p>This integration will be using your KAF endpoint, which should contain your Partner ID. If you’re not sure whether you have a KAF endpoint or whether “Newrow” has been enabled on your account, speak to your account rep or email us at vpaas@kaltura.com.</p>
    
      <h2 id="examples-to-follow-along">
        
        
          Examples to follow along: <a href="#examples-to-follow-along"></a>
        
        
      </h2>

<p>The minimal application to run a meeting https://github.com/kaltura-vpaas/minimal-virtual-room-nodejs</p>

<p>An app to manage your meetings: https://github.com/kaltura-vpaas/liveroom_manager</p>
    
      <h2 id="overview">
        
        
          Overview <a href="#overview"></a>
        
        
      </h2>

<p>A virtual meeting room is represented as a <code class="language-plaintext highlighter-rouge">KalturaLocationScheduleResource</code>. A scheduled  session is represented by a <code class="language-plaintext highlighter-rouge">KalturaRecordScheduleEvent</code>. One resource can be used for many different events, but an event will only be associated with one resource. The room will be launched using an <strong>embed link that is made up of a Kaltura Session with specific configurations</strong>, all of which will be discussed below.</p>
    
      <h2 id="creating-an-admin-session">
        
        
          Creating an Admin Session <a href="#creating-an-admin-session"></a>
        
        
      </h2>

<p>A Kaltura Session is an identification string that authorizes calls to the Kaltura API. You’ll need one to create the resource and event objects. If you’re logged into the <a href="https://developer.kaltura.com">developer portal</a>, you’re already authenticated. However, if you’re calling the Kaltura API using a client library, you’ll need to create the string yourself using the <a href="https://developer.kaltura.com/console/service/session/action/start"><code class="language-plaintext highlighter-rouge">session.start</code></a> API.</p>

<p>You can find the necessary credentials in your KMC <a href="https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings">Integration Settings</a>. You’ll use your ADMIN Secret for this operation.</p>
    
      <h3 id="example">
        
        
          Example <a href="#example"></a>
        
        
      </h3>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$secret</span> <span class="o">=</span> <span class="s2">"xxxxx"</span>
  <span class="nv">$userId</span> <span class="o">=</span> <span class="s2">"your-email-address"</span><span class="p">;</span>
  <span class="nv">$type</span> <span class="o">=</span> <span class="nc">KalturaSessionType</span><span class="o">::</span><span class="no">ADMIN</span><span class="p">;</span>
  <span class="nv">$partnerId</span> <span class="o">=</span> <span class="mi">1234567</span><span class="p">;</span>
  <span class="nv">$expiry</span> <span class="o">=</span> <span class="mi">86400</span><span class="p">;</span>
</code></pre></div></div>

<p>You’ll set this KS on the Client that handles all the operations detailed below.</p>
    
      <h2 id="creating-a-resource">
        
        
          Creating a Resource <a href="#creating-a-resource"></a>
        
        
      </h2>

<p>A schedule resource is created using the <a href="https://developer.kaltura.com/console/service/scheduleResource/action/add"><code class="language-plaintext highlighter-rouge">scheduleResource.add</code></a> action, which will return a <code class="language-plaintext highlighter-rouge">KalturaLocationScheduleResource</code> object. 
The resource <em>must</em> have a name, and it should include <strong>tags</strong> of <code class="language-plaintext highlighter-rouge">vcprovider:newrow</code> in order to be recognized as a virtual meeting room.</p>

<p>Once created, the response will return an <code class="language-plaintext highlighter-rouge">id</code>, which you should hold on to. 
However, if you’ve lost track of it - no worries. You can see all of your scheduled resources by calling <a href="https://developer.kaltura.com/console/service/scheduleResource/action/list"><code class="language-plaintext highlighter-rouge">scheduleResource.list</code></a>.</p>

<p><strong>Note that you should be using an ADMIN Kaltura Session for this creation.</strong></p>
    
      <h3 id="required-parameters">
        
        
          Required Parameters <a href="#required-parameters"></a>
        
        
      </h3>

<ul>
  <li><strong>name</strong>: (string) room name</li>
  <li><strong>tags</strong>: <code class="language-plaintext highlighter-rouge">vcprovider:newrow</code></li>
</ul>
    
      <h3 id="optional-parameters">
        
        
          Optional Parameters <a href="#optional-parameters"></a>
        
        
      </h3>

<ul>
  <li><strong>systemName</strong>: (string)</li>
  <li><strong>description</strong>: (string)</li>
</ul>
    
      <h3 id="tags--adding-playlists">
        
        
          Tags / Adding Playlists <a href="#tags--adding-playlists"></a>
        
        
      </h3>

<p>Although the <code class="language-plaintext highlighter-rouge">tags</code> parameter is not <em>technically</em> required with this action, you must include tags of <code class="language-plaintext highlighter-rouge">vcprovider:newrow</code> in order to create a virtual meeting room and distinguish from other types of resources.</p>

<p>Tags can also include the URL for a logo or optional parameters for initializing the virtual room with a predefined playlist. Note that the playlist feature is not enabled by default.</p>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Type</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>custom_playlist_id</td>
      <td>integer</td>
      <td>Playlist ID to load in this resource</td>
    </tr>
    <tr>
      <td>custom_playlist_name</td>
      <td>string</td>
      <td>Playlist Name to load. Used only if Playlist ID was not passed</td>
    </tr>
    <tr>
      <td>custom_reset_playlist_instance</td>
      <td>boolean</td>
      <td><strong>1 (default):</strong> creates a new playlist instance if the ID is already loaded in the room. <strong>0:</strong> does not reset playlist instance</td>
    </tr>
    <tr>
      <td>custom_company_logo</td>
      <td>string</td>
      <td>URL-encoded string of the logo URL</td>
    </tr>
    <tr>
      <td>custom_redirect_url</td>
      <td>string</td>
      <td>URL-encoded string of the URL to redirect to after the participant leaves the room</td>
    </tr>
    <tr>
      <td>custom_rs_show_logo</td>
      <td>boolean</td>
      <td><strong>1 (default):</strong> show company logo in top toolbar. <strong>0:</strong> Hide company logo in top top toolbar</td>
    </tr>
  </tbody>
</table>
    
      <h3 id="example-1">
        
        
          Example <a href="#example-1"></a>
        
        
      </h3>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">$schedulePlugin</span> <span class="o">=</span> <span class="nc">KalturaScheduleClientPlugin</span><span class="o">::</span><span class="nf">get</span><span class="p">(</span><span class="nv">$client</span><span class="p">);</span>
    <span class="nv">$scheduleResource</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">KalturaLocationScheduleResource</span><span class="p">();</span>
    <span class="nv">$scheduleResource</span><span class="o">-&gt;</span><span class="n">description</span> <span class="o">=</span> <span class="s2">"My first meeting room"</span><span class="p">;</span>
    <span class="nv">$scheduleResource</span><span class="o">-&gt;</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"Room-1"</span><span class="p">;</span>
    <span class="nv">$scheduleResource</span><span class="o">-&gt;</span><span class="n">tags</span> <span class="o">=</span> <span class="s2">"vcprovider:newrow"</span><span class="p">;</span>

    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$schedulePlugin</span><span class="o">-&gt;</span><span class="n">scheduleResource</span><span class="o">-&gt;</span><span class="nf">add</span><span class="p">(</span><span class="nv">$scheduleResource</span><span class="p">);</span>
</code></pre></div></div>
    
      <h4 id="response-object">
        
        
          Response Object <a href="#response-object"></a>
        
        
      </h4>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100601</span><span class="p">,</span><span class="w">
  </span><span class="nl">"partnerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Room-1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My first meeting room"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vcprovider:newrow"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586100234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586100234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KalturaLocationScheduleResource"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h2 id="creating-an-event">
        
        
          Creating an Event <a href="#creating-an-event"></a>
        
        
      </h2>

<p>You’ll use the <a href="https://developer.kaltura.com/console/service/scheduleEvent/action/add"><code class="language-plaintext highlighter-rouge">scheduleEvent.add</code></a> action to create an event of type <code class="language-plaintext highlighter-rouge">KalturaRecordScheduleEvent</code>. This action must include a summary, startDate and endDate, and a recurrence type of NONE.</p>
    
      <h3 id="required-parameters-1">
        
        
          Required Parameters <a href="#required-parameters-1"></a>
        
        
      </h3>

<ul>
  <li><strong>startDate</strong>: (int) timestamp</li>
  <li><strong>endDate</strong>: (int) timestamp</li>
  <li><strong>recurrenceType</strong>: NONE [0]</li>
  <li><strong>summary</strong>: (string) event summary</li>
</ul>
    
      <h3 id="optional-parameters-1">
        
        
          Optional Parameters <a href="#optional-parameters-1"></a>
        
        
      </h3>

<ul>
  <li><strong>organizer</strong>: (string) name of the organizer (string)</li>
  <li><strong>templateEntryId</strong>: (string) the entry used for session recording</li>
  <li><strong>ownerId</strong>: (int) in the case that templateEntryId is empty, this user will now own the recording</li>
  <li><strong>referenceId</strong>: (string) third party’s corresponding event ID</li>
  <li><strong>location</strong>: (string) geographical location of the event</li>
  <li><strong>tags</strong>: (string) see below</li>
</ul>

<p>The creation of the event will return an <code class="language-plaintext highlighter-rouge">id</code>. Hold on to that as well. And once again, if you’ve lost track of it, you can use <a href="https://developer.kaltura.com/console/service/scheduleEvent/action/list"><code class="language-plaintext highlighter-rouge">scheduleEvent.list</code></a> to see all of your created events.</p>
    
      <h3 id="tags--event-settings">
        
        
          Tags / Event Settings <a href="#tags--event-settings"></a>
        
        
      </h3>

<p>An event can also include room settings, such as auto-recording, by passing  <strong>tags</strong> as comma-separated key-value-pairs. Tags are optional, and can also be set on the resource.
<strong>Note that any settings on the event will override those of the resource.</strong></p>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Type</th>
      <th>Default</th>
      <th>Other</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>custom_rec_auto_start</td>
      <td>boolean</td>
      <td><strong>0:</strong> Auto-start recording is disabled</td>
      <td><strong>1:</strong> Start recording automatically when instructor joins.  <strong>Note that session recordings will be as long as the event duration.</strong></td>
    </tr>
    <tr>
      <td>custom_rec_set_reminder</td>
      <td>boolean</td>
      <td><strong>0:</strong> Recording reminder is disabled</td>
      <td><strong>1:</strong> Enable recording reminder prompt once instructor has been in the room for two minutes</td>
    </tr>
    <tr>
      <td>custom_rs_show_participant</td>
      <td>boolean</td>
      <td><strong>1:</strong> Show participant list for students and guests</td>
      <td><strong>0:</strong> Hide participant list for students and guests</td>
    </tr>
    <tr>
      <td>custom_rs_show_invite</td>
      <td>boolean</td>
      <td><strong>1:</strong> Show invite option for moderators and instructors</td>
      <td><strong>0:</strong> Hide invite option for moderators and instructors</td>
    </tr>
    <tr>
      <td>custom_rs_show_chat</td>
      <td>boolean</td>
      <td><strong>1:</strong> Enable chat for students and guests</td>
      <td><strong>0:</strong> Disable chat for students and guests</td>
    </tr>
    <tr>
      <td>custom_rs_enable_guests_to_join</td>
      <td>boolean</td>
      <td><strong>1:</strong> Enable guests to join with invite link</td>
      <td><strong>0:</strong> Block guests from joining by invite link</td>
    </tr>
    <tr>
      <td>custom_rs_class_mode</td>
      <td>string</td>
      <td><strong>virtual_classroom:</strong> Set room to be in virtual meeting room mode, where users are automatically set to Live and prompted to activate webcams</td>
      <td><strong>webinar:</strong> Set room to webinar mode, where users are not live</td>
    </tr>
    <tr>
      <td>custom_rs_show_chat_moderators</td>
      <td>boolean</td>
      <td><strong>1:</strong> Enable moderator chat</td>
      <td><strong>0:</strong> Disable moderator chat</td>
    </tr>
    <tr>
      <td>custom_rs_show_chat_questions</td>
      <td>boolean</td>
      <td><strong>1:</strong> Enable Q&amp;A for students and guests</td>
      <td><strong>0:</strong> Disable Q&amp;A for students and guests</td>
    </tr>
    <tr>
      <td>custom_rs_show_language_selection</td>
      <td>boolean</td>
      <td><strong>1:</strong> Show “Select Language” in options menu</td>
      <td><strong>0:</strong> Hide “Select Language” in options menu</td>
    </tr>
    <tr>
      <td>custom_rs_enable_media_library</td>
      <td>boolean</td>
      <td><strong>1:</strong> Show “Video Library” in tools</td>
      <td><strong>0:</strong> Hide “Video Library” in tools</td>
    </tr>
    <tr>
      <td>custom_rs_hide_end_session</td>
      <td>boolean</td>
      <td><strong>0:</strong> Show “End Session” button, which ends the session for all participants</td>
      <td><strong>1:</strong> Hide “End Session” button</td>
    </tr>
    <tr>
      <td>custom_rs_hide_leave_session</td>
      <td>boolean</td>
      <td><strong>0:</strong> Show “Leave Session” button, which ends the session for the user</td>
      <td><strong>1:</strong> Hide “Leave Session” button</td>
    </tr>
  </tbody>
</table>
    
      <h4 id="language-settings">
        
        
          Language Settings <a href="#language-settings"></a>
        
        
      </h4>

<p>Adding a tag of <code class="language-plaintext highlighter-rouge">custom_rs_user_lang</code> will force the locale language in the room. Supported languages:</p>
<ul>
  <li>fr-FR French (France)</li>
  <li>de-DE German</li>
  <li>ko-KR Korean</li>
  <li>pt-BR Portuguese (Brazil)</li>
  <li>ja-JP Japanese</li>
  <li>en-US English (US)</li>
  <li>zh-CN Simplified Chinese (China)</li>
  <li>it-IT Italian</li>
  <li>es-LA Spanish</li>
  <li>he-IL Hebrew</li>
  <li><strong>en-VE</strong> (special locale for corporate-style events, where the education lingo is less relevant)</li>
</ul>
    
      <h3 id="example-2">
        
        
          Example <a href="#example-2"></a>
        
        
      </h3>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">$schedulePlugin</span> <span class="o">=</span> <span class="nc">KalturaScheduleClientPlugin</span><span class="o">::</span><span class="nf">get</span><span class="p">(</span><span class="nv">$client</span><span class="p">);</span>
    <span class="nv">$scheduleEvent</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">KalturaRecordScheduleEvent</span><span class="p">();</span>
    <span class="nv">$scheduleEvent</span><span class="o">-&gt;</span><span class="n">recurrenceType</span> <span class="o">=</span> <span class="nc">KalturaScheduleEventRecurrenceType</span><span class="o">::</span><span class="no">NONE</span><span class="p">;</span>
    <span class="nv">$scheduleEvent</span><span class="o">-&gt;</span><span class="n">startDate</span> <span class="o">=</span> <span class="mi">1586185200</span><span class="p">;</span>
    <span class="nv">$scheduleEvent</span><span class="o">-&gt;</span><span class="n">endDate</span> <span class="o">=</span> <span class="mi">1586188800</span><span class="p">;</span>
    <span class="nv">$scheduleEvent</span><span class="o">-&gt;</span><span class="n">summary</span> <span class="o">=</span> <span class="s2">"Tomorrow's Event"</span><span class="p">;</span>
    <span class="nv">$scheduleEvent</span><span class="o">-&gt;</span><span class="n">tags</span> <span class="o">=</span> <span class="s2">"custom_rec_auto_start:1,custom_rs_show_invite:1,custom_rs_user_lang:es-LA"</span><span class="p">;</span>

    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$schedulePlugin</span><span class="o">-&gt;</span><span class="n">scheduleEvent</span><span class="o">-&gt;</span><span class="nf">add</span><span class="p">(</span><span class="nv">$scheduleEvent</span><span class="p">);</span>
</code></pre></div></div>

<p>This event will take place on April 6th 2020 from 3-4pm GMT, with a Spanish interface. It will begin recording automatically and allows attendees to invite others.</p>
    
      <h4 id="response-object-1">
        
        
          Response Object <a href="#response-object-1"></a>
        
        
      </h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"blackoutConflicts"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3371011</span><span class="p">,</span><span class="w">
  </span><span class="nl">"partnerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567</span><span class="p">,</span><span class="w">
  </span><span class="nl">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tomorrow's Event "</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586186820</span><span class="p">,</span><span class="w">
  </span><span class="nl">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586190420</span><span class="p">,</span><span class="w">
  </span><span class="nl">"classificationType"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ownerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vpaas@kaltura.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
  </span><span class="nl">"recurrenceType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586113200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586113200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KalturaRecordScheduleEvent"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h2 id="creating-an-event-resource">
        
        
          Creating an Event Resource <a href="#creating-an-event-resource"></a>
        
        
      </h2>

<p>An event <em>must</em> be associated with a resource. As mentioned, the same resource (room) can be launched at many different times with different events. This allows you to keep specific resources inside a virtual room; for example, for the same class that is taught numerous times with the same lesson plan.</p>

<p>To associate a session with an event, use the <a href="https://developer.kaltura.com/console/service/scheduleEventResource/action/add"><code class="language-plaintext highlighter-rouge">scheduleEventResource.add</code></a> action. This is where you’ll need the resource Id and the event Id that you just created.</p>
    
      <h3 id="example-3">
        
        
          Example <a href="#example-3"></a>
        
        
      </h3>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$schedulePlugin</span> <span class="o">=</span> <span class="nc">KalturaScheduleClientPlugin</span><span class="o">::</span><span class="nf">get</span><span class="p">(</span><span class="nv">$client</span><span class="p">);</span>
  <span class="nv">$scheduleEventResource</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">KalturaScheduleEventResource</span><span class="p">();</span>
  <span class="nv">$scheduleEventResource</span><span class="o">-&gt;</span><span class="n">eventId</span> <span class="o">=</span> <span class="mi">3371011</span><span class="p">;</span>
  <span class="nv">$scheduleEventResource</span><span class="o">-&gt;</span><span class="n">resourceId</span> <span class="o">=</span> <span class="mi">1100601</span><span class="p">;</span>

  <span class="k">try</span> <span class="p">{</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$schedulePlugin</span><span class="o">-&gt;</span><span class="n">scheduleEventResource</span><span class="o">-&gt;</span><span class="nf">add</span><span class="p">(</span><span class="nv">$scheduleEventResource</span><span class="p">);</span>
    <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nc">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="nf">getMessage</span><span class="p">();</span>
  <span class="p">}</span>
</code></pre></div></div>

<p>This Scheduled Event will take place in Room-1 on April 6th 2020 at 3pm GMT.</p>
    
      <h4 id="response-object-2">
        
        
          Response Object <a href="#response-object-2"></a>
        
        
      </h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"eventId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3371011</span><span class="p">,</span><span class="w">
  </span><span class="nl">"resourceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1100601</span><span class="p">,</span><span class="w">
  </span><span class="nl">"partnerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2365491</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586148953</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1586148953</span><span class="p">,</span><span class="w">
  </span><span class="nl">"objectType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KalturaScheduleEventResource"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h2 id="creating-a-kaltura-session">
        
        
          Creating a Kaltura Session <a href="#creating-a-kaltura-session"></a>
        
        
      </h2>

<p>A virtual meeting room is authenticated by using a Kaltura Session (KS), which is what identifies the user and contains permissions.</p>

<p>We’ll create the KS by using the <a href="https://developer.kaltura.com/console/service/session/action/start">session.start</a> action. You’ll need:</p>
<ul>
  <li>Your <code class="language-plaintext highlighter-rouge">PartnerID</code> from the <a href="https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings">integration settings</a> in your KMC</li>
  <li>The <strong>USER</strong> <code class="language-plaintext highlighter-rouge">Secret</code> from the <a href="https://kmc.kaltura.com/index.php/kmcng/settings/integrationSettings">integration settings</a> in your KMC</li>
  <li><code class="language-plaintext highlighter-rouge">userId</code>, which can be any identifying string, but must be unique to each user in the room</li>
  <li><code class="language-plaintext highlighter-rouge">privileges</code> string, described below</li>
</ul>

<blockquote>
  <p>Tip: if you’re logged into the <a href="https://developer.kaltura.com">developer.portal</a>, you can find your credentials by clicking your account at the top right corner and then <strong>View Secrets</strong></p>
</blockquote>
    
      <h3 id="the-privileges-string">
        
        
          The Privileges String <a href="#the-privileges-string"></a>
        
        
      </h3>

<p>The virtual room settings will be passed into the <code class="language-plaintext highlighter-rouge">privileges</code> parameter, which is a comma-separated key-value string, much like the <strong>tags</strong> above. It contains information about context, privacy, and even user details.</p>

<p>In the context of virtual rooms, the string <em>must</em> include a <code class="language-plaintext highlighter-rouge">role</code>, and either a <code class="language-plaintext highlighter-rouge">resourceId</code> or an <code class="language-plaintext highlighter-rouge">eventId</code>. 
<strong>If only EventId is set,</strong> the resourceId will be retrieved automatically. 
<strong>If only resourceId is set</strong>, the outcome will be determined by the settings in <code class="language-plaintext highlighter-rouge">userContextualRole</code>. If the user is a moderator, this will allow entry to the room to prepare materials and content. 
For a regular attendee, entry will only be allowed if the moderator is already in the room.</p>
<blockquote>
  <p>Note: A user is able to join a Virtual Room directly by specifying the <code class="language-plaintext highlighter-rouge">resourceId</code> in the <code class="language-plaintext highlighter-rouge">privileges</code> parameter instead of <code class="language-plaintext highlighter-rouge">eventId</code>. Event creation is optional.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>eventId</td>
      <td>yes, if <code class="language-plaintext highlighter-rouge">resourceId</code> not set</td>
      <td>ID of the event</td>
    </tr>
    <tr>
      <td>resourceId</td>
      <td>yes, if <code class="language-plaintext highlighter-rouge">eventId</code> not set</td>
      <td>ID of the resource</td>
    </tr>
    <tr>
      <td>role</td>
      <td>yes</td>
      <td><code class="language-plaintext highlighter-rouge">viewerRole</code> for attendees / <code class="language-plaintext highlighter-rouge">adminRole</code> for moderator</td>
    </tr>
    <tr>
      <td>userContextualRole</td>
      <td>no</td>
      <td><strong>0</strong> for instructor / <strong>3</strong> for attendees/guests.</td>
    </tr>
    <tr>
      <td>firstName</td>
      <td>no</td>
      <td>first name to appear in participants list</td>
    </tr>
    <tr>
      <td>lastName</td>
      <td>no</td>
      <td>last name to appear in participants list</td>
    </tr>
  </tbody>
</table>

<p><strong>Note that <code class="language-plaintext highlighter-rouge">userContextualRole</code> is what determines a user’s permissions in the virtual room. If <code class="language-plaintext highlighter-rouge">userContextualRole</code> is not set, the role will be set to attendee/guest.</strong></p>
    
      <h3 id="examples">
        
        
          Examples <a href="#examples"></a>
        
        
      </h3>

<p>Below are examples of creating a Kaltura Session in various scenarios. Their expiry time, which is currently set to 86400ms (one day), can be changed to accommodate the security settings of your application.</p>
    
      <h4 id="an-attendee-joining-a-scheduled-event">
        
        
          An Attendee Joining A Scheduled Event <a href="#an-attendee-joining-a-scheduled-event"></a>
        
        
      </h4>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$secret</span> <span class="o">=</span> <span class="s2">"xxxxx"</span>
  <span class="nv">$userId</span> <span class="o">=</span> <span class="s2">"max@organization.com"</span><span class="p">;</span>
  <span class="nv">$type</span> <span class="o">=</span> <span class="nc">KalturaSessionType</span><span class="o">::</span><span class="no">USER</span><span class="p">;</span>
  <span class="nv">$partnerId</span> <span class="o">=</span> <span class="mi">1234567</span><span class="p">;</span>
  <span class="nv">$expiry</span> <span class="o">=</span> <span class="mi">86400</span><span class="p">;</span>
  <span class="nv">$privileges</span> <span class="o">=</span> <span class="s2">"eventId:3371011,role:viewerRole,userContextualRole:3,firstName:Max"</span><span class="p">;</span>

  <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="n">session</span><span class="o">-&gt;</span><span class="nf">start</span><span class="p">(</span><span class="nv">$secret</span><span class="p">,</span> <span class="nv">$userId</span><span class="p">,</span> <span class="nv">$type</span><span class="p">,</span> <span class="nv">$partnerId</span><span class="p">,</span> <span class="nv">$expiry</span><span class="p">,</span> <span class="nv">$privileges</span><span class="p">);</span>
</code></pre></div></div>
    
      <h4 id="a-moderator-joining-a-scheduled-event">
        
        
          A Moderator Joining A Scheduled Event <a href="#a-moderator-joining-a-scheduled-event"></a>
        
        
      </h4>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$secret</span> <span class="o">=</span> <span class="s2">"xxxxx"</span>
  <span class="nv">$userId</span> <span class="o">=</span> <span class="s2">"speaker@organization.com"</span><span class="p">;</span>
  <span class="nv">$type</span> <span class="o">=</span> <span class="nc">KalturaSessionType</span><span class="o">::</span><span class="no">USER</span><span class="p">;</span>
  <span class="nv">$partnerId</span> <span class="o">=</span> <span class="mi">1234567</span><span class="p">;</span>
  <span class="nv">$expiry</span> <span class="o">=</span> <span class="mi">86400</span><span class="p">;</span>
  <span class="nv">$privileges</span> <span class="o">=</span> <span class="s2">"eventId:3371011,role:adminRole,userContextualRole:0,lastName:Speaker"</span><span class="p">;</span>

  <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="n">session</span><span class="o">-&gt;</span><span class="nf">start</span><span class="p">(</span><span class="nv">$secret</span><span class="p">,</span> <span class="nv">$userId</span><span class="p">,</span> <span class="nv">$type</span><span class="p">,</span> <span class="nv">$partnerId</span><span class="p">,</span> <span class="nv">$expiry</span><span class="p">,</span> <span class="nv">$privileges</span><span class="p">);</span>
</code></pre></div></div>
    
      <h4 id="a-moderator-preparing-a-virtual-room-before-an-event">
        
        
          A Moderator Preparing a Virtual Room Before an Event <a href="#a-moderator-preparing-a-virtual-room-before-an-event"></a>
        
        
      </h4>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$secret</span> <span class="o">=</span> <span class="s2">"xxxxx"</span>
  <span class="nv">$userId</span> <span class="o">=</span> <span class="s2">"speaker@organization.com"</span><span class="p">;</span>
  <span class="nv">$type</span> <span class="o">=</span> <span class="nc">KalturaSessionType</span><span class="o">::</span><span class="no">USER</span><span class="p">;</span>
  <span class="nv">$partnerId</span> <span class="o">=</span> <span class="mi">1234567</span><span class="p">;</span>
  <span class="nv">$expiry</span> <span class="o">=</span> <span class="mi">86400</span><span class="p">;</span>
  <span class="nv">$privileges</span> <span class="o">=</span> <span class="s2">"resourceId:1100601,role:adminRole,userContextualRole:0"</span><span class="p">;</span>

  <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="n">session</span><span class="o">-&gt;</span><span class="nf">start</span><span class="p">(</span><span class="nv">$secret</span><span class="p">,</span> <span class="nv">$userId</span><span class="p">,</span> <span class="nv">$type</span><span class="p">,</span> <span class="nv">$partnerId</span><span class="p">,</span> <span class="nv">$expiry</span><span class="p">,</span> <span class="nv">$privileges</span><span class="p">);</span>
</code></pre></div></div>
    
      <h2 id="creating-the-virtual-meeting-room-url">
        
        
          Creating the Virtual Meeting Room URL <a href="#creating-the-virtual-meeting-room-url"></a>
        
        
      </h2>

<p>The URL structure for the meeting room looks like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[KAF-ENDPOINT]/virtualEvent/launch?ks=[KS]
</code></pre></div></div>
<p>where the KS is the Kaltura Session and your KAF endpoint is <code class="language-plaintext highlighter-rouge">[YOUR PARTNER ID].kaf.kaltura.com</code>, which must be preconfigured on your account. If you’re not sure whether newrow/KAF have already been set up on your account, email us at vpaas@kaltura.com.</p>
    
      <h3 id="example-4">
        
        
          Example <a href="#example-4"></a>
        
        
      </h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1234567.kaf.kaltura.com/virtualEvent/launch?ks=djJ8MjM2NTQ5MXxGbYGg6kZISSOJqeojxSl9-PRS78DLutFB3LZlbQef1n42zW5NHfkZKBmhHTTUe3aSf0eQg8FkA1SsKvsSz7evqm4VHzPP_Q0POLuKXKvuVDuSOjOeTBltskSaCRlclo1ZLHUXt4p1pMeQdo95jaY0ddYV1xJH7KMMCBNV-AMt2IqbwyWdTaeTlatZ0quTOACZ6uvzhq1v
</code></pre></div></div>

<p>You can navigate to this page directly, or you can embed it in your webpage using an iFrame, like so:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE HTML&gt;</span> 
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body&gt;</span>

  <span class="nt">&lt;iframe</span> <span class="na">src=</span><span class="s">"https://1234567.kaf.kaltura.com/virtualEvent/launch?ks=djJ8MjM2NTQ5MXxGbYGg6kZISSOJqeojxSl9-PRS78DLutFB3LZlbQef1n42zW5NHfkZKBmhHTTUe3aSf0eQg8FkA1SsKvsSz7evqm4VHzPP_Q0POLuKXKvuVDuSOjOeTBltskSaCRlclo1ZLHUXt4p1pMeQdo95jaY0ddYV1xJH7KMMCBNV-AMt2IqbwyWdTaeTlatZ0quTOACZ6uvzhq1v"</span> <span class="na">wmode=</span><span class="s">transparent</span> <span class="na">allow=</span><span class="s">"microphone *; camera *; speakers *; usermedia *; autoplay *; fullscreen *;"</span> <span class="na">width=</span><span class="s">"1100px"</span> <span class="na">height=</span><span class="s">"700px"</span><span class="nt">&gt;&lt;/iframe&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p><strong>Note that in the iFrame you’ll need to add <code class="language-plaintext highlighter-rouge">https://</code> to the beginning of the URL</strong></p>

<p>As a best practice, we recommend you embed the URL in an iFrame in the webpage, allowing your application to handle access to the given page. See more about security measures below.</p>
    
      <h2 id="security-and-privacy">
        
        
          Security and Privacy <a href="#security-and-privacy"></a>
        
        
      </h2>

<p>It is the responsibility of your application to manage the security and permissions for each meeting room. As mentioned, it is encouraged to embed the URLs within iFrames in your application, to ensure that users are authenticated before arriving at the given webpage.</p>

<p><strong>How can I ensure that users are not accessing the room outside of the event time?</strong>
A  <a href="Kaltura_API_Authentication_and_Security.html#the-kaltura-session">Kaltura Session</a> can be given an expiry of one day, one hour, even one minute. When the KS expires, that link will no longer be valid.</p>

<p><strong>Can somebody use and share the room URL by viewing the source of the page?</strong>
Reminder that userIds must be unique - meaning that a user who copies and shares an embed link would be kicked out of the room once somebody with an identical link joins the room.</p>

<p><strong>How can I prevent users from inviting others by using the Invite option in the room?</strong>
You can use <code class="language-plaintext highlighter-rouge">tags=custom_rs_show_invite:0 </code> on the resource or event creation to hide the Invite button in the room.</p>

<p><strong>How can I allow users to securely invite others to the room?</strong>
Assuming the Invite button is enabled, the invitation modal allows a password to be set on the invite link.</p>
    
      <h3 id="if-your-virtual-room-is-not-working-as-expected">
        
        
          If Your Virtual Room is Not Working As Expected <a href="#if-your-virtual-room-is-not-working-as-expected"></a>
        
        
      </h3>

<ol>
  <li>Make sure you created the resource with <code class="language-plaintext highlighter-rouge">tags = "vcprovider:newrow"</code></li>
  <li>Check with us to ensure the feature is enabled on your account</li>
  <li>Did you associate a resource with the event?</li>
  <li>Did you pass <code class="language-plaintext highlighter-rouge">role</code> in the KS privilege string?</li>
</ol>

<p>If you’re still experiencing trouble, email us at vpaas@kaltura.com.</p>
    
      <h2 id="session-analytics">
        
        
          Session Analytics <a href="#session-analytics"></a>
        
        
      </h2>

<p>Acquiring session analytics takes several steps, as outlined below:</p>
    
      <h3 id="first-get-the-session-that-took-place-in-the-particular-room--scheduleresource-of-interest">
        
        
          First, get the session that took place in the particular room / scheduleResource of interest <a href="#first-get-the-session-that-took-place-in-the-particular-room--scheduleresource-of-interest"></a>
        
        
      </h3>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>Method</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/analytics/sessions</td>
      <td>GET</td>
      <td>Get a list of sessions that occurred in a room</td>
    </tr>
  </tbody>
</table>

<p><strong>API Parameters</strong>
| Param Name  | type  | Is optional  | Description |
|—|—|—|—|
| third_party_room_id  | string  | optional  | Option to filter by third party room id (LTI Launch) - to get all room sessions.<br /><strong>For rooms created using the Kaltura API (see here), use the resource id created using the scheduleResource service.</strong> |
| page  | integer  | optional  | The current requested record set page<br />Start from <strong>0 to n</strong><br />Default is <strong>0</strong> |
| from_date  | string  | optional  | Option to filter sessions that started from specific date time. <br />Date format: <strong>Unix Timestamp</strong> |
| to_date  | string  | optional  | Option to filter sessions that started from specific date time. <br />Date format: <strong>Unix Timestamp</strong> |</p>

<p><strong>API JSON Example:</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"analytics/sessions"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"third_party_room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1522153700"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"to_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1522156000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>API URL-encoded JSON</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%7B%22method%22%3A%22GET%22%2C%22action%22%3A%22analytics%2Fsessions%22%2C%22params%22%3A%7B%22third_party_room_id%22%3A%221234567%22%2C%22from_date%22%3A%221522153700%22%2C%22to_date%22%3A%221522156000%22%7D%7D%0A
</code></pre></div></div>

<p><strong>Result:</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
     </span><span class="nl">"sessions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16772"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"490"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"third_party_room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"93839"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"room_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nir api test room"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"date_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1522153776"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"date_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1522155274"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.9667"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"room"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instructors"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">203</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">role</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">admin</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Denis Sicun</span><span class="se">\"</span><span class="s2">}}"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"participants_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> 
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">}</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
    
      <h3 id="next-get-the-session-attendee-count-of-the-session-acquired-in-previous-step">
        
        
          Next, get the session attendee count of the session acquired in previous step. <a href="#next-get-the-session-attendee-count-of-the-session-acquired-in-previous-step"></a>
        
        
      </h3>
<p>For customers integrating analytics into their own dashboards, make sure to include include_third_party_data = 1 to have SSO user id and email returned with the analytics.</p>

<table>
  <thead>
    <tr>
      <th>Action</th>
      <th>Method</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/analytics/sessions-attendees</td>
      <td>GET</td>
      <td>Get all attendees in a specific session</td>
    </tr>
  </tbody>
</table>

<p><strong>API Parameters</strong>
| Param Name  | type  | Is optional  | Description |
|—|—|—|—|
| session_id  | integer  | required  | Object id of the desired session |
| page  | integer  | optional  | The current requested record set page<br />Start from <strong>0 to n</strong><br />Default is <strong>0</strong> |
| from_date  | string  | optional  | Option to filter attendees that started from specific date time. <br />Date format: <strong>Unix Timestamp</strong> |
| to_date  | string  | optional  | Option to filter attendees that ended before specific date time. <br />Date format: <strong>Unix Timestamp</strong> |
| include_third_party_data  | integer  | optional  | Set to 1 to have the user id and email passed through the integrating 3rd party’s SSO, returned as well (lti_* fields) |</p>

<p><strong>API JSON Example:</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"analytics/session-attendees"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"session_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"16772"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"include_third_party_data"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>API URL-encoded JSON</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%7B%22method%22%3A%20%22GET%22%2C%22action%22%3A%20%22analytics%2Fsession-attendees%22%2C%22params%22%3A%7B%22session_id%22%3A%2216772%22%7D%7D%0A
</code></pre></div></div>

<p><strong>Result:</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
      </span><span class="nl">"session_attendance"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16772"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lti_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"denis"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Denis Sicun"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1610545059_c36129@lti-newrow.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lti_user_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"denis@newrow.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time_joined"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512657239"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"time_left"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1512657271"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5333"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"attention"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34%"</span><span class="w"> 
      </span><span class="p">},</span><span class="w">
        </span><span class="err">..</span><span class="w">
        </span><span class="err">..</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"total_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
		
</article>


      </div>
    </div>

<!-- customer.io -->
<!--script type="text/javascript">
    var _cio = _cio || [];
    (function() {
      var a,b,c;a=function(f){return function(){_cio.push([f].
      concat(Array.prototype.slice.call(arguments,0)))}};b=["load","identify",
      "sidentify","track","page"];for(c=0;c<b.length;c++){_cio[b[c]]=a(b[c])};
      var t = document.createElement('script'),
          s = document.getElementsByTagName('script')[0];
      t.async = true;
      t.id    = 'cio-tracker';
      t.setAttribute('data-site-id', 'd52b0167909beb4a2cf0');
      t.src = 'https://assets.customer.io/assets/track.js';
      s.parentNode.insertBefore(t, s);
    })();
  </script-->
  <!-- marketo -->
  <script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('984-SDM-859');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = 'https://munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>

<!--script type="text/javascript" src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5745bb1095edd5f5"></script-->
