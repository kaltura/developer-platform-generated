<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="677px" preserveAspectRatio="none" style="width:679px;height:677px;" version="1.1" viewBox="0 0 679 677" width="679px" zoomAndPan="magnify"><defs><filter height="300%" id="f2sume9ea10xt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="270.25" y="22.9951">Playing Sequence</text><rect fill="#FFFFFF" filter="url(#f2sume9ea10xt)" height="255.6016" style="stroke: #000000; stroke-width: 2.0;" width="654.5" x="13" y="265.7969"/><rect fill="#FFFFFF" height="68.9375" style="stroke: none; stroke-width: 1.0;" width="654.5" x="13" y="452.4609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45" x2="45" y1="68.5938" y2="92.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="45" x2="45" y1="92.5938" y2="133.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45" x2="45" y1="133.3984" y2="366.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="45" x2="45" y1="366.1953" y2="394.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45" x2="45" y1="394.1953" y2="528.3984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="45" x2="45" y1="528.3984" y2="569.2031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45" x2="45" y1="569.2031" y2="637.4688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="389.5" x2="389.5" y1="68.5938" y2="92.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="389.5" x2="389.5" y1="92.5938" y2="133.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="389.5" x2="389.5" y1="133.3984" y2="366.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="389.5" x2="389.5" y1="366.1953" y2="394.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="389.5" x2="389.5" y1="394.1953" y2="528.3984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="389.5" x2="389.5" y1="528.3984" y2="569.2031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="389.5" x2="389.5" y1="569.2031" y2="637.4688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="527.5" x2="527.5" y1="68.5938" y2="92.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="527.5" x2="527.5" y1="92.5938" y2="133.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="527.5" x2="527.5" y1="133.3984" y2="366.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="527.5" x2="527.5" y1="366.1953" y2="394.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="527.5" x2="527.5" y1="394.1953" y2="528.3984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="527.5" x2="527.5" y1="528.3984" y2="569.2031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="527.5" x2="527.5" y1="569.2031" y2="637.4688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="627.5" x2="627.5" y1="68.5938" y2="92.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="627.5" x2="627.5" y1="92.5938" y2="133.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="627.5" x2="627.5" y1="133.3984" y2="366.1953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="627.5" x2="627.5" y1="366.1953" y2="394.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="627.5" x2="627.5" y1="394.1953" y2="528.3984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="627.5" x2="627.5" y1="528.3984" y2="569.2031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="627.5" x2="627.5" y1="569.2031" y2="637.4688"/><rect fill="#FEFECE" filter="url(#f2sume9ea10xt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="23" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="30" y="53.292">App</text><rect fill="#FEFECE" filter="url(#f2sume9ea10xt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="23" y="636.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="30" y="656.4639">App</text><rect fill="#FEFECE" filter="url(#f2sume9ea10xt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="322.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="329.5" y="53.292">ContentManager</text><rect fill="#FEFECE" filter="url(#f2sume9ea10xt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="322.5" y="636.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="329.5" y="656.4639">ContentManager</text><rect fill="#FEFECE" filter="url(#f2sume9ea10xt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="466.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="473.5" y="53.292">PlayKitManager</text><rect fill="#FEFECE" filter="url(#f2sume9ea10xt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="466.5" y="636.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="473.5" y="656.4639">PlayKitManager</text><rect fill="#FEFECE" filter="url(#f2sume9ea10xt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="598.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="605.5" y="53.292">Player</text><rect fill="#FEFECE" filter="url(#f2sume9ea10xt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="598.5" y="636.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="605.5" y="656.4639">Player</text><polygon fill="#A80036" points="377.5,80.5938,387.5,84.5938,377.5,88.5938,381.5,84.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45.5" x2="383.5" y1="84.5938" y2="84.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="265.25" y="116.8042">Downloading HLS stream</text><polygon fill="#A80036" points="56.5,150.5313,46.5,154.5313,56.5,158.5313,52.5,154.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="50.5" x2="388.5" y1="154.5313" y2="154.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="62.5" y="149.4653">playback url</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="45.5" x2="87.5" y1="183.6641" y2="183.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="87.5" x2="87.5" y1="183.6641" y2="196.6641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="46.5" x2="87.5" y1="196.6641" y2="196.6641"/><polygon fill="#A80036" points="56.5,192.6641,46.5,196.6641,56.5,200.6641,52.5,196.6641" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="52.5" y="178.5981">Create media config from playback url</text><polygon fill="#A80036" points="515.5,246.7969,525.5,250.7969,515.5,254.7969,519.5,250.7969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45.5" x2="521.5" y1="250.7969" y2="250.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="326" x="52.5" y="245.731">PlayKitManager.shared.loadPlayer(pluginConfig: nil)</text><path d="M13,265.7969 L77,265.7969 L77,272.7969 L67,282.7969 L13,282.7969 L13,265.7969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="255.6016" style="stroke: #000000; stroke-width: 2.0;" width="654.5" x="13" y="265.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="278.8638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="92" y="278.0073">[successful case]</text><polygon fill="#A80036" points="56.5,325.0625,46.5,329.0625,56.5,333.0625,52.5,329.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="50.5" x2="526.5" y1="329.0625" y2="329.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="62.5" y="323.9966">Player</text><polygon fill="#A80036" points="377.5,354.1953,387.5,358.1953,377.5,362.1953,381.5,358.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45.5" x2="383.5" y1="358.1953" y2="358.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="52.5" y="353.1294">ContentManager.shared.start(completionHandler)</text><polygon fill="#A80036" points="56.5,411.3281,46.5,415.3281,56.5,419.3281,52.5,415.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="50.5" x2="388.5" y1="415.3281" y2="415.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="62.5" y="410.2622">completionHandler</text><polygon fill="#A80036" points="616,440.4609,626,444.4609,616,448.4609,620,444.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45.5" x2="622" y1="444.4609" y2="444.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="52.5" y="439.395">player.prepare(mediaConfig)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="667.5" y1="453.4609" y2="453.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153" x="18" y="463.6714">[failed to create player]</text><polygon fill="#A80036" points="56.5,509.3984,46.5,513.3984,56.5,517.3984,52.5,513.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="50.5" x2="526.5" y1="513.3984" y2="513.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="62.5" y="508.3325">throw error</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="298.75" y="552.6089">Play until end</text><polygon fill="#A80036" points="616,586.3359,626,590.3359,616,594.3359,620,590.3359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45.5" x2="622" y1="590.3359" y2="590.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="52.5" y="585.27">player.destroy()</text><polygon fill="#A80036" points="377.5,615.4688,387.5,619.4688,377.5,623.4688,381.5,619.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="45.5" x2="383.5" y1="619.4688" y2="619.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="52.5" y="614.4028">ContentManager.shared.stop()</text><!--
@startuml playing-sequence

title Playing Sequence

App -> ContentManager

... Downloading HLS stream ...

App <- - ContentManager : playback url
App -> App : Create media config from playback url
|||
App -> PlayKitManager : PlayKitManager.shared.loadPlayer(pluginConfig: nil)

alt successful case
    |||
    App <- - PlayKitManager : Player
    App -> ContentManager : ContentManager.shared.start(completionHandler)
    ...
    App <- - ContentManager : completionHandler
    App -> Player : player.prepare(mediaConfig)
else failed to create player
    |||
    App <- - PlayKitManager : throw error
end

... Play until end ...

App -> Player : player.destroy()

App -> ContentManager : ContentManager.shared.stop()

@enduml

PlantUML version 1.2019.03(Sun Mar 10 07:04:44 EDT 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.7.0_131-b00
Operating System: Linux
OS Version: 3.13.0-76-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>